; PL/M-80 Compiler Output - MON1
; Target: Z80
; Generated by uplm80

	.Z80


; Module initialization code
	LD	HL,(6)
	LD	SP,HL
	CALL MAIN
	JP	0
	EXTRN	MON1

; Procedure PRINTCHAR
PRINTCHAR:
	LD C,2
	LD E,A
	JP 5

; Procedure PRINTSTR
PRINTSTR:
	LD (??AUTO+8),HL
	LD C,9
	EX DE,HL
	JP 5

; Procedure MAIN
MAIN:
	LD A,5AH
	LD (??AUTO+6),A
	LD L,A
	LD H,0
	LD C,4
??SHR0001:
	DEC C
	JP M,??SHRE0002
	OR A
	LD A,H
	RRA
	LD H,A
	LD A,L
	RRA
	LD L,A
	JR ??SHR0001
??SHRE0002:
	LD A,L
	LD (??AUTO+7),A
	CP 5
	JR NZ,??ELSE0003
	LD HL,@MAIN$MSGOK
	CALL PRINTSTR
	JR ??ENDIF0004
??ELSE0003:
	LD HL,@MAIN$MSGFAIL
	CALL PRINTSTR
??ENDIF0004:
	LD HL,@MAIN$MSGCRLF
	JR PRINTSTR

; Data segment
CONOUT:	EQU	2
PRTSTR:	EQU	9
@MAIN$MSGOK:
	DB	'OK$'
@MAIN$MSGFAIL:
	DB	'FAIL$'
@MAIN$MSGCRLF:
	DB	0DH
	DB	0AH
	DB	'$'

; Shared automatic storage (10 bytes)
??AUTO:
	DS	10

; End of program data
??MEMORY:

	END
