; PL/M-80 Compiler Output - MON1
; Target: Z80
; Generated by uplm80

	.Z80


; Module initialization code
	LD	HL,(6)
	LD	SP,HL
	CALL MAIN
	JP	0
	EXTRN	MON1

; Procedure PRINTSTR
PRINTSTR:
	LD (??AUTO+7),HL
	LD C,9
	EX DE,HL
	JP 5

; Procedure MAIN
MAIN:
	LD A,5
	LD (??AUTO+4),A
	LD L,A
	LD H,0
	ADD HL,HL
	ADD HL,HL
	ADD HL,HL
	ADD HL,HL
	LD (??AUTO+5),HL
	LD DE,50H
	CALL ??SUBDE
	LD A,L
	OR H
	JR NZ,??ELSE0001
	LD HL,@MAIN$MSGOK
	CALL PRINTSTR
	JR ??ENDIF0002
??ELSE0001:
	LD HL,@MAIN$MSGFAIL
	CALL PRINTSTR
??ENDIF0002:
	RET

; Runtime library
; PL/M-80 Runtime Library
??SUBDE:
; 16-bit subtract: HL = HL - DE (Z80)
; Input: HL, DE
; Output: HL = HL - DE, flags set
	OR	A		; Clear carry
	SBC	HL,DE
	RET

; Data segment
PRTSTR:	EQU	9
@MAIN$MSGOK:
	DB	'OK$'
@MAIN$MSGFAIL:
	DB	'FAIL$'

; Shared automatic storage (9 bytes)
??AUTO:
	DS	9

; End of program data
??MEMORY:

	END
