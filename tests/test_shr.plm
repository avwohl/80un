/* Test SHR operation */
MON1: PROCEDURE(FUNC, PARM) EXTERNAL;
    DECLARE FUNC BYTE, PARM ADDRESS;
END MON1;
DECLARE CONOUT LITERALLY '2';
DECLARE PRTSTR LITERALLY '9';

PRINTCHAR: PROCEDURE(C);
    DECLARE C BYTE;
    CALL MON1(CONOUT, C);
END PRINTCHAR;

PRINTSTR: PROCEDURE(S);
    DECLARE S ADDRESS;
    CALL MON1(PRTSTR, S);
END PRINTSTR;

MAIN: PROCEDURE;
    DECLARE MSG$OK DATA('OK$');
    DECLARE MSG$FAIL DATA('FAIL$');
    DECLARE MSG$CRLF DATA(13, 10, '$');
    DECLARE X BYTE;
    DECLARE Y BYTE;
    
    /* Test: SHR(0x5A, 4) should be 0x05 */
    X = 5AH;
    Y = SHR(X, 4);
    
    IF Y = 05H THEN
        CALL PRINTSTR(.MSG$OK);
    ELSE
        CALL PRINTSTR(.MSG$FAIL);
    CALL PRINTSTR(.MSG$CRLF);
END MAIN;
CALL MAIN;
