; PL/M-80 Compiler Output - MON1
; Target: Z80
; Generated by uplm80

	.Z80


; Module initialization code
	LD	HL,(6)
	LD	SP,HL
	CALL MAIN
	JP	0
	EXTRN	MON1

; Procedure PRINTSTR
PRINTSTR:
	LD (??AUTO+11),HL
	LD C,9
	EX DE,HL
	JP 5

; Procedure MAIN
MAIN:
	LD A,1
	LD (??AUTO+10),A
	LD HL,0
	LD (??AUTO+6),HL
	LD HL,1
	LD (??AUTO+8),HL
	LD DE,(??AUTO+8)
	LD HL,(??AUTO+6)
	CALL ??SUBDE
	JR C,??ENDIF0002
	XOR A
	LD (??AUTO+10),A
??ENDIF0002:
	LD HL,1
	LD (??AUTO+6),HL
	LD HL,0
	LD (??AUTO+8),HL
	LD DE,(??AUTO+8)
	LD HL,(??AUTO+6)
	CALL ??SUBDE
	JR NC,??ENDIF0004
	XOR A
	LD (??AUTO+10),A
??ENDIF0004:
	LD HL,1
	LD (??AUTO+6),HL
	LD HL,8000H
	LD (??AUTO+8),HL
	LD DE,(??AUTO+8)
	LD HL,(??AUTO+6)
	CALL ??SUBDE
	JR C,??ENDIF0006
	XOR A
	LD (??AUTO+10),A
??ENDIF0006:
	LD HL,1
	LD (??AUTO+6),HL
	LD HL,0
	LD (??AUTO+8),HL
	LD DE,(??AUTO+8)
	LD HL,(??AUTO+6)
	CALL ??SUBDE
	JR C,??SKIP0009
	LD A,L
	OR H
	JR NZ,??ENDIF0008
??SKIP0009:
	XOR A
	LD (??AUTO+10),A
??ENDIF0008:
	LD HL,1
	LD (??AUTO+6),HL
	LD HL,1
	LD (??AUTO+8),HL
	LD DE,(??AUTO+8)
	LD HL,(??AUTO+6)
	CALL ??SUBDE
	JR NC,??ENDIF0011
	XOR A
	LD (??AUTO+10),A
??ENDIF0011:
	LD HL,0
	LD (??AUTO+6),HL
	LD HL,1
	LD (??AUTO+8),HL
	LD DE,(??AUTO+8)
	LD HL,(??AUTO+6)
	CALL ??SUBDE
	JR C,??ENDIF0013
	LD A,L
	OR H
	JR Z,??ENDIF0013
	XOR A
	LD (??AUTO+10),A
??ENDIF0013:
	LD A,(??AUTO+10)
	OR A
	JR Z,??ELSE0014
	LD HL,@MAIN$MSGOK
	CALL PRINTSTR
	JR ??ENDIF0015
??ELSE0014:
	LD HL,@MAIN$MSGFAIL
	CALL PRINTSTR
??ENDIF0015:
	LD HL,@MAIN$MSGCRLF
	JP PRINTSTR

; Runtime library
; PL/M-80 Runtime Library
??SUBDE:
; 16-bit subtract: HL = HL - DE (Z80)
; Input: HL, DE
; Output: HL = HL - DE, flags set
	OR	A		; Clear carry
	SBC	HL,DE
	RET

; Data segment
PRTSTR:	EQU	9
@MAIN$MSGOK:
	DB	'OK$'
@MAIN$MSGFAIL:
	DB	'FAIL$'
@MAIN$MSGCRLF:
	DB	0DH
	DB	0AH
	DB	'$'

; Shared automatic storage (13 bytes)
??AUTO:
	DS	13

; End of program data
??MEMORY:

	END
