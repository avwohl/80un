; PL/M-80 Compiler Output - MAIN, MON1, MODULE, MODULE, MODULE, MODULE, MODULE, MODULE, MODULE, MODULE
; Target: Z80
; Generated by uplm80

	.z80

	public	FCBPTR
	public	IFCBPTR
	public	OFCBPTR
	public	DMAPTR
	public	INBUFPTR
	public	INBUFSIZE
	public	INBUFPOS
	public	INBUFEND
	public	OUTBUFPTR
	public	OUTBUFSIZE
	public	OUTBUFPOS
	public	BITBUFFER
	public	BITSLEFT
	public	HUFFTREEPTR
	public	HUFFNODES
	public	LZWPREFIXPTR
	public	LZWSUFFIXPTR
	public	LZWNEXTCODE
	public	LZWCODESIZE
	public	LZWMAXBITS
	public	RINGPTR
	public	RINGPOS
	public	WORKPTR
	public	WORKLEN
	public	FILECOUNT
	public	ERRORFLAG
	public	INPUTLIMIT
	extrn	IFCBPTR
	extrn	OFCBPTR
	extrn	INBUFPTR
	extrn	INBUFSIZE
	extrn	INBUFPOS
	extrn	INBUFEND
	extrn	OUTBUFPTR
	extrn	OUTBUFSIZE
	extrn	OUTBUFPOS
	extrn	INPUTLIMIT
	extrn	BITBUFFER
	extrn	BITSLEFT
	public	RLEPREV
	public	RLECOUNT
	public	RLEACTIVE
	extrn	HUFFTREEPTR
	extrn	HUFFNODES
	extrn	INPUTLIMIT
	extrn	LZWPREFIXPTR
	extrn	LZWSUFFIXPTR
	extrn	LZWNEXTCODE
	extrn	LZWCODESIZE
	extrn	LZWMAXBITS
	extrn	WORKPTR
	extrn	WORKLEN
	extrn	INPUTLIMIT
	extrn	INBUFPTR
	extrn	INBUFPOS
	extrn	INBUFEND
	extrn	OUTBUFPTR
	extrn	OUTBUFPOS
	extrn	OFCBPTR
	extrn	OUTBUFPOS
	extrn	INPUTLIMIT
	extrn	FILECOUNT
	extrn	HUFFTREEPTR
	extrn	HUFFNODES
	extrn	LZWPREFIXPTR
	extrn	LZWSUFFIXPTR
	extrn	LZWNEXTCODE
	extrn	LZWCODESIZE
	extrn	LZWMAXBITS
	extrn	FCBPTR
	extrn	IFCBPTR
	extrn	OFCBPTR
	extrn	DMAPTR
	extrn	INBUFPTR
	extrn	INBUFPOS
	extrn	INBUFEND
	extrn	OUTBUFPOS
	extrn	INPUTLIMIT
	extrn	FILECOUNT
	extrn	INBUFPTR
	extrn	INBUFEND
	extrn	OUTBUFPTR
	extrn	OUTBUFPOS
	extrn	FCBPTR
	extrn	IFCBPTR
	extrn	OFCBPTR
	extrn	DMAPTR
	extrn	INBUFPTR
	extrn	INBUFSIZE
	extrn	INBUFPOS
	extrn	INBUFEND
	extrn	OUTBUFPTR
	extrn	OUTBUFSIZE
	extrn	OUTBUFPOS
	extrn	HUFFTREEPTR
	extrn	LZWPREFIXPTR
	extrn	LZWSUFFIXPTR
	extrn	RINGPTR
	extrn	WORKPTR
	extrn	FILECOUNT
	extrn	INPUTLIMIT
	extrn	HEAPBASE

; Module initialization
	ld	hl,(6)
	ld	sp,hl
	call	MAIN
	jp	0

; Module: MON1

	public	PRINTCHAR
; Procedure PRINTCHAR
PRINTCHAR:
	ld	(??AUTO+143),a
	ld	c,2
	ld	a,(??AUTO+143)
	ld	e,a
	call	5
	ret

; Module: MON1

	public	CRLF
; Procedure CRLF
CRLF:
	ld	a,0DH
	call	PRINTCHAR
	ld	a,0AH
	call	PRINTCHAR
	ret

; Module: MON1

	public	PRINTSTR
; Procedure PRINTSTR
PRINTSTR:
	ld	(??AUTO+140),hl
	ld	c,9
	ld	hl,(??AUTO+140)
	ex	de,hl
	call	5
	ret

; Module: MON1

	public	PRINTHEX
; Procedure PRINTHEX
PRINTHEX:
	ld	(??AUTO+140),a
	ld	hl,@PRINTHEX$HEX
	push	hl
	ld	a,(??AUTO+140)
	ld	l,a
	ld	h,0
	ld	c,4
??SHR0001:
	dec	c
	jp	m,??SHRE0002
	or	a
	ld	a,h
	rra
	ld	h,a
	ld	a,l
	rra
	ld	l,a
	JR ??SHR0001
??SHRE0002:
	pop	de
	add	hl,de
	ld	a,(hl)
	call	PRINTCHAR
	ld	a,(??AUTO+140)
	and	0FH
	ld	l,a
	ld	h,0
	ld	de,@PRINTHEX$HEX
	add	hl,de
	ld	a,(hl)
	call	PRINTCHAR
	ret

; Module: MON1

	public	PRINTNUM
; Procedure PRINTNUM
PRINTNUM:
	ld	(??AUTO+0),hl
	xor	a
	ld	(??AUTO+3),a
	xor	a
	ld	(??AUTO+2),a
??WHILE0003:
	ld	hl,(??AUTO+0)
	push	hl
	ld	hl,2710H
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??WEND0004
	ld	a,(??AUTO+2)
	add	a,1
	ld	(??AUTO+2),a
	ld	hl,(??AUTO+0)
	ld	de,2710H
	call	??subde
	ld	(??AUTO+0),hl
	JR ??WHILE0003
??WEND0004:
	ld	a,(??AUTO+2)
    OR A
	jp	c,??ENDIF0006
	jp	z,??ENDIF0006
	ld	a,30H
	ld	b,a
	ld	a,(??AUTO+2)
	add	a,b
	call	PRINTCHAR
	ld	a,1
	ld	(??AUTO+3),a
??ENDIF0006:
	xor	a
	ld	(??AUTO+2),a
??WHILE0007:
	ld	hl,(??AUTO+0)
	push	hl
	ld	hl,03E8H
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??WEND0008
	ld	a,(??AUTO+2)
	add	a,1
	ld	(??AUTO+2),a
	ld	hl,(??AUTO+0)
	ld	de,03E8H
	call	??subde
	ld	(??AUTO+0),hl
	JR ??WHILE0007
??WEND0008:
	ld	a,(??AUTO+2)
    OR A
	jp	c,??SKIP0012
	jp	z,??SKIP0012
	JR ??ORTRUE0011
??SKIP0012:
	ld	a,(??AUTO+3)
	or	a
	jp	z,??ENDIF0010
??ORTRUE0011:
	ld	a,30H
	ld	b,a
	ld	a,(??AUTO+2)
	add	a,b
	call	PRINTCHAR
	ld	a,1
	ld	(??AUTO+3),a
??ENDIF0010:
	xor	a
	ld	(??AUTO+2),a
??WHILE0013:
	ld	hl,(??AUTO+0)
	push	hl
	ld	hl,64H
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??WEND0014
	ld	a,(??AUTO+2)
	add	a,1
	ld	(??AUTO+2),a
	ld	hl,(??AUTO+0)
	ld	de,64H
	call	??subde
	ld	(??AUTO+0),hl
	JR ??WHILE0013
??WEND0014:
	ld	a,(??AUTO+2)
    OR A
	jp	c,??SKIP0018
	jp	z,??SKIP0018
	JR ??ORTRUE0017
??SKIP0018:
	ld	a,(??AUTO+3)
	or	a
	jp	z,??ENDIF0016
??ORTRUE0017:
	ld	a,30H
	ld	b,a
	ld	a,(??AUTO+2)
	add	a,b
	call	PRINTCHAR
	ld	a,1
	ld	(??AUTO+3),a
??ENDIF0016:
	xor	a
	ld	(??AUTO+2),a
??WHILE0019:
	ld	hl,(??AUTO+0)
	push	hl
	ld	hl,0AH
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??WEND0020
	ld	a,(??AUTO+2)
	add	a,1
	ld	(??AUTO+2),a
	ld	hl,(??AUTO+0)
	ld	de,0AH
	call	??subde
	ld	(??AUTO+0),hl
	JR ??WHILE0019
??WEND0020:
	ld	a,(??AUTO+2)
    OR A
	jp	c,??SKIP0024
	jp	z,??SKIP0024
	JR ??ORTRUE0023
??SKIP0024:
	ld	a,(??AUTO+3)
	or	a
	jp	z,??ENDIF0022
??ORTRUE0023:
	ld	a,30H
	ld	b,a
	ld	a,(??AUTO+2)
	add	a,b
	call	PRINTCHAR
??ENDIF0022:
	ld	a,30H
	ld	b,a
	ld	hl,(??AUTO+0)
	ld	a,l
	add	a,b
	call	PRINTCHAR
	ret

; Module: MON1

	public	SETDMAADDR
; Procedure SETDMAADDR
SETDMAADDR:
	ld	(??AUTO+154),hl
	ld	c,1AH
	ld	hl,(??AUTO+154)
	ex	de,hl
	call	5
	ret

; Module: MON1

	public	OPENFILE
; Procedure OPENFILE
OPENFILE:
	ld	(??AUTO+123),hl
	ld	c,0FH
	ld	hl,(??AUTO+123)
	ex	de,hl
	call	5
	ret

; Module: MON1

	public	CLOSEFILE
; Procedure CLOSEFILE
CLOSEFILE:
	ld	(??AUTO+123),hl
	ld	c,10H
	ld	hl,(??AUTO+123)
	ex	de,hl
	call	5
	ret

; Module: MON1

	public	DELETEFILE
; Procedure DELETEFILE
DELETEFILE:
	ld	(??AUTO+123),hl
	ld	c,13H
	ld	hl,(??AUTO+123)
	ex	de,hl
	call	5
	ld	(??AUTO+125),a
	ret

; Module: MON1

	public	MAKEFILE
; Procedure MAKEFILE
MAKEFILE:
	ld	(??AUTO+123),hl
	ld	c,16H
	ld	hl,(??AUTO+123)
	ex	de,hl
	call	5
	ret

; Module: MON1

	public	READFILE
; Procedure READFILE
READFILE:
	ld	(??AUTO+154),hl
	ld	c,14H
	ld	hl,(??AUTO+154)
	ex	de,hl
	call	5
	ret

; Module: MON1

	public	WRITEFILE
; Procedure WRITEFILE
WRITEFILE:
	ld	(??AUTO+150),hl
	ld	c,15H
	ld	hl,(??AUTO+150)
	ex	de,hl
	call	5
	ret

; Module: MON1

	public	COPYMEM
; Procedure COPYMEM
COPYMEM:
	ld	(??AUTO+127),hl
??WHILE0025:
	ld	hl,(??AUTO+127)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??WEND0026
	ld	a,l
	or	h
	jp	z,??WEND0026
	ld	hl,(??AUTO+123)
	ld	a,(hl)
	ld	b,a
	ld	hl,(??AUTO+125)
	ld	a,b
	ld	(hl),a
	ld	hl,(??AUTO+123)
	inc	hl
	ld	(??AUTO+123),hl
	ld	hl,(??AUTO+125)
	inc	hl
	ld	(??AUTO+125),hl
	ld	hl,(??AUTO+127)
	dec	hl
	ld	(??AUTO+127),hl
	JR ??WHILE0025
??WEND0026:
	ret

; Module: MON1

	public	FILLMEM
; Procedure FILLMEM
FILLMEM:
	ld	(??AUTO+154),a
??WHILE0027:
	ld	hl,(??AUTO+152)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??WEND0028
	ld	a,l
	or	h
	jp	z,??WEND0028
	ld	a,(??AUTO+154)
	ld	b,a
	ld	hl,(??AUTO+150)
	ld	a,b
	ld	(hl),a
	ld	hl,(??AUTO+150)
	inc	hl
	ld	(??AUTO+150),hl
	ld	hl,(??AUTO+152)
	dec	hl
	ld	(??AUTO+152),hl
	JR ??WHILE0027
??WEND0028:
	ret

; Module: MON1

	public	READ16
; Procedure READ16
READ16:
	ld	(??AUTO+0),hl
	ld	hl,(??AUTO+0)
	ld	a,(hl)
	ld	(??AUTO+3),a
	ld	hl,(??AUTO+0)
	inc	hl
	ld	(??AUTO+0),hl
	ld	hl,(??AUTO+0)
	ld	a,(hl)
	ld	l,a
	ld	h,0
	ld	h,l
	ld	l,0
	ld	de,0
	ex	de,hl
	ld	a,(??AUTO+3)
	ld	l,a
	ld	h,0
	add	hl,de
	ret

; Module: MON1

	public	WRITE16
; Procedure WRITE16
WRITE16:
	ld	(??AUTO+2),hl
	ld	hl,(??AUTO+2)
	ld	a,l
	ld	b,a
	ld	hl,(??AUTO+0)
	ld	a,b
	ld	(hl),a
	ld	hl,(??AUTO+0)
	inc	hl
	ld	(??AUTO+0),hl
	ld	hl,(??AUTO+2)
	ld	a,h
	ld	b,a
	ld	hl,(??AUTO+0)
	ld	a,b
	ld	(hl),a
	ret

; Module: MON1

	public	READWORD
; Procedure READWORD
READWORD:
	ld	(??AUTO+150),hl
	ld	hl,(??AUTO+150)
	ld	a,(hl)
	ld	l,a
	ld	h,0
	push	hl
	ld	hl,(??AUTO+150)
	ld	de,1
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	ld	h,l
	ld	l,0
	ld	de,0
	ex	de,hl
	pop	hl
	add	hl,de
	ret

; Module: MON1

	public	WRITEWORD
; Procedure WRITEWORD
WRITEWORD:
	ld	(??AUTO+143),hl
	ld	hl,(??AUTO+143)
	ld	a,l
	ld	b,a
	ld	hl,(??AUTO+141)
	ld	(hl),b
	ld	hl,(??AUTO+143)
	ld	a,h
	ld	b,a
	ld	hl,(??AUTO+141)
	ld	de,1
	add	hl,de
	ld	(hl),b
	ret

; Module: MODULE

	public	FILLINBUF
; Procedure FILLINBUF
FILLINBUF:
	ld	hl,0
	ld	(INBUFPOS),hl
	ld	hl,0
	ld	(INBUFEND),hl
	ld	hl,(INBUFSIZE)
	ld	a,l
	rlca
	ld	a,h
	rla
	ld	l,a
	ld	h,0
	ld	a,l
	ld	(??AUTO+150),a
	ld	a,(??AUTO+150)
    OR A
	jp	nz,??ENDIF0030
	ld	a,1
	ld	(??AUTO+150),a
??ENDIF0030:
	xor	a
	ld	(??AUTO+149),a
??WHILE0031:
	ld	a,(??AUTO+150)
	ld	b,a
	ld	a,(??AUTO+149)
	sub	b
	jp	nc,??WEND0032
	ld	a,(??AUTO+149)
	ld	l,a
	ld	h,0
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	ld	de,0
	ex	de,hl
	ld	hl,(INBUFPTR)
	add	hl,de
	call	SETDMAADDR
	ld	hl,(IFCBPTR)
	call	READFILE
	ld	(??AUTO+148),a
	ld	a,(??AUTO+148)
    OR A
	jp	z,??ENDIF0034
	ld	a,(??AUTO+149)
    OR A
	jp	c,??CMP0036
	jp	z,??CMP0036
	JR ??TRUE0035
	xor	a
	JR ??CMP0036
??TRUE0035:
	ld	a,0ffh
??CMP0036:
	ret
??ENDIF0034:
	ld	a,(??AUTO+149)
	add	a,1
	ld	(??AUTO+149),a
	ld	hl,(INBUFEND)
	ld	de,80H
	add	hl,de
	ld	(INBUFEND),hl
	jp	??WHILE0031
??WEND0032:
	ld	a,1
	ret

; Module: MODULE

	public	GETBYTE
; Procedure GETBYTE
GETBYTE:
	ld	hl,(INPUTLIMIT)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF0038
	ld	a,1AH
	ret
??ENDIF0038:
	ld	hl,(INBUFPOS)
	push	hl
	ld	hl,(INBUFEND)
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??ENDIF0040
	call	FILLINBUF
	or	a
	jp	nz,??ENDIF0042
	ld	a,1AH
	ret
??ENDIF0042:
??ENDIF0040:
	ld	hl,(INBUFPOS)
	ex	de,hl
	ld	hl,(INBUFPTR)
	add	hl,de
	ld	(??AUTO+152),hl
	ld	hl,(INBUFPOS)
	inc	hl
	ld	(INBUFPOS),hl
	ld	hl,(INPUTLIMIT)
	push	hl
	ld	hl,0FFFFH
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??ENDIF0044
	ld	hl,(INPUTLIMIT)
	dec	hl
	ld	(INPUTLIMIT),hl
??ENDIF0044:
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(INBUFPTR)
	ex	de,hl
	ld	hl,(??AUTO+152)
	call	??subde
	pop	de
	add	hl,de
	ld	a,(hl)
	ret

; Module: MODULE

	public	PEEKBYTE
; Procedure PEEKBYTE
PEEKBYTE:
	ld	hl,(INPUTLIMIT)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF0046
	ld	a,1AH
	ret
??ENDIF0046:
	ld	hl,(INBUFPOS)
	push	hl
	ld	hl,(INBUFEND)
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??ENDIF0048
	call	FILLINBUF
	or	a
	jp	nz,??ENDIF0050
	ld	a,1AH
	ret
??ENDIF0050:
??ENDIF0048:
	ld	hl,(INBUFPOS)
	ex	de,hl
	ld	hl,(INBUFPTR)
	add	hl,de
	ld	(??AUTO+0),hl
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(INBUFPTR)
	ex	de,hl
	ld	hl,(??AUTO+0)
	call	??subde
	pop	de
	add	hl,de
	ld	a,(hl)
	ret

; Module: MODULE

	public	INPUTAVAIL
; Procedure INPUTAVAIL
INPUTAVAIL:
	ld	hl,(INPUTLIMIT)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF0052
    XOR A
	ret
??ENDIF0052:
	ld	hl,(INBUFPOS)
	push	hl
	ld	hl,(INBUFEND)
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??ENDIF0054
	ld	a,1
	ret
??ENDIF0054:
	call	FILLINBUF
	ret

; Module: MODULE

	public	FLUSHOUTBUF
; Procedure FLUSHOUTBUF
FLUSHOUTBUF:
	ld	hl,(OUTBUFPOS)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF0056
	ld	a,1
	ret
??ENDIF0056:
	ld	hl,(OUTBUFPOS)
	ld	a,l
	rlca
	ld	a,h
	rla
	ld	l,a
	ld	h,0
	ld	a,l
	ld	(??AUTO+157),a
	ld	hl,7FH
	ex	de,hl
	ld	hl,(OUTBUFPOS)
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	(??AUTO+159),hl
	xor	a
	ld	(??AUTO+156),a
??WHILE0057:
	ld	a,(??AUTO+157)
	ld	b,a
	ld	a,(??AUTO+156)
	sub	b
	jp	nc,??WEND0058
	ld	a,(??AUTO+156)
	ld	l,a
	ld	h,0
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	ld	de,0
	ex	de,hl
	ld	hl,(OUTBUFPTR)
	add	hl,de
	call	SETDMAADDR
	ld	hl,(OFCBPTR)
	call	WRITEFILE
	ld	(??AUTO+158),a
	ld	a,(??AUTO+158)
    OR A
	jp	z,??ENDIF0060
    XOR A
	ret
??ENDIF0060:
	ld	a,(??AUTO+156)
	add	a,1
	ld	(??AUTO+156),a
	JR ??WHILE0057
??WEND0058:
	ld	hl,(??AUTO+159)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??ENDIF0062
	ld	a,l
	or	h
	jp	z,??ENDIF0062
	ld	hl,(OUTBUFPOS)
	ex	de,hl
	ld	hl,(OUTBUFPTR)
	add	hl,de
	ld	(??AUTO+150),hl
	ld	hl,(??AUTO+159)
	ex	de,hl
	ld	hl,80H
	call	??subde
	ld	(??AUTO+152),hl
	ld	a,1AH
	call	FILLMEM
	ld	a,(??AUTO+157)
	ld	l,a
	ld	h,0
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	ld	de,0
	ex	de,hl
	ld	hl,(OUTBUFPTR)
	add	hl,de
	call	SETDMAADDR
	ld	hl,(OFCBPTR)
	call	WRITEFILE
	ld	(??AUTO+158),a
	ld	a,(??AUTO+158)
    OR A
	jp	z,??ENDIF0064
    XOR A
	ret
??ENDIF0064:
??ENDIF0062:
	ld	hl,0
	ld	(OUTBUFPOS),hl
	ld	a,1
	ret

; Module: MODULE

	public	PUTBYTE
; Procedure PUTBYTE
PUTBYTE:
	ld	(??AUTO+161),a
	ld	hl,(OUTBUFPOS)
	ex	de,hl
	ld	hl,(OUTBUFPTR)
	add	hl,de
	ld	(??AUTO+162),hl
	ld	a,(??AUTO+161)
	ld	b,a
	ld	hl,(OUTBUFPTR)
	push	hl
	ld	hl,(OUTBUFPTR)
	ex	de,hl
	ld	hl,(??AUTO+162)
	call	??subde
	pop	de
	add	hl,de
	ld	(hl),b
	ld	hl,(OUTBUFPOS)
	inc	hl
	ld	(OUTBUFPOS),hl
	ld	hl,(OUTBUFPOS)
	push	hl
	ld	hl,(OUTBUFSIZE)
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??ENDIF0066
	call	FLUSHOUTBUF
	ret
??ENDIF0066:
	ld	a,1
	ret

; Module: MODULE

	public	INITBITSLSB
; Procedure INITBITSLSB
INITBITSLSB:
	ld	hl,0
	ld	(BITBUFFER),hl
	xor	a
	ld	(BITSLEFT),a
	ret

; Module: MODULE

	public	READBITLSB
; Procedure READBITLSB
READBITLSB:
	ld	a,(BITSLEFT)
    OR A
	jp	nz,??ENDIF0068
	call	GETBYTE
	ld	l,a
	ld	h,0
	ld	(BITBUFFER),hl
	ld	a,8
	ld	(BITSLEFT),a
??ENDIF0068:
	ld	hl,(BITBUFFER)
	ld	a,l
	and	1
	ld	(??AUTO+140),a
	ld	hl,(BITBUFFER)
	or	a
	ld	a,h
	rra
	ld	h,a
	ld	a,l
	rra
	ld	l,a
	ld	(BITBUFFER),hl
	ld	a,(BITSLEFT)
	sub	1
	ld	(BITSLEFT),a
	ld	a,(??AUTO+140)
	ret

; Module: MODULE

	public	READBITSLSB
; Procedure READBITSLSB
READBITSLSB:
	ld	(??AUTO+45),a
	ld	hl,0
	ld	(??AUTO+46),hl
	ld	hl,1
	ld	(??AUTO+48),hl
??WHILE0069:
	ld	a,(??AUTO+45)
    OR A
	jp	c,??WEND0070
	jp	z,??WEND0070
	call	READBITLSB
	or	a
	jp	z,??ENDIF0072
	ld	hl,(??AUTO+48)
	ex	de,hl
	ld	hl,(??AUTO+46)
	add	hl,de
	ld	(??AUTO+46),hl
??ENDIF0072:
	ld	hl,(??AUTO+48)
	add	hl,hl
	ld	de,0
	ld	(??AUTO+48),hl
	ld	a,(??AUTO+45)
	sub	1
	ld	(??AUTO+45),a
	JR ??WHILE0069
??WEND0070:
	ld	hl,(??AUTO+46)
	ret

; Module: MODULE

	public	INITBITSSQ
; Procedure INITBITSSQ
INITBITSSQ:
	xor	a
	ld	(SQBITBUFFER),a
	xor	a
	ld	(SQBITPOS),a
	ret

; Module: MODULE

	public	READBITSQ
; Procedure READBITSQ
READBITSQ:
	ld	a,(SQBITPOS)
    OR A
	jp	nz,??ENDIF0074
	call	GETBYTE
	ld	(SQBITBUFFER),a
	ld	a,8
	ld	(SQBITPOS),a
??ENDIF0074:
	ld	a,(SQBITPOS)
	sub	1
	ld	(SQBITPOS),a
	ld	a,(SQBITBUFFER)
	ld	l,a
	ld	h,0
	push	hl
	ld	a,(SQBITPOS)
	ld	c,a
	pop	hl
??SHR0075:
	dec	c
	jp	m,??SHRE0076
	or	a
	ld	a,h
	rra
	ld	h,a
	ld	a,l
	rra
	ld	l,a
	JR ??SHR0075
??SHRE0076:
	push	hl
	ld	hl,1
	ex	de,hl
	pop	hl
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	a,l
	ld	(??AUTO+0),a
	ld	a,(??AUTO+0)
	ret

; Module: MODULE

	public	INITBITSMSB
; Procedure INITBITSMSB
INITBITSMSB:
	ld	hl,0
	ld	(BITBUFFER),hl
	xor	a
	ld	(BITSLEFT),a
	ret

; Module: MODULE

	public	READCODEMSB
; Procedure READCODEMSB
READCODEMSB:
	ld	(??AUTO+141),a
??WHILE0077:
	ld	a,(??AUTO+141)
	ld	b,a
	ld	a,(BITSLEFT)
	sub	b
	jp	nc,??WEND0078
	call	GETBYTE
	ld	(??AUTO+144),a
	ld	hl,(BITBUFFER)
	ld	h,l
	ld	l,0
	ld	de,0
	push	hl
	ld	a,(??AUTO+144)
	ld	l,a
	ld	h,0
	ex	de,hl
	pop	hl
	add	hl,de
	ld	(BITBUFFER),hl
	ld	a,(BITSLEFT)
	add	a,8
	ld	(BITSLEFT),a
	JR ??WHILE0077
??WEND0078:
	ld	a,(??AUTO+141)
	ld	b,a
	ld	a,(BITSLEFT)
	sub	b
	ld	(??AUTO+145),a
	ld	hl,(BITBUFFER)
	push	hl
	ld	a,(??AUTO+145)
	ld	c,a
	pop	hl
??SHR0079:
	dec	c
	jp	m,??SHRE0080
	or	a
	ld	a,h
	rra
	ld	h,a
	ld	a,l
	rra
	ld	l,a
	JR ??SHR0079
??SHRE0080:
	ld	(??AUTO+142),hl
	ld	hl,1
	push	hl
	ld	a,(??AUTO+141)
	ld	c,a
	pop	hl
??SHL0081:
	dec	c
	jp	m,??SHLE0082
	add	hl,hl
	JR ??SHL0081
??SHLE0082:
	dec	hl
	ld	(??AUTO+146),hl
	ld	hl,(??AUTO+146)
	ex	de,hl
	ld	hl,(??AUTO+142)
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	(??AUTO+142),hl
	ld	a,(??AUTO+141)
	ld	b,a
	ld	a,(BITSLEFT)
	sub	b
	ld	(BITSLEFT),a
	ld	a,(BITSLEFT)
    OR A
	jp	c,??ELSE0083
	jp	z,??ELSE0083
	ld	hl,1
	push	hl
	ld	a,(BITSLEFT)
	ld	c,a
	pop	hl
??SHL0085:
	dec	c
	jp	m,??SHLE0086
	add	hl,hl
	JR ??SHL0085
??SHLE0086:
	dec	hl
	ex	de,hl
	ld	hl,(BITBUFFER)
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	(BITBUFFER),hl
	JR ??ENDIF0084
??ELSE0083:
	ld	hl,0
	ld	(BITBUFFER),hl
??ENDIF0084:
	ld	hl,(??AUTO+142)
	ret

; Module: MODULE

	public	INITRLE
; Procedure INITRLE
INITRLE:
	xor	a
	ld	(RLEPREV),a
	xor	a
	ld	(RLECOUNT),a
	xor	a
	ld	(RLEACTIVE),a
	ret

; Module: MODULE

	public	RLEDECODEBYTE
; Procedure RLEDECODEBYTE
RLEDECODEBYTE:
	ld	(??AUTO+164),a
	ld	a,(RLEACTIVE)
	or	a
	jp	z,??ENDIF0088
	ld	a,(??AUTO+164)
    OR A
	jp	nz,??ELSE0089
	xor	a
	ld	(RLEACTIVE),a
	ld	a,90H
	ld	(RLEPREV),a
	ld	a,90H
	call	PUTBYTE
	ret
	JR ??ENDIF0090
??ELSE0089:
	xor	a
	ld	(RLEACTIVE),a
	ld	a,(??AUTO+164)
	ld	(??AUTO+165),a
??WHILE0091:
	ld	a,(??AUTO+165)
    OR A
	jp	c,??WEND0092
	jp	z,??WEND0092
	ld	a,(RLEPREV)
	call	PUTBYTE
	or	a
	jp	nz,??ENDIF0094
    XOR A
	ret
??ENDIF0094:
	ld	a,(??AUTO+165)
	sub	1
	ld	(??AUTO+165),a
	JR ??WHILE0091
??WEND0092:
	ld	a,1
	ret
??ENDIF0090:
??ENDIF0088:
	ld	a,(??AUTO+164)
	cp	90H
	jp	nz,??ENDIF0096
	ld	a,1
	ld	(RLEACTIVE),a
	ld	a,1
	ret
??ENDIF0096:
	ld	a,(??AUTO+164)
	ld	(RLEPREV),a
	ld	a,(??AUTO+164)
	call	PUTBYTE
	ret

; Module: MODULE

	public	UNSQUEEZE
; Procedure UNSQUEEZE
UNSQUEEZE:
	call	GETBYTE
	ld	(??AUTO+125),a
	call	GETBYTE
	ld	(??AUTO+125),a
	call	GETBYTE
	ld	(??AUTO+138),a
	call	GETBYTE
	ld	(??AUTO+139),a
??WHILE0097:
	call	GETBYTE
	ld	b,a
	ld	(??AUTO+125),a
	ld	a,b
    OR A
	jp	z,??WEND0098
	ld	a,(??AUTO+125)
	cp	1AH
	jp	z,??WEND0098
	JR ??WHILE0097
??WEND0098:
	call	GETBYTE
	ld	(??AUTO+138),a
	call	GETBYTE
	ld	(??AUTO+139),a
	ld	a,(??AUTO+139)
	ld	l,a
	ld	h,0
	ld	h,l
	ld	l,0
	ld	de,0
	ex	de,hl
	ld	a,(??AUTO+138)
	ld	l,a
	ld	h,0
	add	hl,de
	ld	(??AUTO+127),hl
	ld	hl,(??AUTO+127)
	push	hl
	ld	hl,0100H
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??ENDIF0100
	ld	a,l
	or	h
	jp	z,??ENDIF0100
	ld	hl,@UNSQUEEZE$MSGSQTREE
	call	PRINTSTR
	ld	a,20H
	call	PRINTCHAR
	ld	hl,(??AUTO+127)
	ld	a,h
	call	PRINTHEX
	ld	hl,(??AUTO+127)
	ld	a,l
	call	PRINTHEX
    XOR A
	ret
??ENDIF0100:
	xor	a
	ld	(??AUTO+126),a
??WHILE0101:
	ld	hl,(??AUTO+127)
	ld	a,l
	ld	b,a
	ld	a,(??AUTO+126)
	sub	b
	jp	nc,??WEND0102
	ld	a,(??AUTO+126)
	ld	l,a
	ld	h,0
	add	hl,hl
	add	hl,hl
	ld	de,0
	ex	de,hl
	ld	hl,(HUFFTREEPTR)
	add	hl,de
	ld	(??AUTO+135),hl
	call	GETBYTE
	ld	b,a
	ld	hl,(HUFFTREEPTR)
	push	hl
	ld	hl,(HUFFTREEPTR)
	ex	de,hl
	ld	hl,(??AUTO+135)
	call	??subde
	pop	de
	add	hl,de
	ld	(hl),b
	call	GETBYTE
	ld	b,a
	ld	hl,(HUFFTREEPTR)
	push	hl
	ld	hl,(HUFFTREEPTR)
	ex	de,hl
	ld	hl,(??AUTO+135)
	call	??subde
	inc	hl
	pop	de
	add	hl,de
	ld	(hl),b
	call	GETBYTE
	ld	b,a
	ld	hl,(HUFFTREEPTR)
	push	hl
	ld	hl,(HUFFTREEPTR)
	ex	de,hl
	ld	hl,(??AUTO+135)
	call	??subde
	inc	hl
	inc	hl
	pop	de
	add	hl,de
	ld	(hl),b
	call	GETBYTE
	ld	b,a
	ld	hl,(HUFFTREEPTR)
	push	hl
	ld	hl,(HUFFTREEPTR)
	ex	de,hl
	ld	hl,(??AUTO+135)
	call	??subde
	inc	hl
	inc	hl
	inc	hl
	pop	de
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+126)
	add	a,1
	ld	(??AUTO+126),a
	jp	??WHILE0101
??WEND0102:
	ld	hl,(??AUTO+127)
	ld	(HUFFNODES),hl
	call	INITBITSLSB
	call	INITRLE
	xor	a
	ld	(??AUTO+137),a
??WHILE0103:
	ld	a,(??AUTO+137)
	or	a
	jp	nz,??WEND0104
	call	INPUTAVAIL
	or	a
	jp	z,??WEND0104
	ld	hl,0
	ld	(??AUTO+129),hl
??WHILE0105:
	ld	hl,(??AUTO+129)
	push	hl
	ld	hl,(HUFFNODES)
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??WEND0106
	ld	hl,(??AUTO+129)
	ld	a,l
	ld	h,0
	add	hl,hl
	add	hl,hl
	ld	de,0
	ex	de,hl
	ld	hl,(HUFFTREEPTR)
	add	hl,de
	ld	(??AUTO+135),hl
	call	READBITLSB
	or	a
	jp	z,??ELSE0107
	ld	hl,(??AUTO+135)
	inc	hl
	inc	hl
	call	READWORD
	ld	(??AUTO+131),hl
	JR ??ENDIF0108
??ELSE0107:
	ld	hl,(??AUTO+135)
	call	READWORD
	ld	(??AUTO+131),hl
??ENDIF0108:
	ld	hl,8000H
	ex	de,hl
	ld	hl,(??AUTO+131)
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??ELSE0109
	ld	hl,(??AUTO+131)
	ld	a,l
	cpl
	ld	l,a
	ld	a,h
	cpl
	ld	h,a
	ld	(??AUTO+133),hl
	ld	hl,(??AUTO+133)
	push	hl
	ld	hl,0100H
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ELSE0111
	ld	a,1
	ld	(??AUTO+137),a
	JR ??ENDIF0112
??ELSE0111:
	ld	hl,(??AUTO+133)
	ld	a,l
	call	RLEDECODEBYTE
	or	a
	jp	nz,??ENDIF0114
    XOR A
	ret
??ENDIF0114:
??ENDIF0112:
	ld	hl,(HUFFNODES)
	ld	(??AUTO+129),hl
	JP ??WHILE0105
??ELSE0109:
	ld	hl,(??AUTO+131)
	ld	(??AUTO+129),hl
??ENDIF0110:
	jp	??WHILE0105
??WEND0106:
	jp	??WHILE0103
??WEND0104:
	ld	a,1
	ret

; Module: MODULE

	public	INITLZW
; Procedure INITLZW
INITLZW:
	ld	hl,0
	ld	(??AUTO+147),hl
??WHILE0115:
	ld	hl,(??AUTO+147)
	push	hl
	ld	hl,0100H
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??WEND0116
	ld	hl,(??AUTO+147)
	add	hl,hl
	ld	de,0
	ex	de,hl
	ld	hl,(LZWPREFIXPTR)
	add	hl,de
	ld	(??AUTO+141),hl
	ld	hl,0FFFFH
	call	WRITEWORD
	ld	hl,(??AUTO+147)
	ld	a,l
	ld	b,a
	ld	hl,(LZWSUFFIXPTR)
	push	hl
	ld	hl,(??AUTO+147)
	pop	de
	add	hl,de
	ld	(hl),b
	ld	hl,(??AUTO+147)
	inc	hl
	ld	(??AUTO+147),hl
	JR ??WHILE0115
??WEND0116:
	ld	hl,0104H
	ld	(LZWNEXTCODE),hl
	ret

; Module: MODULE

	public	LZWOUTPUT
; Procedure LZWOUTPUT
LZWOUTPUT:
	ld	(??AUTO+141),hl
	ld	hl,0
	ld	(??AUTO+145),hl
??WHILE0117:
	ld	hl,(??AUTO+141)
	push	hl
	ld	hl,0FFFFH
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??WEND0118
	ld	hl,(??AUTO+145)
	push	hl
	ld	hl,1000H
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??WEND0118
	ld	hl,(LZWSUFFIXPTR)
	push	hl
	ld	hl,(??AUTO+141)
	pop	de
	add	hl,de
	ld	a,(hl)
	ld	(??AUTO+147),a
	ld	a,(??AUTO+147)
	ld	b,a
	ld	hl,(WORKPTR)
	push	hl
	ld	hl,(??AUTO+145)
	pop	de
	add	hl,de
	ld	(hl),b
	ld	hl,(??AUTO+145)
	inc	hl
	ld	(??AUTO+145),hl
	ld	hl,(??AUTO+141)
	add	hl,hl
	ld	de,0
	ex	de,hl
	ld	hl,(LZWPREFIXPTR)
	add	hl,de
	call	READWORD
	ld	(??AUTO+143),hl
	ld	hl,(??AUTO+143)
	ld	(??AUTO+141),hl
	jp	??WHILE0117
??WEND0118:
	ld	hl,(??AUTO+145)
	ld	(WORKLEN),hl
??WHILE0119:
	ld	hl,(??AUTO+145)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??WEND0120
	ld	a,l
	or	h
	jp	z,??WEND0120
	ld	hl,(??AUTO+145)
	dec	hl
	ld	(??AUTO+145),hl
	ld	hl,(WORKPTR)
	push	hl
	ld	hl,(??AUTO+145)
	pop	de
	add	hl,de
	ld	a,(hl)
	call	RLEDECODEBYTE
	or	a
	jp	nz,??ENDIF0122
	ld	hl,0
	ret
??ENDIF0122:
	JR ??WHILE0119
??WEND0120:
	ld	hl,(WORKLEN)
	ret

; Module: MODULE

	public	LZWOUTPUTRAW
; Procedure LZWOUTPUTRAW
LZWOUTPUTRAW:
	ld	(??AUTO+27),hl
	ld	hl,0
	ld	(??AUTO+31),hl
??WHILE0123:
	ld	hl,(??AUTO+27)
	push	hl
	ld	hl,0FFFFH
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??WEND0124
	ld	hl,(??AUTO+31)
	push	hl
	ld	hl,1000H
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??WEND0124
	ld	hl,(LZWSUFFIXPTR)
	push	hl
	ld	hl,(??AUTO+27)
	pop	de
	add	hl,de
	ld	a,(hl)
	ld	(??AUTO+33),a
	ld	a,(??AUTO+33)
	ld	b,a
	ld	hl,(WORKPTR)
	push	hl
	ld	hl,(??AUTO+31)
	pop	de
	add	hl,de
	ld	(hl),b
	ld	hl,(??AUTO+31)
	inc	hl
	ld	(??AUTO+31),hl
	ld	hl,(??AUTO+27)
	add	hl,hl
	ld	de,0
	ex	de,hl
	ld	hl,(LZWPREFIXPTR)
	add	hl,de
	call	READWORD
	ld	(??AUTO+29),hl
	ld	hl,(??AUTO+29)
	ld	(??AUTO+27),hl
	jp	??WHILE0123
??WEND0124:
	ld	hl,(??AUTO+31)
	ld	(WORKLEN),hl
??WHILE0125:
	ld	hl,(??AUTO+31)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??WEND0126
	ld	a,l
	or	h
	jp	z,??WEND0126
	ld	hl,(??AUTO+31)
	dec	hl
	ld	(??AUTO+31),hl
	ld	hl,(WORKPTR)
	push	hl
	ld	hl,(??AUTO+31)
	pop	de
	add	hl,de
	ld	a,(hl)
	call	PUTBYTE
	or	a
	jp	nz,??ENDIF0128
	ld	hl,0
	ret
??ENDIF0128:
	JR ??WHILE0125
??WEND0126:
	ld	hl,(WORKLEN)
	ret

; Module: MODULE

	public	LZWFIRSTBYTE
; Procedure LZWFIRSTBYTE
LZWFIRSTBYTE:
	ld	(??AUTO+141),hl
??WHILE0129:
	ld	hl,(??AUTO+141)
	push	hl
	ld	hl,0100H
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??WEND0130
	ld	hl,(??AUTO+141)
	add	hl,hl
	ld	de,0
	ex	de,hl
	ld	hl,(LZWPREFIXPTR)
	add	hl,de
	call	READWORD
	ld	(??AUTO+143),hl
	ld	hl,(??AUTO+143)
	push	hl
	ld	hl,0FFFFH
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF0132
	ld	hl,(LZWSUFFIXPTR)
	push	hl
	ld	hl,(??AUTO+141)
	pop	de
	add	hl,de
	ld	a,(hl)
	ret
??ENDIF0132:
	ld	hl,(??AUTO+143)
	ld	(??AUTO+141),hl
	JR ??WHILE0129
??WEND0130:
	ld	hl,(??AUTO+141)
	ld	a,l
	ret

; Module: MODULE

	public	LZWADDENTRY
; Procedure LZWADDENTRY
LZWADDENTRY:
	ld	(??AUTO+149),a
	ld	hl,1
	push	hl
	ld	a,(LZWMAXBITS)
	ld	c,a
	pop	hl
??SHL0133:
	dec	c
	jp	m,??SHLE0134
	add	hl,hl
	JR ??SHL0133
??SHLE0134:
	ld	(??AUTO+150),hl
	ld	hl,(LZWNEXTCODE)
	push	hl
	ld	hl,(??AUTO+150)
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??ENDIF0136
	ld	hl,(LZWNEXTCODE)
	add	hl,hl
	ld	de,0
	ex	de,hl
	ld	hl,(LZWPREFIXPTR)
	add	hl,de
	ld	(??AUTO+141),hl
	ld	hl,(??AUTO+147)
	call	WRITEWORD
	ld	a,(??AUTO+149)
	ld	b,a
	ld	hl,(LZWSUFFIXPTR)
	push	hl
	ld	hl,(LZWNEXTCODE)
	pop	de
	add	hl,de
	ld	(hl),b
	ld	hl,(LZWNEXTCODE)
	inc	hl
	ld	(LZWNEXTCODE),hl
??ENDIF0136:
	ret

; Module: MODULE

	public	UNCRUNCH
; Procedure UNCRUNCH
UNCRUNCH:
	call	GETBYTE
	ld	(??AUTO+123),a
	call	GETBYTE
	ld	(??AUTO+123),a
??WHILE0137:
	call	GETBYTE
	ld	b,a
	ld	(??AUTO+123),a
	ld	a,b
    OR A
	jp	z,??WEND0138
	ld	a,(??AUTO+123)
	cp	1AH
	jp	z,??WEND0138
	JR ??WHILE0137
??WEND0138:
	call	GETBYTE
	ld	(??AUTO+124),a
	call	GETBYTE
	ld	(??AUTO+126),a
	call	GETBYTE
	ld	(??AUTO+127),a
	call	GETBYTE
	ld	(??AUTO+125),a
	xor	a
	ld	(??AUTO+128),a
	ld	a,(??AUTO+126)
	cp	1FH
	jp	c,??ENDIF0140
	jp	z,??ENDIF0140
	ld	a,1
	ld	(??AUTO+128),a
??ENDIF0140:
	ld	a,(??AUTO+128)
    OR A
	jp	z,??ELSE0141
	ld	a,9
	ld	(??AUTO+134),a
	JR ??ENDIF0142
??ELSE0141:
	ld	a,0CH
	ld	(??AUTO+134),a
??ENDIF0142:
	ld	a,(??AUTO+127)
    OR A
	jp	c,??ENDIF0144
	jp	z,??ENDIF0144
	call	GETBYTE
	ld	l,a
	ld	h,0
	ld	(??AUTO+135),hl
	call	GETBYTE
	ld	l,a
	ld	h,0
	ld	h,l
	ld	l,0
	ld	de,0
	ex	de,hl
	ld	hl,(??AUTO+135)
	add	hl,de
	ld	(??AUTO+135),hl
??ENDIF0144:
	call	INITLZW
	call	INITBITSMSB
	call	INITRLE
	ld	a,(??AUTO+134)
	ld	(LZWCODESIZE),a
	ld	a,0CH
	ld	(LZWMAXBITS),a
	ld	hl,0FFFFH
	ld	(??AUTO+132),hl
	ld	a,1
	ld	(??AUTO+129),a
	xor	a
	ld	(??AUTO+137),a
??WHILE0145:
	ld	a,(??AUTO+137)
	or	a
	jp	nz,??WEND0146
	call	INPUTAVAIL
	or	a
	jp	z,??WEND0146
	ld	a,(??AUTO+128)
    OR A
	jp	z,??ENDIF0148
	ld	hl,1
	push	hl
	ld	a,(LZWCODESIZE)
	ld	c,a
	pop	hl
??SHL0149:
	dec	c
	jp	m,??SHLE0150
	add	hl,hl
	JR ??SHL0149
??SHLE0150:
	dec	hl
	ld	(??AUTO+139),hl
	ld	hl,(LZWNEXTCODE)
	push	hl
	ld	hl,(??AUTO+139)
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF0152
	ld	a,(LZWMAXBITS)
	ld	b,a
	ld	a,(LZWCODESIZE)
	sub	b
	jp	nc,??ENDIF0152
	ld	a,(LZWCODESIZE)
	add	a,1
	ld	(LZWCODESIZE),a
??ENDIF0152:
??ENDIF0148:
	ld	a,(LZWCODESIZE)
	call	READCODEMSB
	ld	(??AUTO+130),hl
??WHILE0153:
	ld	hl,(??AUTO+130)
	push	hl
	ld	hl,0102H
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??ORTRUE0155
	ld	hl,(??AUTO+130)
	push	hl
	ld	hl,0103H
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??WEND0154
??ORTRUE0155:
	ld	a,(LZWCODESIZE)
	call	READCODEMSB
	ld	(??AUTO+130),hl
	JR ??WHILE0153
??WEND0154:
	ld	hl,(??AUTO+130)
	push	hl
	ld	hl,0100H
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ELSE0156
	ld	a,1
	ld	(??AUTO+137),a
	JP ??WHILE0145
??ELSE0156:
	ld	hl,(??AUTO+130)
	push	hl
	ld	hl,0101H
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ELSE0158
	call	INITLZW
	ld	a,(??AUTO+134)
	ld	(LZWCODESIZE),a
	ld	hl,0FFFFH
	ld	(??AUTO+132),hl
	ld	a,1
	ld	(??AUTO+129),a
	jp	??ENDIF0159
??ELSE0158:
	ld	hl,(??AUTO+130)
	push	hl
	ld	hl,0100H
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??ELSE0160
	ld	hl,(??AUTO+130)
	ld	a,l
	call	RLEDECODEBYTE
	or	a
	jp	nz,??ENDIF0163
    XOR A
	ret
??ENDIF0163:
	ld	hl,(??AUTO+130)
	ld	a,l
	ld	(??AUTO+138),a
	jp	??ENDIF0161
??ELSE0160:
	ld	hl,(??AUTO+130)
	push	hl
	ld	hl,(LZWNEXTCODE)
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??ELSE0164
	ld	hl,(??AUTO+130)
	call	LZWFIRSTBYTE
	ld	(??AUTO+138),a
	ld	hl,(??AUTO+130)
	call	LZWOUTPUT
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF0167
    XOR A
	ret
??ENDIF0167:
	jp	??ENDIF0165
??ELSE0164:
	ld	hl,(??AUTO+130)
	push	hl
	ld	hl,(LZWNEXTCODE)
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ELSE0168
	ld	hl,(??AUTO+132)
	push	hl
	ld	hl,0FFFFH
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??ELSE0168
	ld	hl,(??AUTO+132)
	call	LZWFIRSTBYTE
	ld	(??AUTO+138),a
	ld	hl,(??AUTO+132)
	call	LZWOUTPUT
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF0171
    XOR A
	ret
??ENDIF0171:
	ld	a,(??AUTO+138)
	call	RLEDECODEBYTE
	or	a
	jp	nz,??ENDIF0173
    XOR A
	ret
??ENDIF0173:
	JR ??ENDIF0169
??ELSE0168:
	ld	a,1
	ld	(??AUTO+137),a
??ENDIF0169:
??ENDIF0165:
??ENDIF0161:
	ld	a,(??AUTO+129)
	or	a
	jp	nz,??ENDIF0175
	ld	hl,(??AUTO+132)
	push	hl
	ld	hl,0FFFFH
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??ENDIF0175
	ld	a,(??AUTO+137)
	or	a
	jp	nz,??ENDIF0175
	ld	hl,(??AUTO+132)
	ld	(??AUTO+147),hl
	ld	a,(??AUTO+138)
	call	LZWADDENTRY
??ENDIF0175:
	ld	hl,(??AUTO+130)
	ld	(??AUTO+132),hl
	xor	a
	ld	(??AUTO+129),a
??ENDIF0159:
??ENDIF0157:
	jp	??WHILE0145
??WEND0146:
	ld	a,1
	ret

; Module: MODULE

; Procedure INITLZHTABLES
INITLZHTABLES:
	ld	hl,0
	ld	(??AUTO+135),hl
	JR ??TEST0177
??FOR0176:
	xor	a
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0178:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0177:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,1FH
	call	??subde
	jp	nc,??FOR0176
??NEXT0179:
	ld	hl,20H
	ld	(??AUTO+135),hl
	JR ??TEST0181
??FOR0180:
	ld	a,1
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0182:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0181:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,2FH
	call	??subde
	jp	nc,??FOR0180
??NEXT0183:
	ld	hl,30H
	ld	(??AUTO+135),hl
	JR ??TEST0185
??FOR0184:
	ld	a,2
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0186:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0185:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,3FH
	call	??subde
	jp	nc,??FOR0184
??NEXT0187:
	ld	hl,40H
	ld	(??AUTO+135),hl
	JR ??TEST0189
??FOR0188:
	ld	a,3
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0190:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0189:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,4FH
	call	??subde
	jp	nc,??FOR0188
??NEXT0191:
	ld	hl,50H
	ld	(??AUTO+135),hl
	JR ??TEST0193
??FOR0192:
	ld	a,4
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0194:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0193:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,57H
	call	??subde
	jp	nc,??FOR0192
??NEXT0195:
	ld	hl,58H
	ld	(??AUTO+135),hl
	JR ??TEST0197
??FOR0196:
	ld	a,5
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0198:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0197:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,5FH
	call	??subde
	jp	nc,??FOR0196
??NEXT0199:
	ld	hl,60H
	ld	(??AUTO+135),hl
	JR ??TEST0201
??FOR0200:
	ld	a,6
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0202:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0201:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,67H
	call	??subde
	jp	nc,??FOR0200
??NEXT0203:
	ld	hl,68H
	ld	(??AUTO+135),hl
	JR ??TEST0205
??FOR0204:
	ld	a,7
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0206:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0205:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,6FH
	call	??subde
	jp	nc,??FOR0204
??NEXT0207:
	ld	hl,70H
	ld	(??AUTO+135),hl
	JR ??TEST0209
??FOR0208:
	ld	a,8
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0210:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0209:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,77H
	call	??subde
	jp	nc,??FOR0208
??NEXT0211:
	ld	hl,78H
	ld	(??AUTO+135),hl
	JR ??TEST0213
??FOR0212:
	ld	a,9
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0214:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0213:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,7FH
	call	??subde
	jp	nc,??FOR0212
??NEXT0215:
	ld	hl,80H
	ld	(??AUTO+135),hl
	JR ??TEST0217
??FOR0216:
	ld	a,0AH
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0218:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0217:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,87H
	call	??subde
	jp	nc,??FOR0216
??NEXT0219:
	ld	hl,88H
	ld	(??AUTO+135),hl
	JR ??TEST0221
??FOR0220:
	ld	a,0BH
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0222:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0221:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,8FH
	call	??subde
	jp	nc,??FOR0220
??NEXT0223:
	ld	hl,90H
	ld	(??AUTO+135),hl
	JR ??TEST0225
??FOR0224:
	ld	a,0CH
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0226:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0225:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,93H
	call	??subde
	jp	nc,??FOR0224
??NEXT0227:
	ld	hl,94H
	ld	(??AUTO+135),hl
	JR ??TEST0229
??FOR0228:
	ld	a,0DH
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0230:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0229:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,97H
	call	??subde
	jp	nc,??FOR0228
??NEXT0231:
	ld	hl,98H
	ld	(??AUTO+135),hl
	JR ??TEST0233
??FOR0232:
	ld	a,0EH
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0234:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0233:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,9BH
	call	??subde
	jp	nc,??FOR0232
??NEXT0235:
	ld	hl,9CH
	ld	(??AUTO+135),hl
	JR ??TEST0237
??FOR0236:
	ld	a,0FH
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0238:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0237:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,9FH
	call	??subde
	jp	nc,??FOR0236
??NEXT0239:
	ld	hl,0A0H
	ld	(??AUTO+135),hl
	JR ??TEST0241
??FOR0240:
	ld	a,10H
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0242:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0241:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,0A3H
	call	??subde
	jp	nc,??FOR0240
??NEXT0243:
	ld	hl,0A4H
	ld	(??AUTO+135),hl
	JR ??TEST0245
??FOR0244:
	ld	a,11H
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0246:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0245:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,0A7H
	call	??subde
	jp	nc,??FOR0244
??NEXT0247:
	ld	hl,0A8H
	ld	(??AUTO+135),hl
	JR ??TEST0249
??FOR0248:
	ld	a,12H
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0250:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0249:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,0ABH
	call	??subde
	jp	nc,??FOR0248
??NEXT0251:
	ld	hl,0ACH
	ld	(??AUTO+135),hl
	JR ??TEST0253
??FOR0252:
	ld	a,13H
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0254:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0253:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,0AFH
	call	??subde
	jp	nc,??FOR0252
??NEXT0255:
	ld	hl,0B0H
	ld	(??AUTO+135),hl
	JR ??TEST0257
??FOR0256:
	ld	a,14H
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0258:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0257:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,0B3H
	call	??subde
	jp	nc,??FOR0256
??NEXT0259:
	ld	hl,0B4H
	ld	(??AUTO+135),hl
	JR ??TEST0261
??FOR0260:
	ld	a,15H
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0262:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0261:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,0B7H
	call	??subde
	jp	nc,??FOR0260
??NEXT0263:
	ld	hl,0B8H
	ld	(??AUTO+135),hl
	JR ??TEST0265
??FOR0264:
	ld	a,16H
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0266:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0265:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,0BBH
	call	??subde
	jp	nc,??FOR0264
??NEXT0267:
	ld	hl,0BCH
	ld	(??AUTO+135),hl
	JR ??TEST0269
??FOR0268:
	ld	a,17H
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0270:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0269:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,0BFH
	call	??subde
	jp	nc,??FOR0268
??NEXT0271:
	ld	a,18H
	ld	(DCODE+192),a
	ld	a,18H
	ld	(DCODE+193),a
	ld	a,19H
	ld	(DCODE+194),a
	ld	a,19H
	ld	(DCODE+195),a
	ld	a,1AH
	ld	(DCODE+196),a
	ld	a,1AH
	ld	(DCODE+197),a
	ld	a,1BH
	ld	(DCODE+198),a
	ld	a,1BH
	ld	(DCODE+199),a
	ld	a,1CH
	ld	(DCODE+200),a
	ld	a,1CH
	ld	(DCODE+201),a
	ld	a,1DH
	ld	(DCODE+202),a
	ld	a,1DH
	ld	(DCODE+203),a
	ld	a,1EH
	ld	(DCODE+204),a
	ld	a,1EH
	ld	(DCODE+205),a
	ld	a,1FH
	ld	(DCODE+206),a
	ld	a,1FH
	ld	(DCODE+207),a
	ld	a,20H
	ld	(DCODE+208),a
	ld	a,20H
	ld	(DCODE+209),a
	ld	a,21H
	ld	(DCODE+210),a
	ld	a,21H
	ld	(DCODE+211),a
	ld	a,22H
	ld	(DCODE+212),a
	ld	a,22H
	ld	(DCODE+213),a
	ld	a,23H
	ld	(DCODE+214),a
	ld	a,23H
	ld	(DCODE+215),a
	ld	a,24H
	ld	(DCODE+216),a
	ld	a,24H
	ld	(DCODE+217),a
	ld	a,25H
	ld	(DCODE+218),a
	ld	a,25H
	ld	(DCODE+219),a
	ld	a,26H
	ld	(DCODE+220),a
	ld	a,26H
	ld	(DCODE+221),a
	ld	a,27H
	ld	(DCODE+222),a
	ld	a,27H
	ld	(DCODE+223),a
	ld	a,28H
	ld	(DCODE+224),a
	ld	a,28H
	ld	(DCODE+225),a
	ld	a,29H
	ld	(DCODE+226),a
	ld	a,29H
	ld	(DCODE+227),a
	ld	a,2AH
	ld	(DCODE+228),a
	ld	a,2AH
	ld	(DCODE+229),a
	ld	a,2BH
	ld	(DCODE+230),a
	ld	a,2BH
	ld	(DCODE+231),a
	ld	a,2CH
	ld	(DCODE+232),a
	ld	a,2CH
	ld	(DCODE+233),a
	ld	a,2DH
	ld	(DCODE+234),a
	ld	a,2DH
	ld	(DCODE+235),a
	ld	a,2EH
	ld	(DCODE+236),a
	ld	a,2EH
	ld	(DCODE+237),a
	ld	a,2FH
	ld	(DCODE+238),a
	ld	a,2FH
	ld	(DCODE+239),a
	ld	hl,0F0H
	ld	(??AUTO+135),hl
	JR ??TEST0273
??FOR0272:
	ld	hl,(??AUTO+135)
	ld	de,0F0H
	call	??subde
	ex	de,hl
	ld	hl,30H
	add	hl,de
	ld	a,l
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0274:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0273:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,0FFH
	call	??subde
	jp	nc,??FOR0272
??NEXT0275:
	ld	hl,0
	ld	(??AUTO+135),hl
	JR ??TEST0277
??FOR0276:
	ld	a,3
	ld	b,a
	ld	hl,DLEN
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0278:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0277:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,1FH
	call	??subde
	jp	nc,??FOR0276
??NEXT0279:
	ld	hl,20H
	ld	(??AUTO+135),hl
	JR ??TEST0281
??FOR0280:
	ld	a,4
	ld	b,a
	ld	hl,DLEN
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0282:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0281:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,4FH
	call	??subde
	jp	nc,??FOR0280
??NEXT0283:
	ld	hl,50H
	ld	(??AUTO+135),hl
	JR ??TEST0285
??FOR0284:
	ld	a,5
	ld	b,a
	ld	hl,DLEN
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0286:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0285:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,8FH
	call	??subde
	jp	nc,??FOR0284
??NEXT0287:
	ld	hl,90H
	ld	(??AUTO+135),hl
	JR ??TEST0289
??FOR0288:
	ld	a,6
	ld	b,a
	ld	hl,DLEN
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0290:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0289:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,0BFH
	call	??subde
	jp	nc,??FOR0288
??NEXT0291:
	ld	hl,0C0H
	ld	(??AUTO+135),hl
	JR ??TEST0293
??FOR0292:
	ld	a,7
	ld	b,a
	ld	hl,DLEN
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0294:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0293:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,0EFH
	call	??subde
	jp	nc,??FOR0292
??NEXT0295:
	ld	hl,0F0H
	ld	(??AUTO+135),hl
	JR ??TEST0297
??FOR0296:
	ld	a,8
	ld	b,a
	ld	hl,DLEN
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0298:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0297:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,0FFH
	call	??subde
	jp	nc,??FOR0296
??NEXT0299:
	ret

; Module: MODULE

; Procedure INITTREE
INITTREE:
	ld	hl,0
	ld	(??AUTO+135),hl
	jp	??TEST0301
??FOR0300:
	ld	hl,1
	push	hl
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+135)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,(??AUTO+135)
	ld	de,0275H
	add	hl,de
	push	hl
	ld	hl,SON
	push	hl
	ld	hl,(??AUTO+135)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,(??AUTO+135)
	push	hl
	ld	hl,PRNT
	push	hl
	ld	hl,(??AUTO+135)
	ld	de,0275H
	add	hl,de
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
??INCR0302:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0301:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,013AH
	call	??subde
	jp	nc,??FOR0300
??NEXT0303:
	ld	hl,0
	ld	(??AUTO+135),hl
	ld	hl,013BH
	ld	(??AUTO+137),hl
??WHILE0304:
	ld	hl,(??AUTO+137)
	push	hl
	ld	hl,0274H
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??SKIP0306
	ld	a,l
	or	h
	jp	z,??SKIP0306
	jp	??WEND0305
??SKIP0306:
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+135)
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	push	hl
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+135)
	inc	hl
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	pop	hl
	add	hl,de
	push	hl
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+137)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,(??AUTO+135)
	push	hl
	ld	hl,SON
	push	hl
	ld	hl,(??AUTO+137)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,(??AUTO+137)
	push	hl
	ld	hl,PRNT
	push	hl
	ld	hl,(??AUTO+135)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,(??AUTO+137)
	push	hl
	ld	hl,PRNT
	push	hl
	ld	hl,(??AUTO+135)
	inc	hl
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,(??AUTO+135)
	inc	hl
	inc	hl
	ld	(??AUTO+135),hl
	ld	hl,(??AUTO+137)
	inc	hl
	ld	(??AUTO+137),hl
	jp	??WHILE0304
??WEND0305:
	ld	hl,0FFFFH
	ld	de,FREQ+1258
	ex	de,hl
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,0
	ld	de,PRNT+1256
	ex	de,hl
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ret

; Module: MODULE

; Procedure LZHGETBIT
LZHGETBIT:
??WHILE0307:
	ld	a,(LZHBUFLEN)
	cp	8
	jp	c,??SKIP0309
	jp	z,??SKIP0309
	JR ??WEND0308
??SKIP0309:
	call	GETBYTE
	ld	(??AUTO+145),a
	ld	a,(??AUTO+145)
	ld	l,a
	ld	h,0
	push	hl
	ld	a,(LZHBUFLEN)
	cpl
	inc	a
	add	a,8
	ld	c,a
	pop	hl
??SHL0310:
	dec	c
	jp	m,??SHLE0311
	add	hl,hl
	JR ??SHL0310
??SHLE0311:
	ex	de,hl
	ld	hl,(LZHBUF)
	ld	a,l
	or	e
	ld	l,a
	ld	a,h
	or	d
	ld	h,a
	ld	(LZHBUF),hl
	ld	a,(LZHBUFLEN)
	add	a,8
	ld	(LZHBUFLEN),a
	JR ??WHILE0307
??WEND0308:
	xor	a
	ld	(??AUTO+144),a
	ld	hl,8000H
	ex	de,hl
	ld	hl,(LZHBUF)
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??ENDIF0313
	ld	a,1
	ld	(??AUTO+144),a
??ENDIF0313:
	ld	hl,(LZHBUF)
	add	hl,hl
	ld	de,0
	ld	(LZHBUF),hl
	ld	a,(LZHBUFLEN)
	sub	1
	ld	(LZHBUFLEN),a
	ld	a,(??AUTO+144)
	ret

; Module: MODULE

; Procedure LZHGETBYTE
LZHGETBYTE:
	xor	a
	ld	(??AUTO+146),a
	ld	b,8
??FOR0314:
	push	bc
	ld	a,(??AUTO+146)
	ld	l,a
	ld	h,0
	add	hl,hl
	ld	de,0
	push	hl
	call	LZHGETBIT
	ld	l,a
	ld	h,0
	ex	de,hl
	pop	hl
	ld	a,l
	or	e
	ld	l,a
	ld	a,h
	or	d
	ld	h,a
	ld	a,l
	ld	(??AUTO+146),a
	pop	bc
??INCR0316:
	dec	b
	jp	nz,??FOR0314
??NEXT0317:
	ld	a,(??AUTO+146)
	ret

; Module: MODULE

; Procedure RECONST
RECONST:
	ld	hl,0
	ld	(??AUTO+137),hl
	ld	hl,0
	ld	(??AUTO+135),hl
	jp	??TEST0319
??FOR0318:
	ld	hl,SON
	push	hl
	ld	hl,(??AUTO+135)
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	push	hl
	ld	hl,0275H
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??ENDIF0323
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+135)
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	inc	hl
	or	a
	ld	a,h
	rra
	ld	h,a
	ld	a,l
	rra
	ld	l,a
	push	hl
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+137)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,SON
	push	hl
	ld	hl,(??AUTO+135)
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	push	hl
	ld	hl,SON
	push	hl
	ld	hl,(??AUTO+137)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,(??AUTO+137)
	inc	hl
	ld	(??AUTO+137),hl
??ENDIF0323:
??INCR0320:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0319:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,0274H
	call	??subde
	jp	nc,??FOR0318
??NEXT0321:
	ld	hl,0
	ld	(??AUTO+135),hl
	ld	hl,013BH
	ld	(??AUTO+137),hl
??WHILE0324:
	ld	hl,(??AUTO+137)
	push	hl
	ld	hl,0275H
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??WEND0325
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+135)
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	push	hl
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+135)
	inc	hl
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	pop	hl
	add	hl,de
	ld	(??AUTO+143),hl
	ld	hl,(??AUTO+143)
	push	hl
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+137)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,(??AUTO+137)
	dec	hl
	ld	(??AUTO+139),hl
??WHILE0326:
	ld	hl,(??AUTO+139)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??WEND0327
	ld	a,l
	or	h
	jp	z,??WEND0327
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+139)
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ld	hl,(??AUTO+143)
	call	??subde
	jp	nc,??WEND0327
	ld	hl,(??AUTO+139)
	dec	hl
	ld	(??AUTO+139),hl
	JR ??WHILE0326
??WEND0327:
	ld	hl,(??AUTO+139)
	inc	hl
	ld	(??AUTO+139),hl
	ld	hl,(??AUTO+137)
	ld	(??AUTO+141),hl
??WHILE0328:
	ld	hl,(??AUTO+141)
	push	hl
	ld	hl,(??AUTO+139)
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??WEND0329
	ld	a,l
	or	h
	jp	z,??WEND0329
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+141)
	dec	hl
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	push	hl
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+141)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,SON
	push	hl
	ld	hl,(??AUTO+141)
	dec	hl
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	push	hl
	ld	hl,SON
	push	hl
	ld	hl,(??AUTO+141)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,(??AUTO+141)
	dec	hl
	ld	(??AUTO+141),hl
	jp	??WHILE0328
??WEND0329:
	ld	hl,(??AUTO+143)
	push	hl
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+139)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,(??AUTO+135)
	push	hl
	ld	hl,SON
	push	hl
	ld	hl,(??AUTO+139)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,(??AUTO+135)
	inc	hl
	inc	hl
	ld	(??AUTO+135),hl
	ld	hl,(??AUTO+137)
	inc	hl
	ld	(??AUTO+137),hl
	jp	??WHILE0324
??WEND0325:
	ld	hl,0
	ld	(??AUTO+135),hl
	jp	??TEST0331
??FOR0330:
	ld	hl,SON
	push	hl
	ld	hl,(??AUTO+135)
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	ld	(??AUTO+139),hl
	ld	hl,(??AUTO+139)
	push	hl
	ld	hl,0275H
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??ELSE0334
	ld	hl,(??AUTO+135)
	push	hl
	ld	hl,PRNT
	push	hl
	ld	hl,(??AUTO+139)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	JR ??ENDIF0335
??ELSE0334:
	ld	hl,(??AUTO+135)
	push	hl
	ld	hl,PRNT
	push	hl
	ld	hl,(??AUTO+139)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,(??AUTO+135)
	push	hl
	ld	hl,PRNT
	push	hl
	ld	hl,(??AUTO+139)
	inc	hl
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
??ENDIF0335:
??INCR0332:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0331:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,0274H
	call	??subde
	jp	nc,??FOR0330
??NEXT0333:
	ret

; Module: MODULE

; Procedure UPDATETREE
UPDATETREE:
	ld	(??AUTO+145),hl
	ld	hl,FREQ+1256
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	push	hl
	ld	hl,8000H
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF0337
	call	RECONST
??ENDIF0337:
	ld	hl,PRNT
	push	hl
	ld	hl,(??AUTO+145)
	ld	de,0275H
	add	hl,de
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	ld	(??AUTO+145),hl
??WHILE0338:
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+145)
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	inc	hl
	push	hl
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+145)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+145)
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	ld	(??AUTO+147),hl
	ld	hl,(??AUTO+145)
	inc	hl
	ld	(??AUTO+149),hl
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+149)
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ld	hl,(??AUTO+147)
	call	??subde
	jp	c,??ENDIF0341
	ld	a,l
	or	h
	jp	z,??ENDIF0341
??WHILE0342:
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+149)
	inc	hl
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ld	hl,(??AUTO+147)
	call	??subde
	jp	c,??WEND0343
	ld	a,l
	or	h
	jp	z,??WEND0343
	ld	hl,(??AUTO+149)
	inc	hl
	ld	(??AUTO+149),hl
	JR ??WHILE0342
??WEND0343:
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+149)
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	push	hl
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+145)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,(??AUTO+147)
	push	hl
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+149)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,SON
	push	hl
	ld	hl,(??AUTO+145)
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	ld	(??AUTO+151),hl
	ld	hl,(??AUTO+149)
	push	hl
	ld	hl,PRNT
	push	hl
	ld	hl,(??AUTO+151)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,(??AUTO+151)
	push	hl
	ld	hl,0275H
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??ENDIF0345
	ld	hl,(??AUTO+149)
	push	hl
	ld	hl,PRNT
	push	hl
	ld	hl,(??AUTO+151)
	inc	hl
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
??ENDIF0345:
	ld	hl,SON
	push	hl
	ld	hl,(??AUTO+149)
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	ld	(??AUTO+153),hl
	ld	hl,(??AUTO+151)
	push	hl
	ld	hl,SON
	push	hl
	ld	hl,(??AUTO+149)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,(??AUTO+145)
	push	hl
	ld	hl,PRNT
	push	hl
	ld	hl,(??AUTO+153)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,(??AUTO+153)
	push	hl
	ld	hl,0275H
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??ENDIF0347
	ld	hl,(??AUTO+145)
	push	hl
	ld	hl,PRNT
	push	hl
	ld	hl,(??AUTO+153)
	inc	hl
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
??ENDIF0347:
	ld	hl,(??AUTO+153)
	push	hl
	ld	hl,SON
	push	hl
	ld	hl,(??AUTO+145)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,(??AUTO+149)
	ld	(??AUTO+145),hl
??ENDIF0341:
	ld	hl,PRNT
	push	hl
	ld	hl,(??AUTO+145)
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	ld	(??AUTO+145),hl
	ld	hl,(??AUTO+145)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF0349
	ret
??ENDIF0349:
	jp	??WHILE0338
??WEND0339:
	ret

; Module: MODULE

; Procedure DECODECHAR
DECODECHAR:
	ld	hl,SON+1256
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	ld	(??AUTO+156),hl
??WHILE0350:
	ld	hl,(??AUTO+156)
	push	hl
	ld	hl,0275H
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??WEND0351
	call	LZHGETBIT
	ld	e,a
	ld	d,0
	ld	hl,(??AUTO+156)
	add	hl,de
	ld	(??AUTO+156),hl
	ld	hl,SON
	push	hl
	ld	hl,(??AUTO+156)
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	ld	(??AUTO+156),hl
	JR ??WHILE0350
??WEND0351:
	ld	hl,(??AUTO+156)
	ld	de,0275H
	call	??subde
	ld	(??AUTO+156),hl
	ld	hl,(??AUTO+156)
	call	UPDATETREE
	ld	hl,(??AUTO+156)
	ret

; Module: MODULE

; Procedure DECODEPOSV1
DECODEPOSV1:
	call	LZHGETBYTE
	ld	l,a
	ld	h,0
	ld	(??AUTO+135),hl
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	ld	de,0
	ld	(??AUTO+137),hl
	ld	hl,DLEN
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	a,(hl)
	sub	2
	ld	l,a
	ld	h,0
	ld	(??AUTO+139),hl
??WHILE0352:
	ld	hl,(??AUTO+139)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??WEND0353
	ld	a,l
	or	h
	jp	z,??WEND0353
	ld	hl,(??AUTO+139)
	dec	hl
	ld	(??AUTO+139),hl
	ld	hl,(??AUTO+135)
	add	hl,hl
	ld	de,0
	push	hl
	call	LZHGETBIT
	ld	l,a
	ld	h,0
	ex	de,hl
	pop	hl
	ld	a,l
	or	e
	ld	l,a
	ld	a,h
	or	d
	ld	h,a
	ld	(??AUTO+135),hl
	JR ??WHILE0352
??WEND0353:
	ld	hl,3FH
	ex	de,hl
	ld	hl,(??AUTO+135)
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ex	de,hl
	ld	hl,(??AUTO+137)
	ld	a,l
	or	e
	ld	l,a
	ld	a,h
	or	d
	ld	h,a
	ret

; Module: MODULE

; Procedure DECODEPOSV2
DECODEPOSV2:
	call	LZHGETBYTE
	ld	(??AUTO+135),a
	ld	a,(??AUTO+135)
	ld	l,a
	ld	h,0
	ld	de,DCODE
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	ld	(??AUTO+136),hl
	ld	a,(??AUTO+135)
	ld	l,a
	ld	h,0
	ld	de,DLEN
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	ld	(??AUTO+138),hl
	ld	hl,(??AUTO+138)
	push	hl
	ld	hl,3
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??ELSE0354
	ld	a,l
	or	h
	jp	z,??ELSE0354
	ld	hl,(??AUTO+138)
	dec	hl
	dec	hl
	dec	hl
	ld	(??AUTO+140),hl
	JR ??ENDIF0355
??ELSE0354:
	ld	hl,0
	ld	(??AUTO+140),hl
??ENDIF0355:
	ld	a,(??AUTO+135)
	ld	l,a
	ld	h,0
	ld	(??AUTO+142),hl
??WHILE0356:
	ld	hl,(??AUTO+140)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??WEND0357
	ld	a,l
	or	h
	jp	z,??WEND0357
	ld	hl,(??AUTO+142)
	add	hl,hl
	ld	de,0
	push	hl
	call	LZHGETBIT
	ld	l,a
	ld	h,0
	ex	de,hl
	pop	hl
	ld	a,l
	or	e
	ld	l,a
	ld	a,h
	or	d
	ld	h,a
	ld	(??AUTO+142),hl
	ld	hl,(??AUTO+140)
	dec	hl
	ld	(??AUTO+140),hl
	JR ??WHILE0356
??WEND0357:
	ld	hl,(??AUTO+136)
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	ld	de,0
	push	hl
	ld	hl,1FH
	ex	de,hl
	ld	hl,(??AUTO+142)
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ex	de,hl
	pop	hl
	ld	a,l
	or	e
	ld	l,a
	ld	a,h
	or	d
	ld	h,a
	ret

; Module: MODULE

	public	UNCRLZH
; Procedure UNCRLZH
UNCRLZH:
	call	INITLZHTABLES
	ld	hl,2
	ld	(LZHPOS),hl
??WHILE0358:
	ld	hl,(LZHPOS)
	push	hl
	ld	hl,(INBUFEND)
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??WEND0359
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(LZHPOS)
	pop	de
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??WEND0359
	ld	hl,(LZHPOS)
	inc	hl
	ld	(LZHPOS),hl
	JR ??WHILE0358
??WEND0359:
	ld	hl,(LZHPOS)
	inc	hl
	ld	(LZHPOS),hl
	ld	hl,(LZHPOS)
	ld	(INBUFPOS),hl
	ld	hl,0
	ld	(LZHBUF),hl
	xor	a
	ld	(LZHBUFLEN),a
	call	LZHGETBYTE
	ld	(??AUTO+132),a
	call	LZHGETBYTE
	ld	(??AUTO+133),a
	ld	a,(??AUTO+132)
	cp	21H
	jp	c,??ENDIF0361
    XOR A
	ret
??ENDIF0361:
	xor	a
	ld	(USEV2),a
	ld	a,(??AUTO+132)
	cp	20H
	jp	c,??ENDIF0363
	ld	a,1
	ld	(USEV2),a
??ENDIF0363:
	call	LZHGETBYTE
	ld	(??AUTO+134),a
	call	LZHGETBYTE
	ld	(??AUTO+134),a
	call	INITTREE
	ld	hl,LZHRING
	ld	(??AUTO+150),hl
	ld	hl,0800H
	ld	(??AUTO+152),hl
	ld	a,20H
	call	FILLMEM
	ld	hl,07C4H
	ld	(LZHRINGPOS),hl
	ld	hl,0
	ld	(OUTBUFPOS),hl
??WHILE0364:
	call	DECODECHAR
	ld	(??AUTO+123),hl
	ld	hl,(??AUTO+123)
	push	hl
	ld	hl,0100H
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??ELSE0366
	ld	hl,(??AUTO+123)
	ld	a,l
	call	PUTBYTE
	or	a
	jp	nz,??ENDIF0369
    XOR A
	ret
??ENDIF0369:
	ld	hl,(??AUTO+123)
	ld	a,l
	ld	b,a
	ld	hl,LZHRING
	push	hl
	ld	hl,(LZHRINGPOS)
	pop	de
	add	hl,de
	ld	(hl),b
	ld	hl,(LZHRINGPOS)
	inc	hl
	push	hl
	ld	hl,07FFH
	ex	de,hl
	pop	hl
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	(LZHRINGPOS),hl
	JP ??WHILE0364
??ELSE0366:
	ld	hl,(??AUTO+123)
	push	hl
	ld	hl,0100H
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ELSE0370
	ld	a,1
	ret
	jp	??ENDIF0371
??ELSE0370:
	ld	hl,(??AUTO+123)
	ld	de,0FEH
	call	??subde
	ld	(??AUTO+127),hl
	ld	a,(USEV2)
	or	a
	jp	z,??ELSE0372
	call	DECODEPOSV2
	ld	(??AUTO+125),hl
	JR ??ENDIF0373
??ELSE0372:
	call	DECODEPOSV1
	ld	(??AUTO+125),hl
??ENDIF0373:
	ld	hl,(??AUTO+125)
	ex	de,hl
	ld	hl,(LZHRINGPOS)
	call	??subde
	dec	hl
	push	hl
	ld	hl,07FFH
	ex	de,hl
	pop	hl
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	(??AUTO+129),hl
	ld	hl,(??AUTO+127)
	ld	a,l
	sub	1
	inc	a
	ld	b,a
	ld	a,b
	or	a
	jp	z,??NEXT0377
??FOR0374:
	push	bc
	ld	hl,LZHRING
	push	hl
	ld	hl,(??AUTO+129)
	pop	de
	add	hl,de
	ld	a,(hl)
	ld	(??AUTO+134),a
	ld	a,(??AUTO+134)
	call	PUTBYTE
	or	a
	jp	nz,??ENDIF0379
    XOR A
	ret
??ENDIF0379:
	ld	a,(??AUTO+134)
	ld	b,a
	ld	hl,LZHRING
	push	hl
	ld	hl,(LZHRINGPOS)
	pop	de
	add	hl,de
	ld	(hl),b
	ld	hl,(LZHRINGPOS)
	inc	hl
	push	hl
	ld	hl,07FFH
	ex	de,hl
	pop	hl
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	(LZHRINGPOS),hl
	ld	hl,(??AUTO+129)
	inc	hl
	push	hl
	ld	hl,07FFH
	ex	de,hl
	pop	hl
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	(??AUTO+129),hl
	pop	bc
??INCR0376:
	dec	b
	jp	nz,??FOR0374
??NEXT0377:
??ENDIF0371:
??ENDIF0367:
	jp	??WHILE0364
??WEND0365:
	ld	a,1
	ret

; Module: MODULE

; Procedure ARCDECOMPSTORED
ARCDECOMPSTORED:
	ld	(??AUTO+29),hl
??WHILE0380:
	ld	hl,(??AUTO+27)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??WEND0381
	call	GETBYTE
	ld	(??AUTO+31),a
	ld	a,(??AUTO+31)
	call	PUTBYTE
	or	a
	jp	nz,??ENDIF0383
    XOR A
	ret
??ENDIF0383:
	ld	hl,(??AUTO+27)
	dec	hl
	ld	(??AUTO+27),hl
	JR ??WHILE0380
??WEND0381:
??WHILE0384:
	ld	hl,(??AUTO+29)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??WEND0385
	ld	hl,1
	ld	(??AUTO+32),hl
??WHILE0386:
	ld	hl,(??AUTO+32)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??WEND0387
	call	GETBYTE
	ld	(??AUTO+31),a
	ld	a,(??AUTO+31)
	call	PUTBYTE
	or	a
	jp	nz,??ENDIF0389
    XOR A
	ret
??ENDIF0389:
	ld	hl,(??AUTO+32)
	inc	hl
	ld	(??AUTO+32),hl
	JR ??WHILE0386
??WEND0387:
	call	GETBYTE
	ld	(??AUTO+31),a
	ld	a,(??AUTO+31)
	call	PUTBYTE
	or	a
	jp	nz,??ENDIF0391
    XOR A
	ret
??ENDIF0391:
	ld	hl,(??AUTO+29)
	dec	hl
	ld	(??AUTO+29),hl
	jp	??WHILE0384
??WEND0385:
	ld	a,1
	ret

; Module: MODULE

; Procedure ARCDECOMPRLE
ARCDECOMPRLE:
	ld	(??AUTO+27),hl
	xor	a
	ld	(??AUTO+31),a
??WHILE0392:
	ld	hl,(??AUTO+27)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??WEND0393
	ld	a,l
	or	h
	jp	z,??WEND0393
	call	GETBYTE
	ld	(??AUTO+29),a
	ld	hl,(??AUTO+27)
	dec	hl
	ld	(??AUTO+27),hl
	ld	a,(??AUTO+29)
	cp	90H
	jp	nz,??ELSE0394
	ld	hl,(??AUTO+27)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ELSE0396
	ld	a,90H
	call	PUTBYTE
	or	a
	jp	nz,??ENDIF0399
    XOR A
	ret
??ENDIF0399:
	JR ??WHILE0392
??ELSE0396:
	call	GETBYTE
	ld	(??AUTO+30),a
	ld	hl,(??AUTO+27)
	dec	hl
	ld	(??AUTO+27),hl
	ld	a,(??AUTO+30)
    OR A
	jp	nz,??ELSE0400
	ld	a,90H
	call	PUTBYTE
	or	a
	jp	nz,??ENDIF0403
    XOR A
	ret
??ENDIF0403:
	ld	a,90H
	ld	(??AUTO+31),a
	JR ??ENDIF0401
??ELSE0400:
??WHILE0404:
	ld	a,(??AUTO+30)
    OR A
	jp	c,??WEND0405
	jp	z,??WEND0405
	ld	a,(??AUTO+31)
	call	PUTBYTE
	or	a
	jp	nz,??ENDIF0407
    XOR A
	ret
??ENDIF0407:
	ld	a,(??AUTO+30)
	sub	1
	ld	(??AUTO+30),a
	JR ??WHILE0404
??WEND0405:
??ENDIF0401:
??ENDIF0397:
	JP ??WHILE0392
??ELSE0394:
	ld	a,(??AUTO+29)
	call	PUTBYTE
	or	a
	jp	nz,??ENDIF0409
    XOR A
	ret
??ENDIF0409:
	ld	a,(??AUTO+29)
	ld	(??AUTO+31),a
??ENDIF0395:
	jp	??WHILE0392
??WEND0393:
	ld	a,1
	ret

; Module: MODULE

; Procedure ARCDECOMPSQUEEZED
ARCDECOMPSQUEEZED:
	ld	a,10H
	call	READBITSLSB
	ld	(??AUTO+29),hl
	ld	hl,(??AUTO+29)
	push	hl
	ld	hl,0100H
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??ENDIF0411
	ld	a,l
	or	h
	jp	z,??ENDIF0411
    XOR A
	ret
??ENDIF0411:
	xor	a
	ld	(??AUTO+27),a
??WHILE0412:
	ld	hl,(??AUTO+29)
	ld	a,l
	ld	b,a
	ld	a,(??AUTO+27)
	sub	b
	jp	nc,??WEND0413
	ld	a,(??AUTO+27)
	ld	l,a
	ld	h,0
	add	hl,hl
	add	hl,hl
	ld	de,0
	ex	de,hl
	ld	hl,(HUFFTREEPTR)
	add	hl,de
	ld	(??AUTO+37),hl
	ld	hl,(??AUTO+37)
	ld	(??AUTO+141),hl
	ld	a,10H
	call	READBITSLSB
	call	WRITEWORD
	ld	hl,(??AUTO+37)
	inc	hl
	inc	hl
	ld	(??AUTO+141),hl
	ld	a,10H
	call	READBITSLSB
	call	WRITEWORD
	ld	a,(??AUTO+27)
	add	a,1
	ld	(??AUTO+27),a
	JR ??WHILE0412
??WEND0413:
	ld	hl,(??AUTO+29)
	ld	(HUFFNODES),hl
	call	INITRLE
	xor	a
	ld	(??AUTO+39),a
??WHILE0414:
	ld	a,(??AUTO+39)
	or	a
	jp	nz,??WEND0415
	call	INPUTAVAIL
	or	a
	jp	z,??WEND0415
	ld	hl,0
	ld	(??AUTO+31),hl
??WHILE0416:
	ld	hl,(??AUTO+31)
	push	hl
	ld	hl,(HUFFNODES)
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??WEND0417
	ld	hl,(??AUTO+31)
	ld	a,l
	ld	h,0
	add	hl,hl
	add	hl,hl
	ld	de,0
	ex	de,hl
	ld	hl,(HUFFTREEPTR)
	add	hl,de
	ld	(??AUTO+37),hl
	call	READBITLSB
	or	a
	jp	z,??ELSE0418
	ld	hl,(??AUTO+37)
	inc	hl
	inc	hl
	call	READWORD
	ld	(??AUTO+33),hl
	JR ??ENDIF0419
??ELSE0418:
	ld	hl,(??AUTO+37)
	call	READWORD
	ld	(??AUTO+33),hl
??ENDIF0419:
	ld	hl,8000H
	ex	de,hl
	ld	hl,(??AUTO+33)
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??ELSE0420
	ld	hl,(??AUTO+33)
	ld	a,l
	cpl
	ld	l,a
	ld	a,h
	cpl
	ld	h,a
	ld	(??AUTO+35),hl
	ld	hl,(??AUTO+35)
	push	hl
	ld	hl,0100H
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ELSE0422
	ld	a,1
	ld	(??AUTO+39),a
	JR ??ENDIF0423
??ELSE0422:
	ld	hl,(??AUTO+35)
	ld	a,l
	call	RLEDECODEBYTE
	or	a
	jp	nz,??ENDIF0425
    XOR A
	ret
??ENDIF0425:
??ENDIF0423:
	ld	hl,(HUFFNODES)
	ld	(??AUTO+31),hl
	JP ??WHILE0416
??ELSE0420:
	ld	hl,(??AUTO+33)
	ld	(??AUTO+31),hl
??ENDIF0421:
	jp	??WHILE0416
??WEND0417:
	jp	??WHILE0414
??WEND0415:
	ld	a,1
	ret

; Module: MODULE

; Procedure ARCDECOMPLZW56
ARCDECOMPLZW56:
	ld	(??AUTO+27),a
	call	INITLZW
	ld	hl,0100H
	ld	(LZWNEXTCODE),hl
	call	INITBITSMSB
	ld	a,(??AUTO+27)
	or	a
	jp	z,??ENDIF0427
	call	INITRLE
??ENDIF0427:
	ld	hl,0FFFFH
	ld	(??AUTO+30),hl
	ld	a,1
	ld	(??AUTO+32),a
	xor	a
	ld	(??AUTO+33),a
??WHILE0428:
	ld	a,(??AUTO+33)
	or	a
	jp	nz,??WEND0429
	call	INPUTAVAIL
	or	a
	jp	z,??WEND0429
	ld	a,0CH
	call	READCODEMSB
	ld	(??AUTO+28),hl
	ld	hl,(??AUTO+28)
	push	hl
	ld	hl,0100H
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??ELSE0430
	ld	a,(??AUTO+27)
	or	a
	jp	z,??ELSE0432
	ld	hl,(??AUTO+28)
	ld	a,l
	call	RLEDECODEBYTE
	or	a
	jp	nz,??ENDIF0435
    XOR A
	ret
??ENDIF0435:
	JR ??ENDIF0433
??ELSE0432:
	ld	hl,(??AUTO+28)
	ld	a,l
	call	PUTBYTE
	or	a
	jp	nz,??ENDIF0437
    XOR A
	ret
??ENDIF0437:
??ENDIF0433:
	ld	hl,(??AUTO+28)
	ld	a,l
	ld	(??AUTO+34),a
	jp	??ENDIF0431
??ELSE0430:
	ld	hl,(??AUTO+28)
	push	hl
	ld	hl,(LZWNEXTCODE)
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??ELSE0438
	ld	hl,(??AUTO+28)
	call	LZWFIRSTBYTE
	ld	(??AUTO+34),a
	ld	hl,(??AUTO+28)
	call	LZWOUTPUT
	jp	??ENDIF0439
??ELSE0438:
	ld	hl,(??AUTO+28)
	push	hl
	ld	hl,(LZWNEXTCODE)
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ELSE0440
	ld	hl,(??AUTO+30)
	push	hl
	ld	hl,0FFFFH
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??ELSE0440
	ld	hl,(??AUTO+30)
	call	LZWFIRSTBYTE
	ld	(??AUTO+34),a
	ld	hl,(??AUTO+30)
	call	LZWOUTPUT
	ld	a,(??AUTO+27)
	or	a
	jp	z,??ELSE0442
	ld	a,(??AUTO+34)
	call	RLEDECODEBYTE
	or	a
	jp	nz,??ENDIF0445
    XOR A
	ret
??ENDIF0445:
	JR ??ENDIF0441
??ELSE0442:
	ld	a,(??AUTO+34)
	call	PUTBYTE
	or	a
	jp	nz,??ENDIF0447
    XOR A
	ret
??ENDIF0447:
??ENDIF0443:
	JR ??ENDIF0441
??ELSE0440:
	ld	a,1
	ld	(??AUTO+33),a
??ENDIF0441:
??ENDIF0439:
??ENDIF0431:
	ld	a,(??AUTO+32)
	or	a
	jp	nz,??ENDIF0449
	ld	hl,(??AUTO+30)
	push	hl
	ld	hl,0FFFFH
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??ENDIF0449
	ld	a,(??AUTO+33)
	or	a
	jp	nz,??ENDIF0449
	ld	hl,(LZWNEXTCODE)
	push	hl
	ld	hl,1000H
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??ENDIF0451
	ld	hl,(??AUTO+30)
	ld	(??AUTO+147),hl
	ld	a,(??AUTO+34)
	call	LZWADDENTRY
??ENDIF0451:
??ENDIF0449:
	ld	hl,(??AUTO+28)
	ld	(??AUTO+30),hl
	xor	a
	ld	(??AUTO+32),a
	jp	??WHILE0428
??WEND0429:
	ld	a,1
	ret

; Module: MODULE

; Procedure ARCDECOMPLZW8
ARCDECOMPLZW8:
	call	GETBYTE
	ld	(LZWMAXBITS),a
	ld	a,(LZWMAXBITS)
	cp	9
	jp	c,??ORTRUE0454
	ld	a,(LZWMAXBITS)
	cp	10H
	jp	c,??ENDIF0453
	jp	z,??ENDIF0453
??ORTRUE0454:
	ld	a,0CH
	ld	(LZWMAXBITS),a
??ENDIF0453:
	call	INITLZW
	ld	hl,0101H
	ld	(LZWNEXTCODE),hl
	ld	a,9
	ld	(LZWCODESIZE),a
	call	INITBITSLSB
	call	INITRLE
	ld	hl,0FFFFH
	ld	(??AUTO+29),hl
	ld	a,1
	ld	(??AUTO+31),a
	xor	a
	ld	(??AUTO+32),a
??WHILE0455:
	ld	a,(??AUTO+32)
	or	a
	jp	nz,??WEND0456
	call	INPUTAVAIL
	or	a
	jp	z,??WEND0456
	ld	a,(LZWCODESIZE)
	call	READBITSLSB
	ld	(??AUTO+27),hl
	ld	hl,(??AUTO+27)
	push	hl
	ld	hl,0100H
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ELSE0457
	call	INITLZW
	ld	hl,0101H
	ld	(LZWNEXTCODE),hl
	ld	a,9
	ld	(LZWCODESIZE),a
	ld	hl,0FFFFH
	ld	(??AUTO+29),hl
	ld	a,1
	ld	(??AUTO+31),a
	JR ??WHILE0455
??ELSE0457:
	ld	hl,(??AUTO+27)
	push	hl
	ld	hl,0100H
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??ELSE0459
	ld	hl,(??AUTO+27)
	ld	a,l
	call	RLEDECODEBYTE
	or	a
	jp	nz,??ENDIF0462
    XOR A
	ret
??ENDIF0462:
	ld	hl,(??AUTO+27)
	ld	a,l
	ld	(??AUTO+33),a
	jp	??ENDIF0460
??ELSE0459:
	ld	hl,(??AUTO+27)
	push	hl
	ld	hl,(LZWNEXTCODE)
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??ELSE0463
	ld	hl,(??AUTO+27)
	call	LZWFIRSTBYTE
	ld	(??AUTO+33),a
	ld	hl,(??AUTO+27)
	call	LZWOUTPUT
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF0466
    XOR A
	ret
??ENDIF0466:
	jp	??ENDIF0464
??ELSE0463:
	ld	hl,(??AUTO+27)
	push	hl
	ld	hl,(LZWNEXTCODE)
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ELSE0467
	ld	hl,(??AUTO+29)
	push	hl
	ld	hl,0FFFFH
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??ELSE0467
	ld	hl,(??AUTO+29)
	call	LZWFIRSTBYTE
	ld	(??AUTO+33),a
	ld	hl,(??AUTO+29)
	call	LZWOUTPUT
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF0470
    XOR A
	ret
??ENDIF0470:
	ld	a,(??AUTO+33)
	call	RLEDECODEBYTE
	or	a
	jp	nz,??ENDIF0472
    XOR A
	ret
??ENDIF0472:
	JR ??ENDIF0468
??ELSE0467:
	ld	a,1
	ld	(??AUTO+32),a
??ENDIF0468:
??ENDIF0464:
??ENDIF0460:
	ld	a,(??AUTO+31)
	or	a
	jp	nz,??ENDIF0474
	ld	hl,(??AUTO+29)
	push	hl
	ld	hl,0FFFFH
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??ENDIF0474
	ld	a,(??AUTO+32)
	or	a
	jp	nz,??ENDIF0474
	ld	hl,1
	push	hl
	ld	a,(LZWMAXBITS)
	ld	c,a
	pop	hl
??SHL0477:
	dec	c
	jp	m,??SHLE0478
	add	hl,hl
	JR ??SHL0477
??SHLE0478:
	ex	de,hl
	ld	hl,(LZWNEXTCODE)
	call	??subde
	jp	nc,??ENDIF0476
	ld	hl,(??AUTO+29)
	ld	(??AUTO+147),hl
	ld	a,(??AUTO+33)
	call	LZWADDENTRY
	ld	hl,1
	push	hl
	ld	a,(LZWCODESIZE)
	ld	c,a
	pop	hl
??SHL0479:
	dec	c
	jp	m,??SHLE0480
	add	hl,hl
	JR ??SHL0479
??SHLE0480:
	dec	hl
	ld	(??AUTO+34),hl
	ld	hl,(LZWNEXTCODE)
	push	hl
	ld	hl,(??AUTO+34)
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??ENDIF0482
	ld	a,l
	or	h
	jp	z,??ENDIF0482
	ld	a,(LZWMAXBITS)
	ld	b,a
	ld	a,(LZWCODESIZE)
	sub	b
	jp	nc,??ENDIF0482
	ld	a,(LZWCODESIZE)
	add	a,1
	ld	(LZWCODESIZE),a
??ENDIF0482:
??ENDIF0476:
??ENDIF0474:
	ld	hl,(??AUTO+27)
	ld	(??AUTO+29),hl
	xor	a
	ld	(??AUTO+31),a
??ENDIF0458:
	jp	??WHILE0455
??WEND0456:
	ld	a,1
	ret

; Module: MODULE

; Procedure ARCDECOMPSQUASHED
ARCDECOMPSQUASHED:
	call	INITLZW
	ld	hl,0101H
	ld	(LZWNEXTCODE),hl
	ld	a,9
	ld	(LZWCODESIZE),a
	ld	a,0DH
	ld	(LZWMAXBITS),a
	call	INITBITSLSB
	ld	hl,0FFFFH
	ld	(??AUTO+38),hl
	ld	a,1
	ld	(??AUTO+40),a
	xor	a
	ld	(??AUTO+41),a
??WHILE0483:
	ld	a,(??AUTO+41)
	or	a
	jp	nz,??WEND0484
	call	INPUTAVAIL
	or	a
	jp	z,??WEND0484
	ld	a,(LZWCODESIZE)
	call	READBITSLSB
	ld	(??AUTO+36),hl
	ld	hl,(??AUTO+36)
	push	hl
	ld	hl,0100H
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ELSE0485
	call	INITLZW
	ld	hl,0101H
	ld	(LZWNEXTCODE),hl
	ld	a,9
	ld	(LZWCODESIZE),a
	ld	hl,0FFFFH
	ld	(??AUTO+38),hl
	ld	a,1
	ld	(??AUTO+40),a
	JR ??WHILE0483
??ELSE0485:
	ld	hl,(??AUTO+36)
	push	hl
	ld	hl,0100H
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??ELSE0487
	ld	hl,(??AUTO+36)
	ld	a,l
	call	PUTBYTE
	or	a
	jp	nz,??ENDIF0490
    XOR A
	ret
??ENDIF0490:
	ld	hl,(??AUTO+36)
	ld	a,l
	ld	(??AUTO+42),a
	jp	??ENDIF0488
??ELSE0487:
	ld	hl,(??AUTO+36)
	push	hl
	ld	hl,(LZWNEXTCODE)
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??ELSE0491
	ld	hl,(??AUTO+36)
	call	LZWFIRSTBYTE
	ld	(??AUTO+42),a
	ld	hl,(??AUTO+36)
	push	hl
	call	LZWOUTPUTRAW
	pop	de
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF0494
    XOR A
	ret
??ENDIF0494:
	jp	??ENDIF0492
??ELSE0491:
	ld	hl,(??AUTO+36)
	push	hl
	ld	hl,(LZWNEXTCODE)
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ELSE0495
	ld	hl,(??AUTO+38)
	push	hl
	ld	hl,0FFFFH
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??ELSE0495
	ld	hl,(??AUTO+38)
	call	LZWFIRSTBYTE
	ld	(??AUTO+42),a
	ld	hl,(??AUTO+38)
	push	hl
	call	LZWOUTPUTRAW
	pop	de
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF0498
    XOR A
	ret
??ENDIF0498:
	ld	a,(??AUTO+42)
	call	PUTBYTE
	or	a
	jp	nz,??ENDIF0500
    XOR A
	ret
??ENDIF0500:
	JR ??ENDIF0496
??ELSE0495:
	ld	a,1
	ld	(??AUTO+41),a
??ENDIF0496:
??ENDIF0492:
??ENDIF0488:
	ld	a,(??AUTO+40)
	or	a
	jp	nz,??ENDIF0502
	ld	hl,(??AUTO+38)
	push	hl
	ld	hl,0FFFFH
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??ENDIF0502
	ld	a,(??AUTO+41)
	or	a
	jp	nz,??ENDIF0502
	ld	hl,(??AUTO+38)
	ld	(??AUTO+147),hl
	ld	a,(??AUTO+42)
	call	LZWADDENTRY
	ld	hl,1
	push	hl
	ld	a,(LZWCODESIZE)
	ld	c,a
	pop	hl
??SHL0503:
	dec	c
	jp	m,??SHLE0504
	add	hl,hl
	JR ??SHL0503
??SHLE0504:
	dec	hl
	ld	(??AUTO+43),hl
	ld	hl,(LZWNEXTCODE)
	push	hl
	ld	hl,(??AUTO+43)
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??ENDIF0506
	ld	a,l
	or	h
	jp	z,??ENDIF0506
	ld	a,(LZWMAXBITS)
	ld	b,a
	ld	a,(LZWCODESIZE)
	sub	b
	jp	nc,??ENDIF0506
	ld	a,(LZWCODESIZE)
	add	a,1
	ld	(LZWCODESIZE),a
??ENDIF0506:
??ENDIF0502:
	ld	hl,(??AUTO+36)
	ld	(??AUTO+38),hl
	xor	a
	ld	(??AUTO+40),a
??ENDIF0486:
	jp	??WHILE0483
??WEND0484:
	ld	a,1
	ret

; Module: MODULE

	public	EXTRACTARCMEMBER
; Procedure EXTRACTARCMEMBER
EXTRACTARCMEMBER:
	call	GETBYTE
	ld	(??AUTO+3),a
	ld	a,(??AUTO+3)
    OR A
	jp	nz,??ENDIF0508
    XOR A
	ret
??ENDIF0508:
	xor	a
	ld	(??AUTO+2),a
??WHILE0509:
	ld	a,(??AUTO+2)
	cp	0DH
	jp	nc,??WEND0510
	call	GETBYTE
	ld	b,a
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+12
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+2)
	add	a,1
	ld	(??AUTO+2),a
	JR ??WHILE0509
??WEND0510:
	xor	a
	ld	(??AUTO+12+13),a
	call	GETBYTE
	ld	l,a
	ld	h,0
	ld	(??AUTO+4),hl
	call	GETBYTE
	ld	l,a
	ld	h,0
	ld	h,l
	ld	l,0
	ld	de,0
	ex	de,hl
	ld	hl,(??AUTO+4)
	add	hl,de
	ld	(??AUTO+4),hl
	call	GETBYTE
	ld	l,a
	ld	h,0
	ld	(??AUTO+8),hl
	call	GETBYTE
	ld	l,a
	ld	h,0
	ld	h,l
	ld	l,0
	ld	de,0
	ex	de,hl
	ld	hl,(??AUTO+8)
	add	hl,de
	ld	(??AUTO+8),hl
	call	GETBYTE
	ld	(??AUTO+2),a
	call	GETBYTE
	ld	(??AUTO+2),a
	call	GETBYTE
	ld	(??AUTO+2),a
	call	GETBYTE
	ld	(??AUTO+2),a
	call	GETBYTE
	ld	(??AUTO+2),a
	call	GETBYTE
	ld	(??AUTO+2),a
	ld	a,(??AUTO+3)
	cp	2
	jp	c,??ELSE0511
	call	GETBYTE
	ld	l,a
	ld	h,0
	ld	(??AUTO+6),hl
	call	GETBYTE
	ld	l,a
	ld	h,0
	ld	h,l
	ld	l,0
	ld	de,0
	ex	de,hl
	ld	hl,(??AUTO+6)
	add	hl,de
	ld	(??AUTO+6),hl
	call	GETBYTE
	ld	l,a
	ld	h,0
	ld	(??AUTO+10),hl
	call	GETBYTE
	ld	l,a
	ld	h,0
	ld	h,l
	ld	l,0
	ld	de,0
	ex	de,hl
	ld	hl,(??AUTO+10)
	add	hl,de
	ld	(??AUTO+10),hl
	JR ??ENDIF0512
??ELSE0511:
	ld	hl,(??AUTO+4)
	ld	(??AUTO+6),hl
	ld	hl,(??AUTO+8)
	ld	(??AUTO+10),hl
??ENDIF0512:
	ld	a,20H
	call	PRINTCHAR
	ld	a,20H
	call	PRINTCHAR
	xor	a
	ld	(??AUTO+2),a
??WHILE0513:
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+12
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??WEND0514
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+12
	add	hl,de
	ld	a,(hl)
	call	PRINTCHAR
	ld	a,(??AUTO+2)
	add	a,1
	ld	(??AUTO+2),a
	JR ??WHILE0513
??WEND0514:
	ld	hl,(OFCBPTR)
	ld	(??AUTO+150),hl
	ld	hl,24H
	ld	(??AUTO+152),hl
    XOR A
	call	FILLMEM
	xor	a
	ld	(??AUTO+2),a
??WHILE0515:
	ld	a,(??AUTO+2)
	cp	8
	jp	nc,??WEND0516
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+12
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??WEND0516
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+12
	add	hl,de
	ld	a,(hl)
	cp	2EH
	jp	z,??WEND0516
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+12
	add	hl,de
	ld	a,(hl)
	ld	b,a
	ld	a,(??AUTO+2)
	add	a,1
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+2)
	add	a,1
	ld	(??AUTO+2),a
	JR ??WHILE0515
??WEND0516:
??WHILE0517:
	ld	a,(??AUTO+2)
	cp	8
	jp	nc,??WEND0518
	ld	a,20H
	ld	b,a
	ld	a,(??AUTO+2)
	add	a,1
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+2)
	add	a,1
	ld	(??AUTO+2),a
	JR ??WHILE0517
??WEND0518:
	xor	a
	ld	(??AUTO+2),a
??WHILE0519:
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+12
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??WEND0520
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+12
	add	hl,de
	ld	a,(hl)
	cp	2EH
	jp	z,??WEND0520
	ld	a,(??AUTO+2)
	add	a,1
	ld	(??AUTO+2),a
	JR ??WHILE0519
??WEND0520:
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+12
	add	hl,de
	ld	a,(hl)
	cp	2EH
	jp	nz,??ELSE0521
	ld	a,(??AUTO+2)
	add	a,1
	ld	(??AUTO+2),a
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+12
	add	hl,de
	ld	a,(hl)
	ld	b,a
	ld	hl,(OFCBPTR)
	ld	de,9
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+12
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??ENDIF0524
	ld	a,(??AUTO+2)
	add	a,1
	ld	(??AUTO+2),a
??ENDIF0524:
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+12
	add	hl,de
	ld	a,(hl)
	ld	b,a
	ld	hl,(OFCBPTR)
	ld	de,10
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+12
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??ENDIF0526
	ld	a,(??AUTO+2)
	add	a,1
	ld	(??AUTO+2),a
??ENDIF0526:
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+12
	add	hl,de
	ld	a,(hl)
	ld	b,a
	ld	hl,(OFCBPTR)
	ld	de,11
	add	hl,de
	ld	(hl),b
	JR ??ENDIF0522
??ELSE0521:
	ld	a,20H
	ld	b,a
	ld	hl,(OFCBPTR)
	ld	de,9
	add	hl,de
	ld	(hl),b
	ld	a,20H
	ld	b,a
	ld	hl,(OFCBPTR)
	ld	de,10
	add	hl,de
	ld	(hl),b
	ld	a,20H
	ld	b,a
	ld	hl,(OFCBPTR)
	ld	de,11
	add	hl,de
	ld	(hl),b
??ENDIF0522:
	ld	hl,(OFCBPTR)
	call	DELETEFILE
	ld	hl,(OFCBPTR)
	call	MAKEFILE
	cp	0FFH
	jp	nz,??ENDIF0528
	ld	hl,??DATA0529
	call	PRINTSTR
	ld	a,2
	ret
??ENDIF0528:
	ld	hl,0
	ld	(OUTBUFPOS),hl
	ld	a,1
	ld	(??AUTO+26),a
	ld	a,(??AUTO+3)
	cp	1
	jp	z,??ORTRUE0532
	ld	a,(??AUTO+3)
	cp	2
	jp	nz,??ELSE0530
??ORTRUE0532:
	ld	hl,(??AUTO+8)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??ELSE0530
	ld	a,l
	or	h
	jp	z,??ELSE0530
	ld	hl,0FFFFH
	ld	(INPUTLIMIT),hl
	JR ??ENDIF0531
??ELSE0530:
	ld	hl,(??AUTO+4)
	ld	(INPUTLIMIT),hl
??ENDIF0531:
	ld	a,(??AUTO+3)
	cp	1
	jp	z,??ORTRUE0535
	ld	a,(??AUTO+3)
	cp	2
	jp	nz,??ELSE0533
??ORTRUE0535:
	ld	hl,(??AUTO+4)
	ld	(??AUTO+27),hl
	ld	hl,(??AUTO+8)
	call	ARCDECOMPSTORED
	ld	(??AUTO+26),a
	jp	??ENDIF0534
??ELSE0533:
	ld	a,(??AUTO+3)
	cp	3
	jp	nz,??ELSE0536
	ld	hl,(??AUTO+4)
	call	ARCDECOMPRLE
	ld	(??AUTO+26),a
	jp	??ENDIF0537
??ELSE0536:
	ld	a,(??AUTO+3)
	cp	4
	jp	nz,??ELSE0538
	call	INITBITSLSB
	call	ARCDECOMPSQUEEZED
	ld	(??AUTO+26),a
	jp	??ENDIF0539
??ELSE0538:
	ld	a,(??AUTO+3)
	cp	5
	jp	nz,??ELSE0540
    XOR A
	call	ARCDECOMPLZW56
	ld	(??AUTO+26),a
	jp	??ENDIF0541
??ELSE0540:
	ld	a,(??AUTO+3)
	cp	6
	jp	nz,??ELSE0542
	ld	a,1
	call	ARCDECOMPLZW56
	ld	(??AUTO+26),a
	jp	??ENDIF0543
??ELSE0542:
	ld	a,(??AUTO+3)
	cp	7
	jp	z,??ORTRUE0546
	ld	a,(??AUTO+3)
	cp	8
	jp	nz,??ELSE0544
??ORTRUE0546:
	call	ARCDECOMPLZW8
	ld	(??AUTO+26),a
	JR ??ENDIF0545
??ELSE0544:
	ld	a,(??AUTO+3)
	cp	9
	jp	nz,??ELSE0547
	call	ARCDECOMPSQUASHED
	ld	(??AUTO+26),a
	JR ??ENDIF0548
??ELSE0547:
	ld	hl,??DATA0549
	call	PRINTSTR
	ld	hl,@EXTRACTARCMEMBER$MSGMETHOD
	call	PRINTSTR
	ld	a,20H
	call	PRINTCHAR
	ld	a,(??AUTO+3)
	call	PRINTHEX
??WHILE0550:
	ld	hl,(INPUTLIMIT)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??WEND0551
	ld	a,l
	or	h
	jp	z,??WEND0551
	call	GETBYTE
	ld	(??AUTO+2),a
	JR ??WHILE0550
??WEND0551:
	ld	hl,(OFCBPTR)
	call	CLOSEFILE
	ld	hl,0FFFFH
	ld	(INPUTLIMIT),hl
	ld	a,2
	ret
??ENDIF0548:
??ENDIF0545:
??ENDIF0543:
??ENDIF0541:
??ENDIF0539:
??ENDIF0537:
??ENDIF0534:
??WHILE0552:
	ld	hl,(INPUTLIMIT)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??WEND0553
	ld	a,l
	or	h
	jp	z,??WEND0553
	ld	hl,(INPUTLIMIT)
	push	hl
	ld	hl,0FFFFH
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??WEND0553
	call	GETBYTE
	ld	(??AUTO+2),a
	JR ??WHILE0552
??WEND0553:
	ld	hl,0FFFFH
	ld	(INPUTLIMIT),hl
	ld	a,(??AUTO+26)
	or	a
	jp	z,??ENDIF0555
	call	FLUSHOUTBUF
	ld	(??AUTO+26),a
??ENDIF0555:
	ld	hl,(OFCBPTR)
	call	CLOSEFILE
	ld	a,(??AUTO+26)
	or	a
	jp	z,??ELSE0556
	ld	hl,??DATA0558
	call	PRINTSTR
	ld	a,(FILECOUNT)
	add	a,1
	ld	(FILECOUNT),a
	JR ??ENDIF0557
??ELSE0556:
	ld	hl,??DATA0559
	call	PRINTSTR
??ENDIF0557:
	call	CRLF
	ld	a,(??AUTO+26)
	ret

; Module: MODULE

	public	EXTRACTARC
; Procedure EXTRACTARC
EXTRACTARC:
	xor	a
	ld	(FILECOUNT),a
	ld	hl,0FFFFH
	ld	(INPUTLIMIT),hl
??WHILE0560:
	call	INPUTAVAIL
	or	a
	jp	z,??WEND0561
	call	PEEKBYTE
	ld	(??AUTO+51),a
	ld	a,(??AUTO+51)
	cp	1AH
	jp	z,??ENDIF0563
	ld	a,1
	ret
??ENDIF0563:
	call	GETBYTE
	ld	(??AUTO+51),a
	call	PEEKBYTE
	ld	(??AUTO+51),a
	ld	a,(??AUTO+51)
    OR A
	jp	nz,??ENDIF0565
	ld	a,1
	ret
??ENDIF0565:
	call	EXTRACTARCMEMBER
	ld	(??AUTO+50),a
	ld	a,(??AUTO+50)
    OR A
	jp	nz,??ENDIF0567
    XOR A
	ret
??ENDIF0567:
	JR ??WHILE0560
??WEND0561:
	ld	a,1
	ret

; Module: MODULE

	public	EXTRACTLBR
; Procedure EXTRACTLBR
EXTRACTLBR:
	ld	hl,0
	ld	(INBUFPOS),hl
	ld	hl,0
	ld	(INBUFEND),hl
	ld	hl,0FFFFH
	ld	(INPUTLIMIT),hl
	call	FILLINBUF
	or	a
	jp	nz,??ENDIF0569
	ld	hl,@EXTRACTLBR$MSGBADLBR
	call	PRINTSTR
    XOR A
	ret
??ENDIF0569:
	ld	hl,(INBUFPTR)
	ld	(??AUTO+55),hl
	ld	hl,(??AUTO+55)
	ld	a,(hl)
    OR A
	jp	z,??ENDIF0571
	ld	hl,@EXTRACTLBR$MSGBADLBR
	call	PRINTSTR
    XOR A
	ret
??ENDIF0571:
	ld	hl,(??AUTO+55)
	ld	de,14
	add	hl,de
	ld	a,(hl)
	ld	(??AUTO+43),a
	ld	a,(??AUTO+43)
    OR A
	jp	z,??ORTRUE0574
	ld	a,(??AUTO+43)
	cp	20H
	jp	c,??ENDIF0573
	jp	z,??ENDIF0573
??ORTRUE0574:
	ld	hl,@EXTRACTLBR$MSGBADLBR
	call	PRINTSTR
    XOR A
	ret
??ENDIF0573:
	ld	a,(??AUTO+43)
	ld	l,a
	ld	h,0
	add	hl,hl
	add	hl,hl
	ld	de,0
	ld	(??AUTO+47),hl
	ld	hl,(FCBPTR)
	ld	(??AUTO+123),hl
	ld	hl,??AUTO+6
	ld	(??AUTO+125),hl
	ld	hl,0CH
	call	COPYMEM
	ld	hl,??AUTO+6+12
	ld	(??AUTO+150),hl
	ld	hl,18H
	ld	(??AUTO+152),hl
    XOR A
	call	FILLMEM
	xor	a
	ld	(FILECOUNT),a
	ld	hl,1
	ld	(??AUTO+45),hl
??WHILE0575:
	ld	hl,(??AUTO+45)
	push	hl
	ld	hl,(??AUTO+47)
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??WEND0576
	ld	hl,(??AUTO+45)
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	ld	de,0
	ex	de,hl
	ld	hl,(INBUFPTR)
	add	hl,de
	ld	(??AUTO+55),hl
	ld	hl,(INBUFEND)
	ex	de,hl
	ld	hl,(INBUFPTR)
	add	hl,de
	ex	de,hl
	ld	hl,(??AUTO+55)
	call	??subde
	jp	c,??ELSE0577
	ld	hl,(??AUTO+47)
	ld	(??AUTO+45),hl
	JR ??WHILE0575
??ELSE0577:
	ld	hl,(??AUTO+55)
	ld	a,(hl)
	cp	0FFH
	jp	nz,??ELSE0579
	ld	hl,(??AUTO+47)
	ld	(??AUTO+45),hl
	jp	??ENDIF0580
??ELSE0579:
	ld	hl,(??AUTO+55)
	ld	a,(hl)
    OR A
	jp	nz,??ELSE0581
	ld	a,20H
	call	PRINTCHAR
	ld	a,20H
	call	PRINTCHAR
	ld	a,1
	ld	(??AUTO+44),a
??WHILE0583:
	ld	a,(??AUTO+44)
	cp	8
	jp	c,??SKIP0585
	jp	z,??SKIP0585
	JR ??WEND0584
??SKIP0585:
	ld	a,(??AUTO+44)
	ld	l,a
	ld	h,0
	ld	de,(??AUTO+55)
	add	hl,de
	ld	a,(hl)
	and	7FH
	cp	20H
	jp	z,??ENDIF0587
	ld	a,(??AUTO+44)
	ld	l,a
	ld	h,0
	ld	de,(??AUTO+55)
	add	hl,de
	ld	a,(hl)
	and	7FH
	call	PRINTCHAR
??ENDIF0587:
	ld	a,(??AUTO+44)
	add	a,1
	ld	(??AUTO+44),a
	JR ??WHILE0583
??WEND0584:
	ld	hl,(??AUTO+55)
	ld	de,9
	add	hl,de
	ld	a,(hl)
	and	7FH
	cp	20H
	jp	z,??ENDIF0589
	ld	a,2EH
	call	PRINTCHAR
	ld	a,9
	ld	(??AUTO+44),a
??WHILE0590:
	ld	a,(??AUTO+44)
	cp	0BH
	jp	c,??SKIP0592
	jp	z,??SKIP0592
	JR ??WEND0591
??SKIP0592:
	ld	a,(??AUTO+44)
	ld	l,a
	ld	h,0
	ld	de,(??AUTO+55)
	add	hl,de
	ld	a,(hl)
	and	7FH
	cp	20H
	jp	z,??ENDIF0594
	ld	a,(??AUTO+44)
	ld	l,a
	ld	h,0
	ld	de,(??AUTO+55)
	add	hl,de
	ld	a,(hl)
	and	7FH
	call	PRINTCHAR
??ENDIF0594:
	ld	a,(??AUTO+44)
	add	a,1
	ld	(??AUTO+44),a
	JR ??WHILE0590
??WEND0591:
??ENDIF0589:
	ld	hl,(??AUTO+55)
	ld	de,12
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	push	hl
	ld	hl,(??AUTO+55)
	ld	de,13
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	ld	h,l
	ld	l,0
	ld	de,0
	ex	de,hl
	pop	hl
	add	hl,de
	ld	(??AUTO+51),hl
	ld	hl,(??AUTO+55)
	ld	de,14
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	push	hl
	ld	hl,(??AUTO+55)
	ld	de,15
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	ld	h,l
	ld	l,0
	ld	de,0
	ex	de,hl
	pop	hl
	add	hl,de
	ld	(??AUTO+53),hl
	ld	hl,(OFCBPTR)
	ld	(??AUTO+150),hl
	ld	hl,24H
	ld	(??AUTO+152),hl
    XOR A
	call	FILLMEM
	ld	a,1
	ld	(??AUTO+44),a
??WHILE0595:
	ld	a,(??AUTO+44)
	cp	0BH
	jp	c,??SKIP0597
	jp	z,??SKIP0597
	JR ??WEND0596
??SKIP0597:
	ld	a,(??AUTO+44)
	ld	l,a
	ld	h,0
	ld	de,(??AUTO+55)
	add	hl,de
	ld	a,(hl)
	and	7FH
	ld	b,a
	ld	a,(??AUTO+44)
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+44)
	add	a,1
	ld	(??AUTO+44),a
	JR ??WHILE0595
??WEND0596:
	ld	hl,(??AUTO+53)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??ELSE0598
	ld	hl,(OFCBPTR)
	call	DELETEFILE
	ld	hl,(OFCBPTR)
	call	MAKEFILE
	ld	(??AUTO+42),a
	ld	a,(??AUTO+42)
	cp	0FFH
	jp	nz,??ELSE0600
	ld	hl,@EXTRACTLBR$MSGNOCREAT
	call	PRINTSTR
	call	CRLF
	JP ??ENDIF0599
??ELSE0600:
	ld	hl,(IFCBPTR)
	call	CLOSEFILE
	ld	hl,??AUTO+6
	ld	(??AUTO+123),hl
	ld	hl,(IFCBPTR)
	ld	(??AUTO+125),hl
	ld	hl,0CH
	call	COPYMEM
	ld	hl,(IFCBPTR)
	ld	de,0CH
	add	hl,de
	ld	(??AUTO+150),hl
	ld	hl,18H
	ld	(??AUTO+152),hl
    XOR A
	call	FILLMEM
	ld	hl,(IFCBPTR)
	call	OPENFILE
	ld	(??AUTO+42),a
	ld	a,(??AUTO+42)
	cp	0FFH
	jp	nz,??ELSE0602
	ld	hl,(OFCBPTR)
	call	CLOSEFILE
	call	CRLF
	jp	??ENDIF0603
??ELSE0602:
	ld	hl,(DMAPTR)
	call	SETDMAADDR
	ld	hl,(??AUTO+51)
	ld	(??AUTO+49),hl
??WHILE0604:
	ld	hl,(??AUTO+49)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??WEND0605
	ld	hl,(IFCBPTR)
	call	READFILE
	ld	(??AUTO+42),a
	ld	hl,(??AUTO+49)
	dec	hl
	ld	(??AUTO+49),hl
	JR ??WHILE0604
??WEND0605:
	ld	hl,0
	ld	(INBUFPOS),hl
	ld	hl,0
	ld	(INBUFEND),hl
	ld	hl,0FFFFH
	ld	(INPUTLIMIT),hl
	call	FILLINBUF
	or	a
	jp	nz,??ELSE0606
	ld	hl,(OFCBPTR)
	call	CLOSEFILE
	call	CRLF
	jp	??ENDIF0607
??ELSE0606:
	ld	hl,(INBUFPTR)
	ld	a,(hl)
	cp	76H
	jp	nz,??ELSE0608
	ld	hl,(INBUFPTR)
	ld	de,1
	add	hl,de
	ld	a,(hl)
	cp	0FFH
	jp	nz,??ELSE0608
	ld	hl,0
	ld	(OUTBUFPOS),hl
	call	UNSQUEEZE
	ld	(??AUTO+42),a
	ld	a,(??AUTO+42)
	or	a
	jp	z,??ENDIF0611
	call	FLUSHOUTBUF
	ld	(??AUTO+42),a
??ENDIF0611:
	jp	??ENDIF0609
??ELSE0608:
	ld	hl,(INBUFPTR)
	ld	a,(hl)
	cp	76H
	jp	nz,??ELSE0612
	ld	hl,(INBUFPTR)
	ld	de,1
	add	hl,de
	ld	a,(hl)
	cp	0FEH
	jp	nz,??ELSE0612
	ld	hl,0
	ld	(OUTBUFPOS),hl
	call	UNCRUNCH
	or	a
	jp	z,??ENDIF0615
	call	FLUSHOUTBUF
	ld	(??AUTO+42),a
??ENDIF0615:
	jp	??ENDIF0613
??ELSE0612:
	ld	hl,(INBUFPTR)
	ld	a,(hl)
	cp	76H
	jp	nz,??ELSE0616
	ld	hl,(INBUFPTR)
	ld	de,1
	add	hl,de
	ld	a,(hl)
	cp	0FDH
	jp	nz,??ELSE0616
	ld	hl,0
	ld	(OUTBUFPOS),hl
	call	UNCRLZH
	or	a
	jp	z,??ENDIF0619
	call	FLUSHOUTBUF
	ld	(??AUTO+42),a
??ENDIF0619:
	jp	??ENDIF0617
??ELSE0616:
	ld	hl,(??AUTO+53)
	ld	(??AUTO+49),hl
??WHILE0620:
	ld	hl,(??AUTO+49)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??WEND0621
	ld	hl,(DMAPTR)
	call	SETDMAADDR
	ld	hl,(INBUFPOS)
	push	hl
	ld	hl,(INBUFEND)
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??ELSE0622
	ld	hl,(INBUFPOS)
	ex	de,hl
	ld	hl,(INBUFPTR)
	add	hl,de
	ld	(??AUTO+123),hl
	ld	hl,(DMAPTR)
	ld	(??AUTO+125),hl
	ld	hl,80H
	call	COPYMEM
	ld	hl,(INBUFPOS)
	ld	de,80H
	add	hl,de
	ld	(INBUFPOS),hl
	JR ??ENDIF0623
??ELSE0622:
	ld	hl,(IFCBPTR)
	call	READFILE
	ld	(??AUTO+42),a
??ENDIF0623:
	ld	hl,(OFCBPTR)
	call	WRITEFILE
    OR A
	jp	z,??ENDIF0625
	ld	hl,1
	ld	(??AUTO+49),hl
??ENDIF0625:
	ld	hl,(??AUTO+49)
	dec	hl
	ld	(??AUTO+49),hl
	jp	??WHILE0620
??WEND0621:
??ENDIF0617:
??ENDIF0613:
??ENDIF0609:
	ld	hl,(OFCBPTR)
	call	CLOSEFILE
	ld	a,(FILECOUNT)
	add	a,1
	ld	(FILECOUNT),a
	ld	hl,@EXTRACTLBR$MSGOK
	call	PRINTSTR
	call	CRLF
	ld	hl,(IFCBPTR)
	call	CLOSEFILE
	ld	hl,??AUTO+6
	ld	(??AUTO+123),hl
	ld	hl,(IFCBPTR)
	ld	(??AUTO+125),hl
	ld	hl,0CH
	call	COPYMEM
	ld	hl,(IFCBPTR)
	ld	de,0CH
	add	hl,de
	ld	(??AUTO+150),hl
	ld	hl,18H
	ld	(??AUTO+152),hl
    XOR A
	call	FILLMEM
	ld	hl,(IFCBPTR)
	call	OPENFILE
	ld	(??AUTO+42),a
	ld	a,(??AUTO+42)
	cp	0FFH
	jp	z,??ELSE0626
	ld	hl,0
	ld	(INBUFPOS),hl
	ld	hl,0
	ld	(INBUFEND),hl
	ld	hl,0FFFFH
	ld	(INPUTLIMIT),hl
	call	FILLINBUF
	ld	(??AUTO+42),a
	JR ??ENDIF0627
??ELSE0626:
	ld	hl,(??AUTO+47)
	ld	(??AUTO+45),hl
??ENDIF0627:
??ENDIF0607:
??ENDIF0603:
??ENDIF0601:
	JR ??ENDIF0599
??ELSE0598:
	call	CRLF
??ENDIF0599:
	ld	hl,(??AUTO+45)
	inc	hl
	ld	(??AUTO+45),hl
	JR ??ENDIF0582
??ELSE0581:
	ld	hl,(??AUTO+45)
	inc	hl
	ld	(??AUTO+45),hl
??ENDIF0582:
??ENDIF0580:
??ENDIF0578:
	jp	??WHILE0575
??WEND0576:
	ld	a,1
	ret

; Module: MODULE

	public	INITBAS
; Procedure INITBAS
INITBAS:
	xor	a
	ld	(SINCON),a
	ld	a,0FBH
	ld	(SINCON+1),a
	ld	a,0D7H
	ld	(SINCON+2),a
	ld	a,1EH
	ld	(SINCON+3),a
	ld	a,86H
	ld	(SINCON+4),a
	ld	a,65H
	ld	(SINCON+5),a
	ld	a,26H
	ld	(SINCON+6),a
	ld	a,99H
	ld	(SINCON+7),a
	ld	a,87H
	ld	(SINCON+8),a
	ld	a,58H
	ld	(SINCON+9),a
	ld	a,34H
	ld	(SINCON+10),a
	ld	a,23H
	ld	(SINCON+11),a
	ld	a,87H
	ld	(SINCON+12),a
	ld	a,0E1H
	ld	(SINCON+13),a
	xor	a
	ld	(ATNCON),a
	ld	a,4AH
	ld	(ATNCON+1),a
	ld	a,0D7H
	ld	(ATNCON+2),a
	ld	a,3BH
	ld	(ATNCON+3),a
	ld	a,78H
	ld	(ATNCON+4),a
	ld	a,2
	ld	(ATNCON+5),a
	ld	a,6EH
	ld	(ATNCON+6),a
	ld	a,84H
	ld	(ATNCON+7),a
	ld	a,7BH
	ld	(ATNCON+8),a
	ld	a,0FEH
	ld	(ATNCON+9),a
	ld	a,0C1H
	ld	(ATNCON+10),a
	ld	a,2FH
	ld	(ATNCON+11),a
	ret

; Module: MODULE

	public	ISTOKENIZEDBASIC
; Procedure ISTOKENIZEDBASIC
ISTOKENIZEDBASIC:
	ld	hl,(INBUFEND)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF0629
    XOR A
	ret
??ENDIF0629:
	ld	hl,(INBUFPTR)
	ld	a,(hl)
	cp	0FFH
	jp	z,??ORTRUE0632
	ld	hl,(INBUFPTR)
	ld	a,(hl)
	cp	0FEH
	jp	nz,??ENDIF0631
??ORTRUE0632:
	ld	a,1
	ret
??ENDIF0631:
    XOR A
	ret

; Module: MODULE

; Procedure EMIT
EMIT:
	ld	(??AUTO+16),a
	ld	a,(??AUTO+16)
	ld	b,a
	ld	hl,(OUTBUFPTR)
	push	hl
	ld	hl,(OUTBUFPOS)
	pop	de
	add	hl,de
	ld	(hl),b
	ld	hl,(OUTBUFPOS)
	inc	hl
	ld	(OUTBUFPOS),hl
	ret

; Module: MODULE

; Procedure EMITCRLF
EMITCRLF:
	ld	a,0DH
	call	EMIT
	ld	a,0AH
	call	EMIT
	ret

; Module: MODULE

; Procedure EMITHEXBYTE
EMITHEXBYTE:
	ld	(??AUTO+0),a
	ld	hl,@EMITHEXBYTE$HEX
	push	hl
	ld	a,(??AUTO+0)
	ld	l,a
	ld	h,0
	ld	c,4
??SHR0633:
	dec	c
	jp	m,??SHRE0634
	or	a
	ld	a,h
	rra
	ld	h,a
	ld	a,l
	rra
	ld	l,a
	JR ??SHR0633
??SHRE0634:
	pop	de
	add	hl,de
	ld	a,(hl)
	call	EMIT
	ld	a,(??AUTO+0)
	and	0FH
	ld	l,a
	ld	h,0
	ld	de,@EMITHEXBYTE$HEX
	add	hl,de
	ld	a,(hl)
	call	EMIT
	ret

; Module: MODULE

; Procedure EMITNUM
EMITNUM:
	ld	(??AUTO+0),hl
	ld	hl,(??AUTO+0)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF0636
	ld	a,30H
	call	EMIT
	ret
??ENDIF0636:
	xor	a
	ld	(??AUTO+3),a
	ld	hl,2710H
	ld	(??AUTO+4),hl
??WHILE0637:
	ld	hl,(??AUTO+4)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??WEND0638
	ld	a,l
	or	h
	jp	z,??WEND0638
	ld	hl,(??AUTO+4)
	ex	de,hl
	ld	hl,(??AUTO+0)
	call	??div16
	ld	a,l
	ld	(??AUTO+2),a
	ld	a,(??AUTO+2)
    OR A
	jp	c,??SKIP0642
	jp	z,??SKIP0642
	JR ??ORTRUE0641
??SKIP0642:
	ld	a,(??AUTO+3)
	or	a
	jp	z,??ENDIF0640
??ORTRUE0641:
	ld	a,30H
	ld	b,a
	ld	a,(??AUTO+2)
	add	a,b
	call	EMIT
	ld	a,1
	ld	(??AUTO+3),a
??ENDIF0640:
	ld	hl,(??AUTO+4)
	ex	de,hl
	ld	hl,(??AUTO+0)
	call	??mod16
	ld	(??AUTO+0),hl
	ld	hl,0AH
	ex	de,hl
	ld	hl,(??AUTO+4)
	call	??div16
	ld	(??AUTO+4),hl
	jp	??WHILE0637
??WEND0638:
	ret

; Module: MODULE

; Procedure EMITHEX
EMITHEX:
	ld	(??AUTO+0),hl
	ld	a,26H
	call	EMIT
	ld	a,48H
	call	EMIT
	ld	hl,(??AUTO+0)
	ld	a,h
	srl	a
	srl	a
	srl	a
	srl	a
	ld	l,a
	ld	h,0
	push	hl
	ld	hl,0FH
	ex	de,hl
	pop	hl
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	a,l
	ld	(??AUTO+2),a
	ld	a,(??AUTO+2)
    OR A
	jp	c,??ENDIF0644
	jp	z,??ENDIF0644
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,@EMITHEX$HEX
	add	hl,de
	ld	a,(hl)
	call	EMIT
??ENDIF0644:
	ld	hl,(??AUTO+0)
	ld	l,h
	ld	h,0
	push	hl
	ld	hl,0FH
	ex	de,hl
	pop	hl
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	a,l
	ld	(??AUTO+2),a
	ld	a,(??AUTO+2)
    OR A
	jp	c,??SKIP0648
	jp	z,??SKIP0648
	JR ??ORTRUE0647
??SKIP0648:
	ld	hl,(??AUTO+0)
	ld	a,h
	srl	a
	srl	a
	srl	a
	srl	a
	ld	l,a
	ld	h,0
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??ENDIF0646
	ld	a,l
	or	h
	jp	z,??ENDIF0646
??ORTRUE0647:
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,@EMITHEX$HEX
	add	hl,de
	ld	a,(hl)
	call	EMIT
??ENDIF0646:
	ld	hl,(??AUTO+0)
	ld	c,4
??SHR0649:
	dec	c
	jp	m,??SHRE0650
	or	a
	ld	a,h
	rra
	ld	h,a
	ld	a,l
	rra
	ld	l,a
	JR ??SHR0649
??SHRE0650:
	push	hl
	ld	hl,0FH
	ex	de,hl
	pop	hl
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	a,l
	ld	(??AUTO+2),a
	ld	a,(??AUTO+2)
    OR A
	jp	c,??SKIP0654
	jp	z,??SKIP0654
	JR ??ORTRUE0653
??SKIP0654:
	ld	hl,(??AUTO+0)
	ld	l,h
	ld	h,0
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??ENDIF0652
	ld	a,l
	or	h
	jp	z,??ENDIF0652
??ORTRUE0653:
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,@EMITHEX$HEX
	add	hl,de
	ld	a,(hl)
	call	EMIT
??ENDIF0652:
	ld	hl,0FH
	ex	de,hl
	ld	hl,(??AUTO+0)
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	a,l
	ld	(??AUTO+2),a
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,@EMITHEX$HEX
	add	hl,de
	ld	a,(hl)
	call	EMIT
	ret

; Module: MODULE

; Procedure EMITOCT
EMITOCT:
	ld	(??AUTO+0),hl
	ld	a,26H
	call	EMIT
	ld	a,4FH
	call	EMIT
	xor	a
	ld	(??AUTO+3),a
	ld	hl,(??AUTO+0)
	ld	a,h
	or	a
	rra
	or	a
	rra
	or	a
	rra
	or	a
	rra
	or	a
	rra
	or	a
	rra
	or	a
	rra
	ld	l,a
	ld	h,0
	push	hl
	ld	hl,1
	ex	de,hl
	pop	hl
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	a,l
	ld	(??AUTO+2),a
	ld	a,(??AUTO+2)
    OR A
	jp	c,??ENDIF0656
	jp	z,??ENDIF0656
	ld	a,30H
	ld	b,a
	ld	a,(??AUTO+2)
	add	a,b
	call	EMIT
	ld	a,1
	ld	(??AUTO+3),a
??ENDIF0656:
	ld	hl,(??AUTO+0)
	ld	a,h
	srl	a
	srl	a
	srl	a
	srl	a
	ld	l,a
	ld	h,0
	push	hl
	ld	hl,7
	ex	de,hl
	pop	hl
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	a,l
	ld	(??AUTO+2),a
	ld	a,(??AUTO+2)
    OR A
	jp	c,??SKIP0660
	jp	z,??SKIP0660
	JR ??ORTRUE0659
??SKIP0660:
	ld	a,(??AUTO+3)
	or	a
	jp	z,??ENDIF0658
??ORTRUE0659:
	ld	a,30H
	ld	b,a
	ld	a,(??AUTO+2)
	add	a,b
	call	EMIT
	ld	a,1
	ld	(??AUTO+3),a
??ENDIF0658:
	ld	hl,(??AUTO+0)
	ld	a,h
	srl	a
	ld	l,a
	ld	h,0
	push	hl
	ld	hl,7
	ex	de,hl
	pop	hl
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	a,l
	ld	(??AUTO+2),a
	ld	a,(??AUTO+2)
    OR A
	jp	c,??SKIP0664
	jp	z,??SKIP0664
	JR ??ORTRUE0663
??SKIP0664:
	ld	a,(??AUTO+3)
	or	a
	jp	z,??ENDIF0662
??ORTRUE0663:
	ld	a,30H
	ld	b,a
	ld	a,(??AUTO+2)
	add	a,b
	call	EMIT
	ld	a,1
	ld	(??AUTO+3),a
??ENDIF0662:
	ld	hl,(??AUTO+0)
	ld	c,6
??SHR0665:
	dec	c
	jp	m,??SHRE0666
	or	a
	ld	a,h
	rra
	ld	h,a
	ld	a,l
	rra
	ld	l,a
	JR ??SHR0665
??SHRE0666:
	push	hl
	ld	hl,7
	ex	de,hl
	pop	hl
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	a,l
	ld	(??AUTO+2),a
	ld	a,(??AUTO+2)
    OR A
	jp	c,??SKIP0670
	jp	z,??SKIP0670
	JR ??ORTRUE0669
??SKIP0670:
	ld	a,(??AUTO+3)
	or	a
	jp	z,??ENDIF0668
??ORTRUE0669:
	ld	a,30H
	ld	b,a
	ld	a,(??AUTO+2)
	add	a,b
	call	EMIT
	ld	a,1
	ld	(??AUTO+3),a
??ENDIF0668:
	ld	hl,(??AUTO+0)
	or	a
	ld	a,h
	rra
	ld	h,a
	ld	a,l
	rra
	ld	l,a
	or	a
	ld	a,h
	rra
	ld	h,a
	ld	a,l
	rra
	ld	l,a
	or	a
	ld	a,h
	rra
	ld	h,a
	ld	a,l
	rra
	ld	l,a
	push	hl
	ld	hl,7
	ex	de,hl
	pop	hl
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	a,l
	ld	(??AUTO+2),a
	ld	a,(??AUTO+2)
    OR A
	jp	c,??SKIP0674
	jp	z,??SKIP0674
	JR ??ORTRUE0673
??SKIP0674:
	ld	a,(??AUTO+3)
	or	a
	jp	z,??ENDIF0672
??ORTRUE0673:
	ld	a,30H
	ld	b,a
	ld	a,(??AUTO+2)
	add	a,b
	call	EMIT
	ld	a,1
	ld	(??AUTO+3),a
??ENDIF0672:
	ld	hl,7
	ex	de,hl
	ld	hl,(??AUTO+0)
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	a,l
	ld	(??AUTO+2),a
	ld	a,30H
	ld	b,a
	ld	a,(??AUTO+2)
	add	a,b
	call	EMIT
	ret

; Module: MODULE

; Procedure NEEDSPACEBEFOREKW
NEEDSPACEBEFOREKW:
	ld	a,(PREVTOK)
	cp	41H
	jp	c,??ENDIF0676
	ld	a,(PREVTOK)
	cp	5AH
	jp	c,??SKIP0677
	jp	z,??SKIP0677
	JR ??ENDIF0676
??SKIP0677:
	ld	a,1
	ret
??ENDIF0676:
	ld	a,(PREVTOK)
	cp	61H
	jp	c,??ENDIF0679
	ld	a,(PREVTOK)
	cp	7AH
	jp	c,??SKIP0680
	jp	z,??SKIP0680
	JR ??ENDIF0679
??SKIP0680:
	ld	a,1
	ret
??ENDIF0679:
	ld	a,(PREVTOK)
	cp	30H
	jp	c,??ENDIF0682
	ld	a,(PREVTOK)
	cp	39H
	jp	c,??SKIP0683
	jp	z,??SKIP0683
	JR ??ENDIF0682
??SKIP0683:
	ld	a,1
	ret
??ENDIF0682:
	ld	a,(PREVTOK)
	cp	29H
	jp	nz,??ENDIF0685
	ld	a,1
	ret
??ENDIF0685:
	ld	a,(PREVTOK)
	cp	24H
	jp	nz,??ENDIF0687
	ld	a,1
	ret
??ENDIF0687:
	ld	a,(PREVTOK)
	cp	25H
	jp	nz,??ENDIF0689
	ld	a,1
	ret
??ENDIF0689:
	ld	a,(PREVTOK)
	cp	21H
	jp	nz,??ENDIF0691
	ld	a,1
	ret
??ENDIF0691:
	ld	a,(PREVTOK)
	cp	23H
	jp	nz,??ENDIF0693
	ld	a,1
	ret
??ENDIF0693:
    XOR A
	ret

; Module: MODULE

; Procedure EMITTOKEN
EMITTOKEN:
	ld	(??AUTO+14),a
	call	NEEDSPACEBEFOREKW
	ld	(??AUTO+15),a
	ld	a,(??AUTO+14)
	cp	0EFH
	jp	nz,??ENDIF0695
	ld	a,3EH
	call	EMIT
	ld	a,3EH
	ld	(PREVTOK),a
	ret
??ENDIF0695:
	ld	a,(??AUTO+14)
	cp	0F0H
	jp	nz,??ENDIF0697
	ld	a,3DH
	call	EMIT
	ld	a,3DH
	ld	(PREVTOK),a
	ret
??ENDIF0697:
	ld	a,(??AUTO+14)
	cp	0F1H
	jp	nz,??ENDIF0699
	ld	a,3CH
	call	EMIT
	ld	a,3CH
	ld	(PREVTOK),a
	ret
??ENDIF0699:
	ld	a,(??AUTO+14)
	cp	0F2H
	jp	nz,??ENDIF0701
	ld	a,2BH
	call	EMIT
	ld	a,2BH
	ld	(PREVTOK),a
	ret
??ENDIF0701:
	ld	a,(??AUTO+14)
	cp	0F3H
	jp	nz,??ENDIF0703
	ld	a,2DH
	call	EMIT
	ld	a,2DH
	ld	(PREVTOK),a
	ret
??ENDIF0703:
	ld	a,(??AUTO+14)
	cp	0F4H
	jp	nz,??ENDIF0705
	ld	a,2AH
	call	EMIT
	ld	a,2AH
	ld	(PREVTOK),a
	ret
??ENDIF0705:
	ld	a,(??AUTO+14)
	cp	0F5H
	jp	nz,??ENDIF0707
	ld	a,2FH
	call	EMIT
	ld	a,2FH
	ld	(PREVTOK),a
	ret
??ENDIF0707:
	ld	a,(??AUTO+14)
	cp	0F6H
	jp	nz,??ENDIF0709
	ld	a,5EH
	call	EMIT
	ld	a,5EH
	ld	(PREVTOK),a
	ret
??ENDIF0709:
	ld	a,(??AUTO+14)
	cp	0FCH
	jp	nz,??ENDIF0711
	ld	a,5CH
	call	EMIT
	ld	a,5CH
	ld	(PREVTOK),a
	ret
??ENDIF0711:
	ld	a,(??AUTO+14)
	cp	0F7H
	jp	nz,??ENDIF0713
	ld	a,(??AUTO+15)
	or	a
	jp	z,??ENDIF0715
	ld	a,20H
	call	EMIT
??ENDIF0715:
	ld	a,41H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,44H
	call	EMIT
	ld	a,20H
	call	EMIT
	ld	a,20H
	ld	(PREVTOK),a
	ret
??ENDIF0713:
	ld	a,(??AUTO+14)
	cp	0F8H
	jp	nz,??ENDIF0717
	ld	a,(??AUTO+15)
	or	a
	jp	z,??ENDIF0719
	ld	a,20H
	call	EMIT
??ENDIF0719:
	ld	a,4FH
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,20H
	call	EMIT
	ld	a,20H
	ld	(PREVTOK),a
	ret
??ENDIF0717:
	ld	a,(??AUTO+14)
	cp	0F9H
	jp	nz,??ENDIF0721
	ld	a,(??AUTO+15)
	or	a
	jp	z,??ENDIF0723
	ld	a,20H
	call	EMIT
??ENDIF0723:
	ld	a,58H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,20H
	call	EMIT
	ld	a,20H
	ld	(PREVTOK),a
	ret
??ENDIF0721:
	ld	a,(??AUTO+14)
	cp	0FAH
	jp	nz,??ENDIF0725
	ld	a,(??AUTO+15)
	or	a
	jp	z,??ENDIF0727
	ld	a,20H
	call	EMIT
??ENDIF0727:
	ld	a,45H
	call	EMIT
	ld	a,51H
	call	EMIT
	ld	a,56H
	call	EMIT
	ld	a,20H
	call	EMIT
	ld	a,20H
	ld	(PREVTOK),a
	ret
??ENDIF0725:
	ld	a,(??AUTO+14)
	cp	0FBH
	jp	nz,??ENDIF0729
	ld	a,(??AUTO+15)
	or	a
	jp	z,??ENDIF0731
	ld	a,20H
	call	EMIT
??ENDIF0731:
	ld	a,49H
	call	EMIT
	ld	a,4DH
	call	EMIT
	ld	a,50H
	call	EMIT
	ld	a,20H
	call	EMIT
	ld	a,20H
	ld	(PREVTOK),a
	ret
??ENDIF0729:
	ld	a,(??AUTO+14)
	cp	0FDH
	jp	nz,??ENDIF0733
	ld	a,(??AUTO+15)
	or	a
	jp	z,??ENDIF0735
	ld	a,20H
	call	EMIT
??ENDIF0735:
	ld	a,4DH
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,44H
	call	EMIT
	ld	a,20H
	call	EMIT
	ld	a,20H
	ld	(PREVTOK),a
	ret
??ENDIF0733:
	ld	a,(??AUTO+14)
	cp	0CEH
	jp	nz,??ENDIF0737
	ld	a,(PREVTOK)
	cp	20H
	jp	z,??ENDIF0739
	ld	a,20H
	call	EMIT
??ENDIF0739:
	ld	a,54H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,4FH
	ld	(PREVTOK),a
	ret
??ENDIF0737:
	ld	a,(??AUTO+14)
	cp	0CFH
	jp	nz,??ENDIF0741
	ld	a,(PREVTOK)
	cp	20H
	jp	z,??ENDIF0743
	ld	a,20H
	call	EMIT
??ENDIF0743:
	ld	a,54H
	call	EMIT
	ld	a,48H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,4EH
	ld	(PREVTOK),a
	ret
??ENDIF0741:
	ld	a,(??AUTO+14)
	cp	0D1H
	jp	nz,??ENDIF0745
	ld	a,(PREVTOK)
	cp	20H
	jp	z,??ENDIF0747
	ld	a,20H
	call	EMIT
??ENDIF0747:
	ld	a,53H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,50H
	call	EMIT
	ld	a,50H
	ld	(PREVTOK),a
	ret
??ENDIF0745:
	ld	a,(??AUTO+14)
	cp	0A2H
	jp	nz,??ENDIF0749
	ld	a,(PREVTOK)
	cp	20H
	jp	z,??ENDIF0751
	ld	a,20H
	call	EMIT
??ENDIF0751:
	ld	a,45H
	call	EMIT
	ld	a,4CH
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,45H
	ld	(PREVTOK),a
	ret
??ENDIF0749:
	ld	a,(??AUTO+14)
	cp	0D9H
	jp	nz,??ENDIF0753
	ld	a,(PREVTOK)
	cp	20H
	jp	z,??ENDIF0755
	ld	a,20H
	call	EMIT
??ENDIF0755:
	ld	a,55H
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,47H
	call	EMIT
	ld	a,47H
	ld	(PREVTOK),a
	ret
??ENDIF0753:
	ld	a,(??AUTO+15)
	or	a
	jp	z,??ENDIF0757
	ld	a,20H
	call	EMIT
??ENDIF0757:
	ld	a,(??AUTO+14)
	cp	82H
	jp	nz,??ENDIF0759
	ld	a,46H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,52H
	ld	(PREVTOK),a
	ret
??ENDIF0759:
	ld	a,(??AUTO+14)
	cp	8BH
	jp	nz,??ENDIF0761
	ld	a,49H
	call	EMIT
	ld	a,46H
	call	EMIT
	ld	a,46H
	ld	(PREVTOK),a
	ret
??ENDIF0761:
	ld	a,(??AUTO+14)
	cp	8DH
	jp	nz,??ENDIF0763
	ld	a,47H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,55H
	call	EMIT
	ld	a,42H
	call	EMIT
	ld	a,42H
	ld	(PREVTOK),a
	ret
??ENDIF0763:
	ld	a,(??AUTO+14)
	cp	89H
	jp	nz,??ENDIF0765
	ld	a,47H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,4FH
	ld	(PREVTOK),a
	ret
??ENDIF0765:
	ld	a,(??AUTO+14)
	cp	88H
	jp	nz,??ENDIF0767
	ld	a,4CH
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,54H
	ld	(PREVTOK),a
	ret
??ENDIF0767:
	ld	a,(??AUTO+14)
	cp	91H
	jp	nz,??ENDIF0769
	ld	a,50H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,54H
	ld	(PREVTOK),a
	ret
??ENDIF0769:
	ld	a,(??AUTO+14)
	cp	85H
	jp	nz,??ENDIF0771
	ld	a,49H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,50H
	call	EMIT
	ld	a,55H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,54H
	ld	(PREVTOK),a
	ret
??ENDIF0771:
	ld	a,(??AUTO+14)
	cp	86H
	jp	nz,??ENDIF0773
	ld	a,44H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,4DH
	call	EMIT
	ld	a,4DH
	ld	(PREVTOK),a
	ret
??ENDIF0773:
	ld	a,(??AUTO+14)
	cp	87H
	jp	nz,??ENDIF0775
	ld	a,52H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,44H
	call	EMIT
	ld	a,44H
	ld	(PREVTOK),a
	ret
??ENDIF0775:
	ld	a,(??AUTO+14)
	cp	84H
	jp	nz,??ENDIF0777
	ld	a,44H
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,41H
	ld	(PREVTOK),a
	ret
??ENDIF0777:
	ld	a,(??AUTO+14)
	cp	0D5H
	jp	nz,??ENDIF0779
	ld	a,4EH
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,54H
	ld	(PREVTOK),a
	ret
??ENDIF0779:
	ld	a,(??AUTO+14)
	cp	95H
	jp	nz,??ENDIF0781
	ld	a,4FH
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,4EH
	ld	(PREVTOK),a
	ret
??ENDIF0781:
	ld	a,(??AUTO+14)
	cp	0B4H
	jp	nz,??ENDIF0783
	ld	a,57H
	call	EMIT
	ld	a,48H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,4CH
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,45H
	ld	(PREVTOK),a
	ret
??ENDIF0783:
	ld	a,(??AUTO+14)
	cp	98H
	jp	nz,??ENDIF0785
	ld	a,44H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,46H
	call	EMIT
	ld	a,46H
	ld	(PREVTOK),a
	ret
??ENDIF0785:
	ld	a,(??AUTO+14)
	cp	99H
	jp	nz,??ENDIF0787
	ld	a,50H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,4BH
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,45H
	ld	(PREVTOK),a
	ret
??ENDIF0787:
	ld	a,(??AUTO+14)
	cp	97H
	jp	nz,??ENDIF0789
	ld	a,57H
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,54H
	ld	(PREVTOK),a
	ret
??ENDIF0789:
	ld	a,(??AUTO+14)
	cp	9DH
	jp	nz,??ENDIF0791
	ld	a,4FH
	call	EMIT
	ld	a,55H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,54H
	ld	(PREVTOK),a
	ret
??ENDIF0791:
	ld	a,(??AUTO+14)
	cp	0B6H
	jp	nz,??ENDIF0793
	ld	a,43H
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,4CH
	call	EMIT
	ld	a,4CH
	call	EMIT
	ld	a,4CH
	ld	(PREVTOK),a
	ret
??ENDIF0793:
	ld	a,(??AUTO+14)
	cp	0A8H
	jp	nz,??ENDIF0795
	ld	a,45H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,52H
	ld	(PREVTOK),a
	ret
??ENDIF0795:
	ld	a,(??AUTO+14)
	cp	0A9H
	jp	nz,??ENDIF0797
	ld	a,52H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,55H
	call	EMIT
	ld	a,4DH
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,45H
	ld	(PREVTOK),a
	ret
??ENDIF0797:
	ld	a,(??AUTO+14)
	cp	81H
	jp	nz,??ELSE0798
	ld	a,45H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,44H
	call	EMIT
	jp	??ENDIF0799
??ELSE0798:
	ld	a,(??AUTO+14)
	cp	83H
	jp	nz,??ELSE0800
	ld	a,4EH
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,58H
	call	EMIT
	ld	a,54H
	call	EMIT
	jp	??ENDIF0801
??ELSE0800:
	ld	a,(??AUTO+14)
	cp	8AH
	jp	nz,??ELSE0802
	ld	a,52H
	call	EMIT
	ld	a,55H
	call	EMIT
	ld	a,4EH
	call	EMIT
	jp	??ENDIF0803
??ELSE0802:
	ld	a,(??AUTO+14)
	cp	8CH
	jp	nz,??ELSE0804
	ld	a,52H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,45H
	call	EMIT
	jp	??ENDIF0805
??ELSE0804:
	ld	a,(??AUTO+14)
	cp	8EH
	jp	nz,??ELSE0806
	ld	a,52H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,55H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,4EH
	call	EMIT
	jp	??ENDIF0807
??ELSE0806:
	ld	a,(??AUTO+14)
	cp	8FH
	jp	nz,??ELSE0808
	ld	a,52H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,4DH
	call	EMIT
	jp	??ENDIF0809
??ELSE0808:
	ld	a,(??AUTO+14)
	cp	90H
	jp	nz,??ELSE0810
	ld	a,53H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,50H
	call	EMIT
	jp	??ENDIF0811
??ELSE0810:
	ld	a,(??AUTO+14)
	cp	92H
	jp	nz,??ELSE0812
	ld	a,43H
	call	EMIT
	ld	a,4CH
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,52H
	call	EMIT
	jp	??ENDIF0813
??ELSE0812:
	ld	a,(??AUTO+14)
	cp	93H
	jp	nz,??ELSE0814
	ld	a,4CH
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,54H
	call	EMIT
	jp	??ENDIF0815
??ELSE0814:
	ld	a,(??AUTO+14)
	cp	94H
	jp	nz,??ELSE0816
	ld	a,4EH
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,57H
	call	EMIT
	jp	??ENDIF0817
??ELSE0816:
	ld	a,(??AUTO+14)
	cp	96H
	jp	nz,??ELSE0818
	ld	a,4EH
	call	EMIT
	ld	a,55H
	call	EMIT
	ld	a,4CH
	call	EMIT
	ld	a,4CH
	call	EMIT
	jp	??ENDIF0819
??ELSE0818:
	ld	a,(??AUTO+14)
	cp	9AH
	jp	nz,??ELSE0820
	ld	a,43H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,54H
	call	EMIT
	jp	??ENDIF0821
??ELSE0820:
	ld	a,(??AUTO+14)
	cp	9BH
	jp	nz,??ELSE0822
	ld	a,4CH
	call	EMIT
	ld	a,50H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,54H
	call	EMIT
	jp	??ENDIF0823
??ELSE0822:
	ld	a,(??AUTO+14)
	cp	9FH
	jp	nz,??ELSE0824
	ld	a,4CH
	call	EMIT
	ld	a,4CH
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,54H
	call	EMIT
	jp	??ENDIF0825
??ELSE0824:
	ld	a,(??AUTO+14)
	cp	0A0H
	jp	nz,??ELSE0826
	ld	a,4EH
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,43H
	call	EMIT
	ld	a,45H
	call	EMIT
	jp	??ENDIF0827
??ELSE0826:
	ld	a,(??AUTO+14)
	cp	0A1H
	jp	nz,??ELSE0828
	ld	a,57H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,44H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,48H
	call	EMIT
	jp	??ENDIF0829
??ELSE0828:
	ld	a,(??AUTO+14)
	cp	0A3H
	jp	nz,??ELSE0830
	ld	a,54H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,4EH
	call	EMIT
	jp	??ENDIF0831
??ELSE0830:
	ld	a,(??AUTO+14)
	cp	0A4H
	jp	nz,??ELSE0832
	ld	a,54H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,46H
	call	EMIT
	ld	a,46H
	call	EMIT
	jp	??ENDIF0833
??ELSE0832:
	ld	a,(??AUTO+14)
	cp	0A5H
	jp	nz,??ELSE0834
	ld	a,53H
	call	EMIT
	ld	a,57H
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,50H
	call	EMIT
	jp	??ENDIF0835
??ELSE0834:
	ld	a,(??AUTO+14)
	cp	0A6H
	jp	nz,??ELSE0836
	ld	a,45H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,45H
	call	EMIT
	jp	??ENDIF0837
??ELSE0836:
	ld	a,(??AUTO+14)
	cp	0A7H
	jp	nz,??ELSE0838
	ld	a,45H
	call	EMIT
	ld	a,44H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,54H
	call	EMIT
	jp	??ENDIF0839
??ELSE0838:
	ld	a,(??AUTO+14)
	cp	0AAH
	jp	nz,??ELSE0840
	ld	a,44H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,4CH
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,45H
	call	EMIT
	jp	??ENDIF0841
??ELSE0840:
	ld	a,(??AUTO+14)
	cp	0ABH
	jp	nz,??ELSE0842
	ld	a,41H
	call	EMIT
	ld	a,55H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,4FH
	call	EMIT
	jp	??ENDIF0843
??ELSE0842:
	ld	a,(??AUTO+14)
	cp	0ACH
	jp	nz,??ELSE0844
	ld	a,52H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,55H
	call	EMIT
	ld	a,4DH
	call	EMIT
	jp	??ENDIF0845
??ELSE0844:
	ld	a,(??AUTO+14)
	cp	0ADH
	jp	nz,??ELSE0846
	ld	a,44H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,46H
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,52H
	call	EMIT
	jp	??ENDIF0847
??ELSE0846:
	ld	a,(??AUTO+14)
	cp	0AEH
	jp	nz,??ELSE0848
	ld	a,44H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,46H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,54H
	call	EMIT
	jp	??ENDIF0849
??ELSE0848:
	ld	a,(??AUTO+14)
	cp	0AFH
	jp	nz,??ELSE0850
	ld	a,44H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,46H
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,47H
	call	EMIT
	jp	??ENDIF0851
??ELSE0850:
	ld	a,(??AUTO+14)
	cp	0B0H
	jp	nz,??ELSE0852
	ld	a,44H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,46H
	call	EMIT
	ld	a,44H
	call	EMIT
	ld	a,42H
	call	EMIT
	ld	a,4CH
	call	EMIT
	jp	??ENDIF0853
??ELSE0852:
	ld	a,(??AUTO+14)
	cp	0B1H
	jp	nz,??ELSE0854
	ld	a,4CH
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,45H
	call	EMIT
	jp	??ENDIF0855
??ELSE0854:
	ld	a,(??AUTO+14)
	cp	0B2H
	jp	nz,??ELSE0856
	ld	a,57H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,45H
	call	EMIT
	jp	??ENDIF0857
??ELSE0856:
	ld	a,(??AUTO+14)
	cp	0B3H
	jp	nz,??ELSE0858
	ld	a,43H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,4DH
	call	EMIT
	ld	a,4DH
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,4EH
	call	EMIT
	jp	??ENDIF0859
??ELSE0858:
	ld	a,(??AUTO+14)
	cp	0B5H
	jp	nz,??ELSE0860
	ld	a,57H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,44H
	call	EMIT
	jp	??ENDIF0861
??ELSE0860:
	ld	a,(??AUTO+14)
	cp	0B7H
	jp	nz,??ELSE0862
	ld	a,57H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,45H
	call	EMIT
	jp	??ENDIF0863
??ELSE0862:
	ld	a,(??AUTO+14)
	cp	0B8H
	jp	nz,??ELSE0864
	ld	a,43H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,4DH
	call	EMIT
	ld	a,4DH
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,4EH
	call	EMIT
	jp	??ENDIF0865
??ELSE0864:
	ld	a,(??AUTO+14)
	cp	0B9H
	jp	nz,??ELSE0866
	ld	a,43H
	call	EMIT
	ld	a,48H
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,4EH
	call	EMIT
	jp	??ENDIF0867
??ELSE0866:
	ld	a,(??AUTO+14)
	cp	0BAH
	jp	nz,??ELSE0868
	ld	a,4FH
	call	EMIT
	ld	a,50H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,4EH
	call	EMIT
	jp	??ENDIF0869
??ELSE0868:
	ld	a,(??AUTO+14)
	cp	0BBH
	jp	nz,??ELSE0870
	ld	a,52H
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,44H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,4DH
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,5AH
	call	EMIT
	ld	a,45H
	call	EMIT
	jp	??ENDIF0871
??ELSE0870:
	ld	a,(??AUTO+14)
	cp	0BDH
	jp	nz,??ELSE0872
	ld	a,53H
	call	EMIT
	ld	a,59H
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,4DH
	call	EMIT
	jp	??ENDIF0873
??ELSE0872:
	ld	a,(??AUTO+14)
	cp	0BEH
	jp	nz,??ELSE0874
	ld	a,4DH
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,47H
	call	EMIT
	ld	a,45H
	call	EMIT
	jp	??ENDIF0875
??ELSE0874:
	ld	a,(??AUTO+14)
	cp	0BFH
	jp	nz,??ELSE0876
	ld	a,4FH
	call	EMIT
	ld	a,50H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,4EH
	call	EMIT
	jp	??ENDIF0877
??ELSE0876:
	ld	a,(??AUTO+14)
	cp	0C0H
	jp	nz,??ELSE0878
	ld	a,46H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,4CH
	call	EMIT
	ld	a,44H
	call	EMIT
	jp	??ENDIF0879
??ELSE0878:
	ld	a,(??AUTO+14)
	cp	0C1H
	jp	nz,??ELSE0880
	ld	a,47H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,54H
	call	EMIT
	jp	??ENDIF0881
??ELSE0880:
	ld	a,(??AUTO+14)
	cp	0C2H
	jp	nz,??ELSE0882
	ld	a,50H
	call	EMIT
	ld	a,55H
	call	EMIT
	ld	a,54H
	call	EMIT
	jp	??ENDIF0883
??ELSE0882:
	ld	a,(??AUTO+14)
	cp	0C3H
	jp	nz,??ELSE0884
	ld	a,43H
	call	EMIT
	ld	a,4CH
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,45H
	call	EMIT
	jp	??ENDIF0885
??ELSE0884:
	ld	a,(??AUTO+14)
	cp	0C4H
	jp	nz,??ELSE0886
	ld	a,4CH
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,44H
	call	EMIT
	jp	??ENDIF0887
??ELSE0886:
	ld	a,(??AUTO+14)
	cp	0C5H
	jp	nz,??ELSE0888
	ld	a,4DH
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,47H
	call	EMIT
	ld	a,45H
	call	EMIT
	jp	??ENDIF0889
??ELSE0888:
	ld	a,(??AUTO+14)
	cp	0C6H
	jp	nz,??ELSE0890
	ld	a,46H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,4CH
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,53H
	call	EMIT
	jp	??ENDIF0891
??ELSE0890:
	ld	a,(??AUTO+14)
	cp	0C7H
	jp	nz,??ELSE0892
	ld	a,4EH
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,4DH
	call	EMIT
	ld	a,45H
	call	EMIT
	jp	??ENDIF0893
??ELSE0892:
	ld	a,(??AUTO+14)
	cp	0C8H
	jp	nz,??ELSE0894
	ld	a,4BH
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,4CH
	call	EMIT
	ld	a,4CH
	call	EMIT
	jp	??ENDIF0895
??ELSE0894:
	ld	a,(??AUTO+14)
	cp	0C9H
	jp	nz,??ELSE0896
	ld	a,4CH
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,54H
	call	EMIT
	jp	??ENDIF0897
??ELSE0896:
	ld	a,(??AUTO+14)
	cp	0CAH
	jp	nz,??ELSE0898
	ld	a,52H
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,54H
	call	EMIT
	jp	??ENDIF0899
??ELSE0898:
	ld	a,(??AUTO+14)
	cp	0CBH
	jp	nz,??ELSE0900
	ld	a,53H
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,56H
	call	EMIT
	ld	a,45H
	call	EMIT
	jp	??ENDIF0901
??ELSE0900:
	ld	a,(??AUTO+14)
	cp	0CCH
	jp	nz,??ELSE0902
	ld	a,52H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,54H
	call	EMIT
	jp	??ENDIF0903
??ELSE0902:
	ld	a,(??AUTO+14)
	cp	0D0H
	jp	nz,??ELSE0904
	ld	a,54H
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,42H
	call	EMIT
	ld	a,28H
	call	EMIT
	jp	??ENDIF0905
??ELSE0904:
	ld	a,(??AUTO+14)
	cp	0D2H
	jp	nz,??ELSE0906
	ld	a,55H
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,52H
	call	EMIT
	jp	??ENDIF0907
??ELSE0906:
	ld	a,(??AUTO+14)
	cp	0D3H
	jp	nz,??ELSE0908
	ld	a,46H
	call	EMIT
	ld	a,4EH
	call	EMIT
	jp	??ENDIF0909
??ELSE0908:
	ld	a,(??AUTO+14)
	cp	0D4H
	jp	nz,??ELSE0910
	ld	a,53H
	call	EMIT
	ld	a,50H
	call	EMIT
	ld	a,43H
	call	EMIT
	ld	a,28H
	call	EMIT
	jp	??ENDIF0911
??ELSE0910:
	ld	a,(??AUTO+14)
	cp	0D6H
	jp	nz,??ELSE0912
	ld	a,45H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,4CH
	call	EMIT
	jp	??ENDIF0913
??ELSE0912:
	ld	a,(??AUTO+14)
	cp	0D7H
	jp	nz,??ELSE0914
	ld	a,45H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,52H
	call	EMIT
	jp	??ENDIF0915
??ELSE0914:
	ld	a,(??AUTO+14)
	cp	0D8H
	jp	nz,??ELSE0916
	ld	a,53H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,47H
	call	EMIT
	ld	a,24H
	call	EMIT
	jp	??ENDIF0917
??ELSE0916:
	ld	a,(??AUTO+14)
	cp	0DAH
	jp	nz,??ELSE0918
	ld	a,49H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,52H
	call	EMIT
	jp	??ENDIF0919
??ELSE0918:
	ld	a,(??AUTO+14)
	cp	0DBH
	jp	nz,??ELSE0920
	ld	a,41H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,4BH
	call	EMIT
	jp	??ENDIF0921
??ELSE0920:
	ld	a,(??AUTO+14)
	cp	0DCH
	jp	nz,??ELSE0922
	ld	a,56H
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,50H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,52H
	call	EMIT
	JR ??ENDIF0923
??ELSE0922:
	ld	a,(??AUTO+14)
	cp	0DDH
	jp	nz,??ELSE0924
	ld	a,49H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,4BH
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,59H
	call	EMIT
	ld	a,24H
	call	EMIT
	JR ??ENDIF0925
??ELSE0924:
	ld	a,5BH
	call	EMIT
	ld	a,(??AUTO+14)
	ld	l,a
	ld	h,0
	call	EMITHEX
	ld	a,5DH
	call	EMIT
??ENDIF0925:
??ENDIF0923:
??ENDIF0921:
??ENDIF0919:
??ENDIF0917:
??ENDIF0915:
??ENDIF0913:
??ENDIF0911:
??ENDIF0909:
??ENDIF0907:
??ENDIF0905:
??ENDIF0903:
??ENDIF0901:
??ENDIF0899:
??ENDIF0897:
??ENDIF0895:
??ENDIF0893:
??ENDIF0891:
??ENDIF0889:
??ENDIF0887:
??ENDIF0885:
??ENDIF0883:
??ENDIF0881:
??ENDIF0879:
??ENDIF0877:
??ENDIF0875:
??ENDIF0873:
??ENDIF0871:
??ENDIF0869:
??ENDIF0867:
??ENDIF0865:
??ENDIF0863:
??ENDIF0861:
??ENDIF0859:
??ENDIF0857:
??ENDIF0855:
??ENDIF0853:
??ENDIF0851:
??ENDIF0849:
??ENDIF0847:
??ENDIF0845:
??ENDIF0843:
??ENDIF0841:
??ENDIF0839:
??ENDIF0837:
??ENDIF0835:
??ENDIF0833:
??ENDIF0831:
??ENDIF0829:
??ENDIF0827:
??ENDIF0825:
??ENDIF0823:
??ENDIF0821:
??ENDIF0819:
??ENDIF0817:
??ENDIF0815:
??ENDIF0813:
??ENDIF0811:
??ENDIF0809:
??ENDIF0807:
??ENDIF0805:
??ENDIF0803:
??ENDIF0801:
??ENDIF0799:
	ld	a,41H
	ld	(PREVTOK),a
	ret

; Module: MODULE

; Procedure EMITTOKEN2
EMITTOKEN2:
	ld	(??AUTO+14),a
	call	NEEDSPACEBEFOREKW
	or	a
	jp	z,??ENDIF0927
	ld	a,20H
	call	EMIT
??ENDIF0927:
	ld	a,(??AUTO+14)
	cp	81H
	jp	nz,??ELSE0928
	ld	a,4CH
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,46H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,24H
	call	EMIT
	jp	??ENDIF0929
??ELSE0928:
	ld	a,(??AUTO+14)
	cp	82H
	jp	nz,??ELSE0930
	ld	a,52H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,47H
	call	EMIT
	ld	a,48H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,24H
	call	EMIT
	jp	??ENDIF0931
??ELSE0930:
	ld	a,(??AUTO+14)
	cp	83H
	jp	nz,??ELSE0932
	ld	a,4DH
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,44H
	call	EMIT
	ld	a,24H
	call	EMIT
	jp	??ENDIF0933
??ELSE0932:
	ld	a,(??AUTO+14)
	cp	84H
	jp	nz,??ELSE0934
	ld	a,53H
	call	EMIT
	ld	a,47H
	call	EMIT
	ld	a,4EH
	call	EMIT
	jp	??ENDIF0935
??ELSE0934:
	ld	a,(??AUTO+14)
	cp	85H
	jp	nz,??ELSE0936
	ld	a,49H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,54H
	call	EMIT
	jp	??ENDIF0937
??ELSE0936:
	ld	a,(??AUTO+14)
	cp	86H
	jp	nz,??ELSE0938
	ld	a,41H
	call	EMIT
	ld	a,42H
	call	EMIT
	ld	a,53H
	call	EMIT
	jp	??ENDIF0939
??ELSE0938:
	ld	a,(??AUTO+14)
	cp	87H
	jp	nz,??ELSE0940
	ld	a,53H
	call	EMIT
	ld	a,51H
	call	EMIT
	ld	a,52H
	call	EMIT
	jp	??ENDIF0941
??ELSE0940:
	ld	a,(??AUTO+14)
	cp	88H
	jp	nz,??ELSE0942
	ld	a,52H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,44H
	call	EMIT
	jp	??ENDIF0943
??ELSE0942:
	ld	a,(??AUTO+14)
	cp	89H
	jp	nz,??ELSE0944
	ld	a,53H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,4EH
	call	EMIT
	jp	??ENDIF0945
??ELSE0944:
	ld	a,(??AUTO+14)
	cp	8AH
	jp	nz,??ELSE0946
	ld	a,4CH
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,47H
	call	EMIT
	jp	??ENDIF0947
??ELSE0946:
	ld	a,(??AUTO+14)
	cp	8BH
	jp	nz,??ELSE0948
	ld	a,45H
	call	EMIT
	ld	a,58H
	call	EMIT
	ld	a,50H
	call	EMIT
	jp	??ENDIF0949
??ELSE0948:
	ld	a,(??AUTO+14)
	cp	8CH
	jp	nz,??ELSE0950
	ld	a,43H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,53H
	call	EMIT
	jp	??ENDIF0951
??ELSE0950:
	ld	a,(??AUTO+14)
	cp	8DH
	jp	nz,??ELSE0952
	ld	a,54H
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,4EH
	call	EMIT
	jp	??ENDIF0953
??ELSE0952:
	ld	a,(??AUTO+14)
	cp	8EH
	jp	nz,??ELSE0954
	ld	a,41H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,4EH
	call	EMIT
	jp	??ENDIF0955
??ELSE0954:
	ld	a,(??AUTO+14)
	cp	8FH
	jp	nz,??ELSE0956
	ld	a,46H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,45H
	call	EMIT
	jp	??ENDIF0957
??ELSE0956:
	ld	a,(??AUTO+14)
	cp	90H
	jp	nz,??ELSE0958
	ld	a,49H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,50H
	call	EMIT
	jp	??ENDIF0959
??ELSE0958:
	ld	a,(??AUTO+14)
	cp	91H
	jp	nz,??ELSE0960
	ld	a,50H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,53H
	call	EMIT
	jp	??ENDIF0961
??ELSE0960:
	ld	a,(??AUTO+14)
	cp	92H
	jp	nz,??ELSE0962
	ld	a,4CH
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,4EH
	call	EMIT
	jp	??ENDIF0963
??ELSE0962:
	ld	a,(??AUTO+14)
	cp	93H
	jp	nz,??ELSE0964
	ld	a,53H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,24H
	call	EMIT
	jp	??ENDIF0965
??ELSE0964:
	ld	a,(??AUTO+14)
	cp	94H
	jp	nz,??ELSE0966
	ld	a,56H
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,4CH
	call	EMIT
	jp	??ENDIF0967
??ELSE0966:
	ld	a,(??AUTO+14)
	cp	95H
	jp	nz,??ELSE0968
	ld	a,41H
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,43H
	call	EMIT
	jp	??ENDIF0969
??ELSE0968:
	ld	a,(??AUTO+14)
	cp	96H
	jp	nz,??ELSE0970
	ld	a,43H
	call	EMIT
	ld	a,48H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,24H
	call	EMIT
	jp	??ENDIF0971
??ELSE0970:
	ld	a,(??AUTO+14)
	cp	97H
	jp	nz,??ELSE0972
	ld	a,50H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,4BH
	call	EMIT
	jp	??ENDIF0973
??ELSE0972:
	ld	a,(??AUTO+14)
	cp	98H
	jp	nz,??ELSE0974
	ld	a,53H
	call	EMIT
	ld	a,50H
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,43H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,24H
	call	EMIT
	jp	??ENDIF0975
??ELSE0974:
	ld	a,(??AUTO+14)
	cp	99H
	jp	nz,??ELSE0976
	ld	a,4FH
	call	EMIT
	ld	a,43H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,24H
	call	EMIT
	jp	??ENDIF0977
??ELSE0976:
	ld	a,(??AUTO+14)
	cp	9AH
	jp	nz,??ELSE0978
	ld	a,48H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,58H
	call	EMIT
	ld	a,24H
	call	EMIT
	jp	??ENDIF0979
??ELSE0978:
	ld	a,(??AUTO+14)
	cp	9BH
	jp	nz,??ELSE0980
	ld	a,4CH
	call	EMIT
	ld	a,50H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,53H
	call	EMIT
	jp	??ENDIF0981
??ELSE0980:
	ld	a,(??AUTO+14)
	cp	9CH
	jp	nz,??ELSE0982
	ld	a,43H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,54H
	call	EMIT
	jp	??ENDIF0983
??ELSE0982:
	ld	a,(??AUTO+14)
	cp	9DH
	jp	nz,??ELSE0984
	ld	a,43H
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,47H
	call	EMIT
	jp	??ENDIF0985
??ELSE0984:
	ld	a,(??AUTO+14)
	cp	9EH
	jp	nz,??ELSE0986
	ld	a,43H
	call	EMIT
	ld	a,44H
	call	EMIT
	ld	a,42H
	call	EMIT
	ld	a,4CH
	call	EMIT
	jp	??ENDIF0987
??ELSE0986:
	ld	a,(??AUTO+14)
	cp	9FH
	jp	nz,??ELSE0988
	ld	a,46H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,58H
	call	EMIT
	jp	??ENDIF0989
??ELSE0988:
	ld	a,(??AUTO+14)
	cp	0ABH
	jp	nz,??ELSE0990
	ld	a,43H
	call	EMIT
	ld	a,56H
	call	EMIT
	ld	a,49H
	call	EMIT
	jp	??ENDIF0991
??ELSE0990:
	ld	a,(??AUTO+14)
	cp	0ACH
	jp	nz,??ELSE0992
	ld	a,43H
	call	EMIT
	ld	a,56H
	call	EMIT
	ld	a,53H
	call	EMIT
	jp	??ENDIF0993
??ELSE0992:
	ld	a,(??AUTO+14)
	cp	0ADH
	jp	nz,??ELSE0994
	ld	a,43H
	call	EMIT
	ld	a,56H
	call	EMIT
	ld	a,44H
	call	EMIT
	jp	??ENDIF0995
??ELSE0994:
	ld	a,(??AUTO+14)
	cp	0AEH
	jp	nz,??ELSE0996
	ld	a,45H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,46H
	call	EMIT
	jp	??ENDIF0997
??ELSE0996:
	ld	a,(??AUTO+14)
	cp	0B0H
	jp	nz,??ELSE0998
	ld	a,4CH
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,43H
	call	EMIT
	jp	??ENDIF0999
??ELSE0998:
	ld	a,(??AUTO+14)
	cp	0B1H
	jp	nz,??ELSE1000
	ld	a,4CH
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,46H
	call	EMIT
	jp	??ENDIF1001
??ELSE1000:
	ld	a,(??AUTO+14)
	cp	0B2H
	jp	nz,??ELSE1002
	ld	a,4DH
	call	EMIT
	ld	a,4BH
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,24H
	call	EMIT
	jp	??ENDIF1003
??ELSE1002:
	ld	a,(??AUTO+14)
	cp	0B3H
	jp	nz,??ELSE1004
	ld	a,4DH
	call	EMIT
	ld	a,4BH
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,24H
	call	EMIT
	JR ??ENDIF1005
??ELSE1004:
	ld	a,(??AUTO+14)
	cp	0B4H
	jp	nz,??ELSE1006
	ld	a,4DH
	call	EMIT
	ld	a,4BH
	call	EMIT
	ld	a,44H
	call	EMIT
	ld	a,24H
	call	EMIT
	JR ??ENDIF1007
??ELSE1006:
	ld	a,5BH
	call	EMIT
	ld	a,46H
	call	EMIT
	ld	a,46H
	call	EMIT
	ld	a,5DH
	call	EMIT
	ld	a,5BH
	call	EMIT
	ld	a,(??AUTO+14)
	ld	l,a
	ld	h,0
	call	EMITHEX
	ld	a,5DH
	call	EMIT
??ENDIF1007:
??ENDIF1005:
??ENDIF1003:
??ENDIF1001:
??ENDIF0999:
??ENDIF0997:
??ENDIF0995:
??ENDIF0993:
??ENDIF0991:
??ENDIF0989:
??ENDIF0987:
??ENDIF0985:
??ENDIF0983:
??ENDIF0981:
??ENDIF0979:
??ENDIF0977:
??ENDIF0975:
??ENDIF0973:
??ENDIF0971:
??ENDIF0969:
??ENDIF0967:
??ENDIF0965:
??ENDIF0963:
??ENDIF0961:
??ENDIF0959:
??ENDIF0957:
??ENDIF0955:
??ENDIF0953:
??ENDIF0951:
??ENDIF0949:
??ENDIF0947:
??ENDIF0945:
??ENDIF0943:
??ENDIF0941:
??ENDIF0939:
??ENDIF0937:
??ENDIF0935:
??ENDIF0933:
??ENDIF0931:
??ENDIF0929:
	ld	a,41H
	ld	(PREVTOK),a
	ret

; Module: MODULE

; Procedure UNPROTECT
UNPROTECT:
	ld	a,0FFH
	ld	b,a
	ld	hl,(INBUFPTR)
	ld	(hl),b
	ld	a,0DH
	ld	(??AUTO+4),a
	ld	a,0BH
	ld	(??AUTO+5),a
	ld	hl,1
	ld	(??AUTO+0),hl
??WHILE1008:
	ld	hl,(??AUTO+0)
	push	hl
	ld	hl,(INBUFEND)
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??WEND1009
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(??AUTO+0)
	pop	de
	add	hl,de
	ld	a,(hl)
	ld	(??AUTO+2),a
	ld	a,(??AUTO+4)
	ld	l,a
	ld	h,0
	ld	de,SINCON
	add	hl,de
	ld	a,(hl)
	ld	(??AUTO+6),a
	ld	a,(??AUTO+5)
	ld	l,a
	ld	h,0
	ld	de,ATNCON
	add	hl,de
	ld	a,(hl)
	ld	(??AUTO+7),a
	ld	a,(??AUTO+6)
	ld	b,a
	ld	a,(??AUTO+7)
	xor	b
	ld	(??AUTO+8),a
	ld	a,(??AUTO+5)
	ld	b,a
	ld	a,(??AUTO+2)
	sub	b
	ld	(??AUTO+3),a
	ld	a,(??AUTO+3)
	ld	b,a
	ld	a,(??AUTO+8)
	xor	b
	ld	(??AUTO+3),a
	ld	a,(??AUTO+3)
	ld	b,a
	ld	a,(??AUTO+4)
	add	a,b
	ld	(??AUTO+3),a
	ld	a,(??AUTO+3)
	ld	b,a
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(??AUTO+0)
	pop	de
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+4)
	sub	1
	ld	(??AUTO+4),a
	ld	a,(??AUTO+4)
    OR A
	jp	nz,??ENDIF1011
	ld	a,0DH
	ld	(??AUTO+4),a
??ENDIF1011:
	ld	a,(??AUTO+5)
	sub	1
	ld	(??AUTO+5),a
	ld	a,(??AUTO+5)
    OR A
	jp	nz,??ENDIF1013
	ld	a,0BH
	ld	(??AUTO+5),a
??ENDIF1013:
	ld	hl,(??AUTO+0)
	inc	hl
	ld	(??AUTO+0),hl
	jp	??WHILE1008
??WEND1009:
	ret

; Module: MODULE

; Procedure DETOKLINE
DETOKLINE:
	xor	a
	ld	(??AUTO+7),a
??WHILE1014:
	ld	a,(??AUTO+7)
	or	a
	jp	nz,??WEND1015
	ld	hl,(BASPOS)
	push	hl
	ld	hl,(INBUFEND)
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??WEND1015
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(BASPOS)
	pop	de
	add	hl,de
	ld	a,(hl)
	ld	(??AUTO+6),a
	ld	a,(??AUTO+6)
    OR A
	jp	nz,??ELSE1016
	ld	a,1
	ld	(??AUTO+7),a
	jp	??ENDIF1017
??ELSE1016:
	ld	a,(??AUTO+6)
	cp	20H
	jp	c,??ELSE1018
	ld	a,(??AUTO+6)
	cp	7FH
	jp	c,??SKIP1020
	jp	z,??SKIP1020
	JR ??ELSE1018
??SKIP1020:
	ld	a,(??AUTO+6)
	cp	20H
	jp	nz,??ELSE1021
	ld	a,(PREVTOK)
	cp	20H
	jp	nz,??ELSE1021
	JP ??ENDIF1019
??ELSE1021:
	ld	a,(??AUTO+6)
	call	EMIT
	ld	a,(??AUTO+6)
	ld	(PREVTOK),a
??ENDIF1022:
	jp	??ENDIF1019
??ELSE1018:
	ld	a,(??AUTO+6)
	cp	0FFH
	jp	nz,??ELSE1023
	ld	hl,(BASPOS)
	inc	hl
	ld	(BASPOS),hl
	ld	hl,(BASPOS)
	push	hl
	ld	hl,(INBUFEND)
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??ENDIF1026
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(BASPOS)
	pop	de
	add	hl,de
	ld	a,(hl)
	call	EMITTOKEN2
??ENDIF1026:
	jp	??ENDIF1024
??ELSE1023:
	ld	a,(??AUTO+6)
	cp	80H
	jp	c,??ELSE1027
	ld	a,(??AUTO+6)
	cp	0FEH
	jp	c,??SKIP1029
	jp	z,??SKIP1029
	JR ??ELSE1027
??SKIP1029:
	ld	a,(??AUTO+6)
	call	EMITTOKEN
	jp	??ENDIF1028
??ELSE1027:
	ld	a,(??AUTO+6)
	cp	0FH
	jp	nz,??ELSE1030
	ld	hl,(BASPOS)
	inc	hl
	ld	(BASPOS),hl
	ld	hl,(BASPOS)
	push	hl
	ld	hl,(INBUFEND)
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??ENDIF1033
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(BASPOS)
	pop	de
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	call	EMITNUM
??ENDIF1033:
	ld	a,30H
	ld	(PREVTOK),a
	jp	??ENDIF1031
??ELSE1030:
	ld	a,(??AUTO+6)
	cp	0EH
	jp	z,??ORTRUE1036
	ld	a,(??AUTO+6)
	cp	1CH
	jp	nz,??ELSE1034
??ORTRUE1036:
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(BASPOS)
	inc	hl
	pop	de
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	push	hl
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(BASPOS)
	inc	hl
	inc	hl
	pop	de
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	ld	h,l
	ld	l,0
	ld	de,0
	ex	de,hl
	pop	hl
	add	hl,de
	ld	(??AUTO+8),hl
	ld	hl,(??AUTO+8)
	call	EMITNUM
	ld	hl,(BASPOS)
	inc	hl
	inc	hl
	ld	(BASPOS),hl
	ld	a,30H
	ld	(PREVTOK),a
	jp	??ENDIF1035
??ELSE1034:
	ld	a,(??AUTO+6)
	cp	0CH
	jp	nz,??ELSE1037
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(BASPOS)
	inc	hl
	pop	de
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	push	hl
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(BASPOS)
	inc	hl
	inc	hl
	pop	de
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	ld	h,l
	ld	l,0
	ld	de,0
	ex	de,hl
	pop	hl
	add	hl,de
	ld	(??AUTO+8),hl
	ld	hl,(??AUTO+8)
	call	EMITHEX
	ld	hl,(BASPOS)
	inc	hl
	inc	hl
	ld	(BASPOS),hl
	ld	a,30H
	ld	(PREVTOK),a
	jp	??ENDIF1038
??ELSE1037:
	ld	a,(??AUTO+6)
	cp	0BH
	jp	nz,??ELSE1039
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(BASPOS)
	inc	hl
	pop	de
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	push	hl
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(BASPOS)
	inc	hl
	inc	hl
	pop	de
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	ld	h,l
	ld	l,0
	ld	de,0
	ex	de,hl
	pop	hl
	add	hl,de
	ld	(??AUTO+8),hl
	ld	hl,(??AUTO+8)
	call	EMITOCT
	ld	hl,(BASPOS)
	inc	hl
	inc	hl
	ld	(BASPOS),hl
	ld	a,30H
	ld	(PREVTOK),a
	jp	??ENDIF1040
??ELSE1039:
	ld	a,(??AUTO+6)
	cp	1DH
	jp	nz,??ELSE1041
	ld	a,3FH
	call	EMIT
	ld	a,46H
	call	EMIT
	ld	a,34H
	call	EMIT
	ld	a,3FH
	call	EMIT
	ld	hl,(BASPOS)
	inc	hl
	inc	hl
	inc	hl
	inc	hl
	ld	(BASPOS),hl
	ld	a,30H
	ld	(PREVTOK),a
	jp	??ENDIF1042
??ELSE1041:
	ld	a,(??AUTO+6)
	cp	1FH
	jp	nz,??ELSE1043
	ld	a,3FH
	call	EMIT
	ld	a,46H
	call	EMIT
	ld	a,38H
	call	EMIT
	ld	a,3FH
	call	EMIT
	ld	hl,(BASPOS)
	ld	de,8
	add	hl,de
	ld	(BASPOS),hl
	ld	a,30H
	ld	(PREVTOK),a
	JR ??ENDIF1044
??ELSE1043:
	ld	a,(??AUTO+6)
	cp	11H
	jp	c,??ELSE1045
	ld	a,(??AUTO+6)
	cp	1AH
	jp	c,??SKIP1047
	jp	z,??SKIP1047
	JR ??ELSE1045
??SKIP1047:
	ld	a,(??AUTO+6)
	sub	11H
	ld	l,a
	ld	h,0
	call	EMITNUM
	ld	a,30H
	ld	(PREVTOK),a
	JR ??ENDIF1046
??ELSE1045:
??ENDIF1046:
??ENDIF1044:
??ENDIF1042:
??ENDIF1040:
??ENDIF1038:
??ENDIF1035:
??ENDIF1031:
??ENDIF1028:
??ENDIF1024:
??ENDIF1019:
??ENDIF1017:
	ld	hl,(BASPOS)
	inc	hl
	ld	(BASPOS),hl
	jp	??WHILE1014
??WEND1015:
	ret

; Module: MODULE

	public	DETOKENIZEBASIC
; Procedure DETOKENIZEBASIC
DETOKENIZEBASIC:
	call	INITBAS
	ld	hl,(INBUFPTR)
	ld	a,(hl)
	cp	0FEH
	jp	nz,??ENDIF1049
	call	UNPROTECT
??ENDIF1049:
	ld	hl,1
	ld	(BASPOS),hl
	ld	hl,0
	ld	(OUTBUFPOS),hl
??WHILE1050:
	ld	hl,(BASPOS)
	inc	hl
	inc	hl
	inc	hl
	inc	hl
	push	hl
	ld	hl,(INBUFEND)
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??WEND1051
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(BASPOS)
	pop	de
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	push	hl
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(BASPOS)
	inc	hl
	pop	de
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	ld	h,l
	ld	l,0
	ld	de,0
	ex	de,hl
	pop	hl
	add	hl,de
	ld	(??AUTO+10),hl
	ld	hl,(??AUTO+10)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF1053
	call	EMITCRLF
	ld	a,1
	ret
??ENDIF1053:
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(BASPOS)
	inc	hl
	inc	hl
	pop	de
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	push	hl
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(BASPOS)
	inc	hl
	inc	hl
	inc	hl
	pop	de
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	ld	h,l
	ld	l,0
	ld	de,0
	ex	de,hl
	pop	hl
	add	hl,de
	ld	(??AUTO+12),hl
	ld	hl,(??AUTO+12)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF1055
	call	EMITCRLF
	ld	a,1
	ret
??ENDIF1055:
	ld	hl,(??AUTO+12)
	call	EMITNUM
	ld	a,20H
	call	EMIT
	ld	a,20H
	ld	(PREVTOK),a
	ld	hl,(BASPOS)
	inc	hl
	inc	hl
	inc	hl
	inc	hl
	ld	(BASPOS),hl
	call	DETOKLINE
	call	EMITCRLF
	jp	??WHILE1050
??WEND1051:
	ld	a,1
	ret

; Module: MODULE

; Procedure DECOMPRESSFILE
DECOMPRESSFILE:
	ld	hl,0
	ld	(INBUFPOS),hl
	ld	hl,0
	ld	(INBUFEND),hl
	ld	hl,0FFFFH
	ld	(INPUTLIMIT),hl
	call	FILLINBUF
	or	a
	jp	nz,??ENDIF1057
    XOR A
	ret
??ENDIF1057:
	ld	hl,(INBUFPTR)
	ld	a,(hl)
	cp	76H
	jp	nz,??ENDIF1059
	ld	hl,(INBUFPTR)
	ld	de,1
	add	hl,de
	ld	a,(hl)
	cp	0FFH
	jp	nz,??ENDIF1059
	xor	a
	ld	(??AUTO+22),a
	ld	a,4
	ld	(??AUTO+6),a
??WHILE1060:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,(INBUFPTR)
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??WEND1061
	ld	a,(??AUTO+22)
	cp	0CH
	jp	nc,??WEND1061
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,(INBUFPTR)
	add	hl,de
	ld	a,(hl)
	ld	b,a
	ld	a,(??AUTO+22)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+22)
	add	a,1
	ld	(??AUTO+22),a
	ld	a,(??AUTO+6)
	add	a,1
	ld	(??AUTO+6),a
	JR ??WHILE1060
??WEND1061:
	xor	a
	ld	b,a
	ld	a,(??AUTO+22)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	(hl),b
	ld	hl,(OFCBPTR)
	ld	(??AUTO+150),hl
	ld	hl,24H
	ld	(??AUTO+152),hl
    XOR A
	call	FILLMEM
	xor	a
	ld	(??AUTO+6),a
	ld	a,1
	ld	(??AUTO+7),a
??WHILE1062:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??WEND1063
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
	cp	2EH
	jp	z,??WEND1063
	ld	a,(??AUTO+7)
	cp	8
	jp	c,??SKIP1064
	jp	z,??SKIP1064
	JR ??WEND1063
??SKIP1064:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
	ld	b,a
	ld	a,(??AUTO+7)
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+6)
	add	a,1
	ld	(??AUTO+6),a
	ld	a,(??AUTO+7)
	add	a,1
	ld	(??AUTO+7),a
	jp	??WHILE1062
??WEND1063:
??WHILE1065:
	ld	a,(??AUTO+7)
	cp	8
	jp	c,??SKIP1067
	jp	z,??SKIP1067
	JR ??WEND1066
??SKIP1067:
	ld	a,20H
	ld	b,a
	ld	a,(??AUTO+7)
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+7)
	add	a,1
	ld	(??AUTO+7),a
	JR ??WHILE1065
??WEND1066:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
	cp	2EH
	jp	nz,??ENDIF1069
	ld	a,(??AUTO+6)
	add	a,1
	ld	(??AUTO+6),a
	ld	a,9
	ld	(??AUTO+7),a
??WHILE1070:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??WEND1071
	ld	a,(??AUTO+7)
	cp	0BH
	jp	c,??SKIP1072
	jp	z,??SKIP1072
	JR ??WEND1071
??SKIP1072:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
	ld	b,a
	ld	a,(??AUTO+7)
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+6)
	add	a,1
	ld	(??AUTO+6),a
	ld	a,(??AUTO+7)
	add	a,1
	ld	(??AUTO+7),a
	JR ??WHILE1070
??WEND1071:
??ENDIF1069:
??WHILE1073:
	ld	a,(??AUTO+7)
	cp	0BH
	jp	c,??SKIP1075
	jp	z,??SKIP1075
	JR ??WEND1074
??SKIP1075:
	ld	a,20H
	ld	b,a
	ld	a,(??AUTO+7)
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+7)
	add	a,1
	ld	(??AUTO+7),a
	JR ??WHILE1073
??WEND1074:
	ld	hl,@DECOMPRESSFILE$MSGCREATING
	call	PRINTSTR
	xor	a
	ld	(??AUTO+6),a
??WHILE1076:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??WEND1077
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
	call	PRINTCHAR
	ld	a,(??AUTO+6)
	add	a,1
	ld	(??AUTO+6),a
	JR ??WHILE1076
??WEND1077:
	ld	hl,(OFCBPTR)
	call	DELETEFILE
	ld	hl,(OFCBPTR)
	call	MAKEFILE
	cp	0FFH
	jp	nz,??ENDIF1079
	ld	hl,??DATA1080
	call	PRINTSTR
    XOR A
	ret
??ENDIF1079:
	ld	hl,0
	ld	(OUTBUFPOS),hl
	call	UNSQUEEZE
	ld	(??AUTO+8),a
	ld	a,(??AUTO+8)
	or	a
	jp	z,??ENDIF1082
	call	FLUSHOUTBUF
	ld	(??AUTO+8),a
??ENDIF1082:
	ld	hl,(OFCBPTR)
	call	CLOSEFILE
	ld	a,(??AUTO+8)
	or	a
	jp	z,??ELSE1083
	ld	hl,@DECOMPRESSFILE$MSGOK
	call	PRINTSTR
	JR ??ENDIF1084
??ELSE1083:
	ld	hl,@DECOMPRESSFILE$MSGERR
	call	PRINTSTR
??ENDIF1084:
	call	CRLF
	ld	a,(??AUTO+8)
	ret
??ENDIF1059:
	ld	hl,(INBUFPTR)
	ld	a,(hl)
	cp	76H
	jp	nz,??ENDIF1086
	ld	hl,(INBUFPTR)
	ld	de,1
	add	hl,de
	ld	a,(hl)
	cp	0FEH
	jp	nz,??ENDIF1086
	xor	a
	ld	(??AUTO+22),a
	ld	a,2
	ld	(??AUTO+6),a
??WHILE1087:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,(INBUFPTR)
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??WEND1088
	ld	a,(??AUTO+22)
	cp	0CH
	jp	nc,??WEND1088
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,(INBUFPTR)
	add	hl,de
	ld	a,(hl)
	ld	b,a
	ld	a,(??AUTO+22)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+22)
	add	a,1
	ld	(??AUTO+22),a
	ld	a,(??AUTO+6)
	add	a,1
	ld	(??AUTO+6),a
	JR ??WHILE1087
??WEND1088:
	xor	a
	ld	b,a
	ld	a,(??AUTO+22)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+6)
	add	a,2
	ld	l,a
	ld	h,0
	ld	de,(INBUFPTR)
	add	hl,de
	ld	a,(hl)
	ld	(??AUTO+23),a
	ld	hl,(OFCBPTR)
	ld	(??AUTO+150),hl
	ld	hl,24H
	ld	(??AUTO+152),hl
    XOR A
	call	FILLMEM
	xor	a
	ld	(??AUTO+6),a
	ld	a,1
	ld	(??AUTO+7),a
??WHILE1089:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??WEND1090
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
	cp	2EH
	jp	z,??WEND1090
	ld	a,(??AUTO+7)
	cp	8
	jp	c,??SKIP1091
	jp	z,??SKIP1091
	JR ??WEND1090
??SKIP1091:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
	ld	b,a
	ld	a,(??AUTO+7)
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+6)
	add	a,1
	ld	(??AUTO+6),a
	ld	a,(??AUTO+7)
	add	a,1
	ld	(??AUTO+7),a
	jp	??WHILE1089
??WEND1090:
??WHILE1092:
	ld	a,(??AUTO+7)
	cp	8
	jp	c,??SKIP1094
	jp	z,??SKIP1094
	JR ??WEND1093
??SKIP1094:
	ld	a,20H
	ld	b,a
	ld	a,(??AUTO+7)
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+7)
	add	a,1
	ld	(??AUTO+7),a
	JR ??WHILE1092
??WEND1093:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
	cp	2EH
	jp	nz,??ENDIF1096
	ld	a,(??AUTO+6)
	add	a,1
	ld	(??AUTO+6),a
	ld	a,9
	ld	(??AUTO+7),a
??WHILE1097:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??WEND1098
	ld	a,(??AUTO+7)
	cp	0BH
	jp	c,??SKIP1099
	jp	z,??SKIP1099
	JR ??WEND1098
??SKIP1099:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
	ld	b,a
	ld	a,(??AUTO+7)
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+6)
	add	a,1
	ld	(??AUTO+6),a
	ld	a,(??AUTO+7)
	add	a,1
	ld	(??AUTO+7),a
	JR ??WHILE1097
??WEND1098:
??ENDIF1096:
??WHILE1100:
	ld	a,(??AUTO+7)
	cp	0BH
	jp	c,??SKIP1102
	jp	z,??SKIP1102
	JR ??WEND1101
??SKIP1102:
	ld	a,20H
	ld	b,a
	ld	a,(??AUTO+7)
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+7)
	add	a,1
	ld	(??AUTO+7),a
	JR ??WHILE1100
??WEND1101:
	ld	hl,@DECOMPRESSFILE$MSGCREATING
	call	PRINTSTR
	xor	a
	ld	(??AUTO+6),a
??WHILE1103:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??WEND1104
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
	call	PRINTCHAR
	ld	a,(??AUTO+6)
	add	a,1
	ld	(??AUTO+6),a
	JR ??WHILE1103
??WEND1104:
	ld	a,(??AUTO+23)
	cp	20H
	jp	c,??ELSE1105
	ld	hl,??DATA1107
	call	PRINTSTR
	JR ??ENDIF1106
??ELSE1105:
	ld	hl,??DATA1108
	call	PRINTSTR
??ENDIF1106:
	ld	hl,(OFCBPTR)
	call	DELETEFILE
	ld	hl,(OFCBPTR)
	call	MAKEFILE
	cp	0FFH
	jp	nz,??ENDIF1110
	ld	hl,??DATA1111
	call	PRINTSTR
    XOR A
	ret
??ENDIF1110:
	ld	hl,0
	ld	(OUTBUFPOS),hl
	call	UNCRUNCH
	ld	(??AUTO+8),a
	ld	a,(??AUTO+8)
	or	a
	jp	z,??ENDIF1113
	call	FLUSHOUTBUF
	ld	(??AUTO+8),a
??ENDIF1113:
	ld	hl,(OFCBPTR)
	call	CLOSEFILE
	ld	a,(??AUTO+8)
	or	a
	jp	z,??ELSE1114
	ld	hl,@DECOMPRESSFILE$MSGOK
	call	PRINTSTR
	JR ??ENDIF1115
??ELSE1114:
	ld	hl,@DECOMPRESSFILE$MSGERR
	call	PRINTSTR
??ENDIF1115:
	call	CRLF
	ld	a,(??AUTO+8)
	ret
??ENDIF1086:
	ld	hl,(INBUFPTR)
	ld	a,(hl)
	cp	76H
	jp	nz,??ENDIF1117
	ld	hl,(INBUFPTR)
	ld	de,1
	add	hl,de
	ld	a,(hl)
	cp	0FDH
	jp	nz,??ENDIF1117
	xor	a
	ld	(??AUTO+22),a
	ld	a,2
	ld	(??AUTO+6),a
??WHILE1118:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,(INBUFPTR)
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??WEND1119
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,(INBUFPTR)
	add	hl,de
	ld	a,(hl)
	and	80H
    OR A
	jp	nz,??WEND1119
	ld	a,(??AUTO+22)
	cp	0CH
	jp	nc,??WEND1119
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,(INBUFPTR)
	add	hl,de
	ld	a,(hl)
	ld	b,a
	ld	a,(??AUTO+22)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+22)
	add	a,1
	ld	(??AUTO+22),a
	ld	a,(??AUTO+6)
	add	a,1
	ld	(??AUTO+6),a
	jp	??WHILE1118
??WEND1119:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,(INBUFPTR)
	add	hl,de
	ld	a,(hl)
	and	80H
    OR A
	jp	z,??ENDIF1121
	ld	a,(??AUTO+22)
	cp	0CH
	jp	nc,??ENDIF1121
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,(INBUFPTR)
	add	hl,de
	ld	a,(hl)
	and	7FH
	ld	b,a
	ld	a,(??AUTO+22)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+22)
	add	a,1
	ld	(??AUTO+22),a
	ld	a,(??AUTO+6)
	add	a,1
	ld	(??AUTO+6),a
??ENDIF1121:
	xor	a
	ld	b,a
	ld	a,(??AUTO+22)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	(hl),b
??WHILE1122:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,(INBUFPTR)
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??WEND1123
	ld	a,(??AUTO+6)
	add	a,1
	ld	(??AUTO+6),a
	JR ??WHILE1122
??WEND1123:
	ld	a,(??AUTO+6)
	add	a,1
	ld	l,a
	ld	h,0
	ld	de,(INBUFPTR)
	add	hl,de
	ld	a,(hl)
	ld	(??AUTO+24),a
	ld	hl,(OFCBPTR)
	ld	(??AUTO+150),hl
	ld	hl,24H
	ld	(??AUTO+152),hl
    XOR A
	call	FILLMEM
	xor	a
	ld	(??AUTO+6),a
	ld	a,1
	ld	(??AUTO+7),a
??WHILE1124:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??WEND1125
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
	cp	2EH
	jp	z,??WEND1125
	ld	a,(??AUTO+7)
	cp	8
	jp	c,??SKIP1126
	jp	z,??SKIP1126
	JR ??WEND1125
??SKIP1126:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
	ld	b,a
	ld	a,(??AUTO+7)
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+6)
	add	a,1
	ld	(??AUTO+6),a
	ld	a,(??AUTO+7)
	add	a,1
	ld	(??AUTO+7),a
	jp	??WHILE1124
??WEND1125:
??WHILE1127:
	ld	a,(??AUTO+7)
	cp	8
	jp	c,??SKIP1129
	jp	z,??SKIP1129
	JR ??WEND1128
??SKIP1129:
	ld	a,20H
	ld	b,a
	ld	a,(??AUTO+7)
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+7)
	add	a,1
	ld	(??AUTO+7),a
	JR ??WHILE1127
??WEND1128:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
	cp	2EH
	jp	nz,??ENDIF1131
	ld	a,(??AUTO+6)
	add	a,1
	ld	(??AUTO+6),a
	ld	a,9
	ld	(??AUTO+7),a
??WHILE1132:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??WEND1133
	ld	a,(??AUTO+7)
	cp	0BH
	jp	c,??SKIP1134
	jp	z,??SKIP1134
	JR ??WEND1133
??SKIP1134:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
	ld	b,a
	ld	a,(??AUTO+7)
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+6)
	add	a,1
	ld	(??AUTO+6),a
	ld	a,(??AUTO+7)
	add	a,1
	ld	(??AUTO+7),a
	JR ??WHILE1132
??WEND1133:
??ENDIF1131:
??WHILE1135:
	ld	a,(??AUTO+7)
	cp	0BH
	jp	c,??SKIP1137
	jp	z,??SKIP1137
	JR ??WEND1136
??SKIP1137:
	ld	a,20H
	ld	b,a
	ld	a,(??AUTO+7)
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+7)
	add	a,1
	ld	(??AUTO+7),a
	JR ??WHILE1135
??WEND1136:
	ld	hl,@DECOMPRESSFILE$MSGCREATING
	call	PRINTSTR
	xor	a
	ld	(??AUTO+6),a
??WHILE1138:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??WEND1139
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
	call	PRINTCHAR
	ld	a,(??AUTO+6)
	add	a,1
	ld	(??AUTO+6),a
	JR ??WHILE1138
??WEND1139:
	ld	a,(??AUTO+24)
	cp	20H
	jp	c,??ELSE1140
	ld	hl,??DATA1142
	call	PRINTSTR
	JR ??ENDIF1141
??ELSE1140:
	ld	hl,??DATA1143
	call	PRINTSTR
??ENDIF1141:
	ld	hl,(OFCBPTR)
	call	DELETEFILE
	ld	hl,(OFCBPTR)
	call	MAKEFILE
	cp	0FFH
	jp	nz,??ENDIF1145
	ld	hl,??DATA1146
	call	PRINTSTR
    XOR A
	ret
??ENDIF1145:
	ld	hl,0
	ld	(OUTBUFPOS),hl
	call	UNCRLZH
	ld	(??AUTO+8),a
	ld	a,(??AUTO+8)
	or	a
	jp	z,??ENDIF1148
	call	FLUSHOUTBUF
	ld	(??AUTO+8),a
??ENDIF1148:
	ld	hl,(OFCBPTR)
	call	CLOSEFILE
	ld	a,(??AUTO+8)
	or	a
	jp	z,??ELSE1149
	ld	hl,@DECOMPRESSFILE$MSGOK
	call	PRINTSTR
	JR ??ENDIF1150
??ELSE1149:
	ld	hl,@DECOMPRESSFILE$MSGERR
	call	PRINTSTR
??ENDIF1150:
	call	CRLF
	ld	a,(??AUTO+8)
	ret
??ENDIF1117:
	ld	hl,??DATA1151
	call	PRINTSTR
	call	CRLF
    XOR A
	ret

; Module: MODULE

	public	MAIN
; Procedure MAIN
MAIN:
	ld	hl,5CH
	ld	(FCBPTR),hl
	ld	hl,80H
	ld	(DMAPTR),hl
	ld	hl,(HEAPBASE)
	ld	(??AUTO+121),hl
	ld	hl,(??AUTO+121)
	ld	(IFCBPTR),hl
	ld	hl,(IFCBPTR)
	ld	de,24H
	add	hl,de
	ld	(OFCBPTR),hl
	ld	hl,(OFCBPTR)
	ld	de,24H
	add	hl,de
	ld	(INBUFPTR),hl
	ld	hl,80H
	ld	(INBUFSIZE),hl
	ld	hl,(INBUFPTR)
	ld	de,80H
	add	hl,de
	ld	(OUTBUFPTR),hl
	ld	hl,80H
	ld	(OUTBUFSIZE),hl
	ld	hl,(OUTBUFPTR)
	ld	de,80H
	add	hl,de
	ld	(HUFFTREEPTR),hl
	ld	hl,(HUFFTREEPTR)
	ld	de,0400H
	add	hl,de
	ld	(LZWPREFIXPTR),hl
	ld	hl,(LZWPREFIXPTR)
	ld	de,4000H
	add	hl,de
	ld	(LZWSUFFIXPTR),hl
	ld	hl,(LZWSUFFIXPTR)
	ld	de,2000H
	add	hl,de
	ld	(RINGPTR),hl
	ld	hl,(RINGPTR)
	ld	de,1000H
	add	hl,de
	ld	(WORKPTR),hl
	call	CRLF
	ld	hl,@MAIN$MSGBANNER
	call	PRINTSTR
	call	CRLF
	ld	hl,(FCBPTR)
	ld	de,1
	add	hl,de
	ld	a,(hl)
	cp	20H
	jp	nz,??ENDIF1153
	call	CRLF
	ld	hl,@MAIN$MSGUSAGE
	call	PRINTSTR
	call	CRLF
	ld	hl,@MAIN$MSGFORMATS
	call	PRINTSTR
	call	CRLF
	ret
??ENDIF1153:
	ld	hl,(FCBPTR)
	ld	de,9
	add	hl,de
	ld	a,(hl)
	and	7FH
	ld	(??AUTO+112),a
	ld	hl,(FCBPTR)
	ld	de,10
	add	hl,de
	ld	a,(hl)
	and	7FH
	ld	(??AUTO+112+1),a
	ld	hl,(FCBPTR)
	ld	de,11
	add	hl,de
	ld	a,(hl)
	and	7FH
	ld	(??AUTO+112+2),a
	xor	a
	ld	(??AUTO+112+3),a
	ld	hl,(FCBPTR)
	ld	(??AUTO+123),hl
	ld	hl,(IFCBPTR)
	ld	(??AUTO+125),hl
	ld	hl,24H
	call	COPYMEM
	ld	hl,(OFCBPTR)
	ld	(??AUTO+150),hl
	ld	hl,24H
	ld	(??AUTO+152),hl
    XOR A
	call	FILLMEM
	ld	hl,(DMAPTR)
	call	SETDMAADDR
	ld	hl,(IFCBPTR)
	call	OPENFILE
	ld	(??AUTO+111),a
	ld	a,(??AUTO+111)
	cp	0FFH
	jp	nz,??ENDIF1155
	call	CRLF
	ld	hl,@MAIN$MSGNOOPEN
	call	PRINTSTR
	call	CRLF
	ret
??ENDIF1155:
	ld	hl,0
	ld	(INBUFPOS),hl
	ld	hl,0
	ld	(INBUFEND),hl
	call	FILLINBUF
	or	a
	jp	nz,??ENDIF1157
	ld	hl,(IFCBPTR)
	call	CLOSEFILE
	ret
??ENDIF1157:
	ld	hl,(INBUFPTR)
	ld	a,(hl)
	ld	(??AUTO+119),a
	ld	hl,(INBUFPTR)
	ld	de,1
	add	hl,de
	ld	a,(hl)
	ld	(??AUTO+119+1),a
	xor	a
	ld	(??AUTO+116),a
	xor	a
	ld	(??AUTO+117),a
	xor	a
	ld	(??AUTO+118),a
	ld	hl,??AUTO+119
	ld	a,(hl)
    OR A
	jp	nz,??ENDIF1159
	ld	hl,(INBUFPTR)
	ld	de,1
	add	hl,de
	ld	a,(hl)
	cp	20H
	jp	nz,??ENDIF1159
	ld	a,1
	ld	(??AUTO+116),a
??ENDIF1159:
	ld	hl,??AUTO+119
	ld	a,(hl)
	cp	1AH
	jp	nz,??ENDIF1161
	ld	hl,??AUTO+119+1
	ld	a,(hl)
	cp	1
	jp	c,??ENDIF1161
	ld	hl,??AUTO+119+1
	ld	a,(hl)
	cp	9
	jp	c,??SKIP1162
	jp	z,??SKIP1162
	JR ??ENDIF1161
??SKIP1162:
	ld	a,1
	ld	(??AUTO+117),a
??ENDIF1161:
	ld	hl,??AUTO+119
	ld	a,(hl)
	cp	0FFH
	jp	z,??ORTRUE1165
	ld	hl,??AUTO+119
	ld	a,(hl)
	cp	0FEH
	jp	nz,??ENDIF1164
??ORTRUE1165:
	ld	a,1
	ld	(??AUTO+118),a
??ENDIF1164:
	ld	hl,??AUTO+112
	ld	a,(hl)
	cp	4CH
	jp	nz,??ENDIF1167
	ld	hl,??AUTO+112+1
	ld	a,(hl)
	cp	42H
	jp	nz,??ENDIF1167
	ld	hl,??AUTO+112+2
	ld	a,(hl)
	cp	52H
	jp	nz,??ENDIF1167
	ld	a,1
	ld	(??AUTO+116),a
??ENDIF1167:
	ld	hl,??AUTO+112
	ld	a,(hl)
	cp	41H
	jp	nz,??ENDIF1169
	ld	hl,??AUTO+112+1
	ld	a,(hl)
	cp	52H
	jp	nz,??ENDIF1169
	ld	hl,??AUTO+112+2
	ld	a,(hl)
	cp	43H
	jp	nz,??ENDIF1169
	ld	a,1
	ld	(??AUTO+117),a
??ENDIF1169:
	ld	hl,??AUTO+112
	ld	a,(hl)
	cp	42H
	jp	nz,??ENDIF1171
	ld	hl,??AUTO+112+1
	ld	a,(hl)
	cp	41H
	jp	nz,??ENDIF1171
	ld	hl,??AUTO+112+2
	ld	a,(hl)
	cp	53H
	jp	nz,??ENDIF1171
	ld	a,1
	ld	(??AUTO+118),a
??ENDIF1171:
	call	CRLF
	ld	hl,@MAIN$MSGEXTRACT
	call	PRINTSTR
	call	CRLF
	xor	a
	ld	(FILECOUNT),a
	ld	hl,(IFCBPTR)
	call	CLOSEFILE
	ld	hl,(FCBPTR)
	ld	(??AUTO+123),hl
	ld	hl,(IFCBPTR)
	ld	(??AUTO+125),hl
	ld	hl,24H
	call	COPYMEM
	ld	hl,(IFCBPTR)
	call	OPENFILE
	ld	(??AUTO+111),a
	ld	a,(??AUTO+111)
	cp	0FFH
	jp	nz,??ENDIF1173
	ld	hl,@MAIN$MSGNOOPEN
	call	PRINTSTR
	call	CRLF
	ret
??ENDIF1173:
	ld	a,(??AUTO+118)
	or	a
	jp	z,??ELSE1174
	call	CRLF
	ld	hl,@MAIN$MSGDETOK
	call	PRINTSTR
	call	CRLF
	ld	hl,0
	ld	(INBUFPOS),hl
	ld	hl,0
	ld	(INBUFEND),hl
	ld	hl,0FFFFH
	ld	(INPUTLIMIT),hl
	call	FILLINBUF
	or	a
	jp	nz,??ENDIF1177
	ld	hl,@MAIN$MSGERR
	call	PRINTSTR
	call	CRLF
	ld	hl,(IFCBPTR)
	call	CLOSEFILE
	ret
??ENDIF1177:
	ld	hl,(OFCBPTR)
	ld	(??AUTO+150),hl
	ld	hl,24H
	ld	(??AUTO+152),hl
    XOR A
	call	FILLMEM
	ld	hl,1
	ld	a,l
	ld	(??AUTO+110),a
	JR ??TEST1179
??FOR1178:
	ld	a,(??AUTO+110)
	ld	l,a
	ld	h,0
	ld	de,(IFCBPTR)
	add	hl,de
	ld	a,(hl)
	ld	b,a
	ld	a,(??AUTO+110)
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	(hl),b
??INCR1180:
	ld	a,(??AUTO+110)
	inc	a
	ld	(??AUTO+110),a
??TEST1179:
	ld	a,(??AUTO+110)
	cp	9
	jr	C,??FOR1178
??NEXT1181:
	ld	a,54H
	ld	b,a
	ld	hl,(OFCBPTR)
	ld	de,9
	add	hl,de
	ld	(hl),b
	ld	a,58H
	ld	b,a
	ld	hl,(OFCBPTR)
	ld	de,10
	add	hl,de
	ld	(hl),b
	ld	a,54H
	ld	b,a
	ld	hl,(OFCBPTR)
	ld	de,11
	add	hl,de
	ld	(hl),b
	ld	hl,@MAIN$MSGCREATING
	call	PRINTSTR
	ld	hl,1
	ld	a,l
	ld	(??AUTO+110),a
	JR ??TEST1183
??FOR1182:
	ld	a,(??AUTO+110)
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	a,(hl)
	cp	20H
	jp	z,??ENDIF1187
	ld	a,(??AUTO+110)
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	a,(hl)
	call	PRINTCHAR
??ENDIF1187:
??INCR1184:
	ld	a,(??AUTO+110)
	inc	a
	ld	(??AUTO+110),a
??TEST1183:
	ld	a,(??AUTO+110)
	cp	9
	jr	C,??FOR1182
??NEXT1185:
	ld	a,2EH
	call	PRINTCHAR
	ld	hl,9
	ld	a,l
	ld	(??AUTO+110),a
	JR ??TEST1189
??FOR1188:
	ld	a,(??AUTO+110)
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	a,(hl)
	call	PRINTCHAR
??INCR1190:
	ld	a,(??AUTO+110)
	inc	a
	ld	(??AUTO+110),a
??TEST1189:
	ld	a,(??AUTO+110)
	cp	0CH
	jr	C,??FOR1188
??NEXT1191:
	ld	hl,(OFCBPTR)
	call	DELETEFILE
	ld	hl,(OFCBPTR)
	call	MAKEFILE
	cp	0FFH
	jp	nz,??ENDIF1193
	ld	hl,??DATA1194
	call	PRINTSTR
	call	CRLF
	ld	hl,(IFCBPTR)
	call	CLOSEFILE
	ret
??ENDIF1193:
	ld	hl,0
	ld	(OUTBUFPOS),hl
	call	DETOKENIZEBASIC
	ld	(??AUTO+111),a
	ld	a,(??AUTO+111)
	or	a
	jp	z,??ENDIF1196
	call	FLUSHOUTBUF
	ld	(??AUTO+111),a
??ENDIF1196:
	ld	hl,(OFCBPTR)
	call	CLOSEFILE
	ld	a,(??AUTO+111)
	or	a
	jp	z,??ELSE1197
	ld	hl,@MAIN$MSGOK
	call	PRINTSTR
	ld	a,1
	ld	(FILECOUNT),a
	JR ??ENDIF1198
??ELSE1197:
	ld	hl,@MAIN$MSGERR
	call	PRINTSTR
??ENDIF1198:
	call	CRLF
	jp	??ENDIF1175
??ELSE1174:
	ld	a,(??AUTO+116)
	or	a
	jp	z,??ELSE1199
	call	EXTRACTLBR
	ld	(??AUTO+111),a
	jp	??ENDIF1200
??ELSE1199:
	ld	a,(??AUTO+117)
	or	a
	jp	z,??ELSE1201
	ld	hl,0
	ld	(INBUFPOS),hl
	ld	hl,0
	ld	(INBUFEND),hl
	call	EXTRACTARC
	ld	(??AUTO+111),a
	JR ??ENDIF1202
??ELSE1201:
	ld	hl,??AUTO+119
	ld	a,(hl)
	cp	76H
	jp	z,??ORTRUE1205
	ld	hl,??AUTO+119
	ld	a,(hl)
	cp	76H
	jp	nz,??ELSE1203
??ORTRUE1205:
	ld	hl,0
	ld	(INBUFPOS),hl
	ld	hl,0
	ld	(INBUFEND),hl
	call	DECOMPRESSFILE
	ld	(??AUTO+111),a
	ld	a,(??AUTO+111)
	or	a
	jp	z,??ENDIF1207
	ld	a,1
	ld	(FILECOUNT),a
??ENDIF1207:
	JR ??ENDIF1204
??ELSE1203:
	call	EXTRACTLBR
	ld	(??AUTO+111),a
??ENDIF1204:
??ENDIF1202:
??ENDIF1200:
??ENDIF1175:
	ld	hl,(IFCBPTR)
	call	CLOSEFILE
	call	CRLF
	ld	a,(FILECOUNT)
	ld	l,a
	ld	h,0
	call	PRINTNUM
	ld	hl,@MAIN$MSGDONE
	call	PRINTSTR
	call	CRLF
	ret

; Runtime library
; PL/M-80 Runtime Library
??div16:
; 16-bit divide: HL = HL / DE, remainder in BC
; Input: HL = dividend, DE = divisor
; Output: HL = quotient, BC = remainder
; Destroys: A
	ld	a,d
	or	e
	jp	z,??div16z	; Divide by zero
	push	de		; Save divisor
	ld	bc,0		; BC = remainder = 0
	ld	a,16		; 16 bits to process
??div16l:
	push	af		; Save counter
; Shift HL left, MSB into remainder
	add	hl,hl		; HL = HL * 2, carry = old H bit 7
	ld	a,c
	rla
	ld	c,a		; C = C<<1 + carry (from HL)
	ld	a,b
	rla
	ld	b,a		; B = B<<1 + carry (from C), BC shifted left with HL carry in
; Shift carry into bit 0 of dividend (will be quotient)
; Actually we need to track if remainder >= divisor
; Compare BC with DE
	ld	a,c
	sub	e
	ld	a,b
	sbc	a,d
	jp	c,??div16n	; BC < DE, don't subtract
; BC >= DE, subtract and set quotient bit
	ld	a,c
	sub	e
	ld	c,a
	ld	a,b
	sbc	a,d
	ld	b,a
	inc	hl		; Set quotient bit
??div16n:
	pop	af		; Restore counter
	dec	a
	jp	nz,??div16l
	pop	de		; Restore divisor (not needed, but balance stack)
	ret
??div16z:
; Divide by zero - return FFFF
	ld	hl,0ffffh
	ld	bc,0
	ret
??mod16:
; 16-bit modulo: HL = HL MOD DE
; Input: HL = dividend, DE = divisor
; Output: HL = remainder
; Destroys: A, B, C
	call	??div16
	ld	h,b
	ld	l,c		; Move remainder to HL
	ret
??subde:
; 16-bit subtract: HL = HL - DE (Z80)
; Input: HL, DE
; Output: HL = HL - DE, flags set
	or	a		; Clear carry
	sbc	hl,de
	ret

; Data segment
CONOUT:	EQU	2
PRTSTR:	EQU	9
OPENF:	EQU	0FH
CLOSEF:	EQU	10H
DELETEF:	EQU	13H
READF:	EQU	14H
WRITEF:	EQU	15H
MAKEF:	EQU	16H
SETDMA:	EQU	1AH
MAGICSQLO:	EQU	0FFH
MAGICSQHI:	EQU	76H
MAGICCRLO:	EQU	0FEH
MAGICCRHI:	EQU	76H
MAGICLZHLO:	EQU	0FDH
MAGICLZHHI:	EQU	76H
ARCMARKER:	EQU	1AH
RLEMARKER:	EQU	90H
CPMEOF:	EQU	1AH
FCBPTR:	ds	2
IFCBPTR:	ds	2
OFCBPTR:	ds	2
DMAPTR:	ds	2
INBUFPTR:	ds	2
INBUFSIZE:	ds	2
INBUFPOS:	ds	2
INBUFEND:	ds	2
OUTBUFPTR:	ds	2
OUTBUFSIZE:	ds	2
OUTBUFPOS:	ds	2
BITBUFFER:	ds	2
BITSLEFT:	ds	1
HUFFTREEPTR:	ds	2
HUFFNODES:	ds	2
LZWPREFIXPTR:	ds	2
LZWSUFFIXPTR:	ds	2
LZWNEXTCODE:	ds	2
LZWCODESIZE:	ds	1
LZWMAXBITS:	ds	1
RINGPTR:	ds	2
RINGPOS:	ds	2
RINGSIZE:	EQU	1000H
RINGMASK:	EQU	0FFFH
WORKPTR:	ds	2
WORKLEN:	ds	2
FILECOUNT:	ds	1
ERRORFLAG:	ds	1
INPUTLIMIT:	ds	2
CPMEOF:	EQU	1AH
RLEMARKER:	EQU	90H
SQBITBUFFER:	ds	1
SQBITPOS:	ds	1
RLEPREV:	ds	1
RLECOUNT:	ds	1
RLEACTIVE:	ds	1
CPMEOF:	EQU	1AH
CPMEOF:	EQU	1AH
LZHN:	EQU	0800H
LZHNMASK:	EQU	07FFH
LZHF:	EQU	3CH
LZHTHRESHOLD:	EQU	2
NCHAR:	EQU	013BH
LZHT:	EQU	0275H
LZHR:	EQU	0274H
MAXFREQ:	EQU	8000H
LZHRING:	ds	2048
LZHRINGPOS:	ds	2
FREQ:	ds	1260
PRNT:	ds	1888
SON:	ds	1258
LZHPOS:	ds	2
LZHBUF:	ds	2
LZHBUFLEN:	ds	1
DCODE:	ds	256
DLEN:	ds	256
USEV2:	ds	1
CPMEOF:	EQU	1AH
ARCMARKER:	EQU	1AH
RLEMARKER:	EQU	90H
CPMEOF:	EQU	1AH
MAGICSQLO:	EQU	0FFH
MAGICSQHI:	EQU	76H
MAGICCRLO:	EQU	0FEH
MAGICCRHI:	EQU	76H
MAGICLZHLO:	EQU	0FDH
MAGICLZHHI:	EQU	76H
MBASICMAGIC:	EQU	0FFH
MBASICPROTECT:	EQU	0FEH
SINCON:	ds	14
ATNCON:	ds	12
BASPOS:	ds	2
PREVTOK:	ds	1
MAGICSQLO:	EQU	0FFH
MAGICSQHI:	EQU	76H
MAGICCRLO:	EQU	0FEH
MAGICCRHI:	EQU	76H
MAGICLZHLO:	EQU	0FDH
MAGICLZHHI:	EQU	76H
ARCMARKER:	EQU	1AH
MBASICMAGIC:	EQU	0FFH
MBASICPROT:	EQU	0FEH
CPMEOF:	EQU	1AH
@PRINTHEX$HEX:
	db	'0123456789ABCDEF'
@UNSQUEEZE$MSGSQTREE:
	db	'Bad Huffman tree$'
@EXTRACTARCMEMBER$MSGMETHOD:
	db	'Unsupported ARC method$'
??DATA0529:
	db	0DH
	db	0AH
	db	'Cannot create file$'
??DATA0549:
	db	0DH
	db	0AH
	db	'  $'
??DATA0558:
	db	' OK$'
??DATA0559:
	db	0DH
	db	0AH
	db	'  Error$'
@EXTRACTLBR$MSGBADLBR:
	db	'Invalid LBR file$'
@EXTRACTLBR$MSGNOCREAT:
	db	' - cannot create$'
@EXTRACTLBR$MSGOK:
	db	' OK$'
@EMITHEXBYTE$HEX:
	db	'0123456789ABCDEF'
@EMITHEX$HEX:
	db	'0123456789ABCDEF'
@DECOMPRESSFILE$MSGCREATING:
	db	'Creating: $'
@DECOMPRESSFILE$MSGOK:
	db	' OK$'
@DECOMPRESSFILE$MSGERR:
	db	' Error$'
??DATA1080:
	db	' - cannot create$'
??DATA1107:
	db	' [Crunch V2]$'
??DATA1108:
	db	' [Crunch V1]$'
??DATA1111:
	db	' - cannot create$'
??DATA1142:
	db	' [CrLZH V2.0]$'
??DATA1143:
	db	' [CrLZH V1.x]$'
??DATA1146:
	db	' - cannot create$'
??DATA1151:
	db	'Unknown compression format$'
@MAIN$MSGBANNER:
	db	'80UN - CP/M Archive Unpacker v2.2$'
@MAIN$MSGUSAGE:
	db	'Usage: 80UN filename$'
@MAIN$MSGFORMATS:
	db	'Supports: LBR, ARC, .?Q?, .?Z?, .?Y?, .BAS$'
@MAIN$MSGNOOPEN:
	db	'Cannot open input file$'
@MAIN$MSGEXTRACT:
	db	'Extracting:$'
@MAIN$MSGDONE:
	db	' file(s) extracted$'
@MAIN$MSGDETOK:
	db	'Detokenizing:$'
@MAIN$MSGCREATING:
	db	'Creating: $'
@MAIN$MSGOK:
	db	' OK$'
@MAIN$MSGERR:
	db	' Error$'
??DATA1194:
	db	' - cannot create$'

; Shared automatic storage (166 bytes)
??AUTO:
	ds	166

	end