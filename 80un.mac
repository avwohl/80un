; PL/M-80 Compiler Output - MAIN, MON1, MODULE, MODULE, MODULE, MODULE, MODULE, MODULE, MODULE, MODULE
; Target: Z80
; Generated by uplm80

	.z80

	public	FCBPTR
	public	IFCBPTR
	public	OFCBPTR
	public	DMAPTR
	public	INBUFPTR
	public	INBUFSIZE
	public	INBUFPOS
	public	INBUFEND
	public	OUTBUFPTR
	public	OUTBUFSIZE
	public	OUTBUFPOS
	public	BITBUFFER
	public	BITSLEFT
	public	HUFFTREEPTR
	public	HUFFNODES
	public	LZWPREFIXPTR
	public	LZWSUFFIXPTR
	public	LZWNEXTCODE
	public	LZWCODESIZE
	public	LZWMAXBITS
	public	RINGPTR
	public	RINGPOS
	public	WORKPTR
	public	WORKLEN
	public	FILECOUNT
	public	ERRORFLAG
	public	INPUTLIMIT
	extrn	IFCBPTR
	extrn	OFCBPTR
	extrn	INBUFPTR
	extrn	INBUFPOS
	extrn	INBUFEND
	extrn	OUTBUFPTR
	extrn	OUTBUFPOS
	extrn	INPUTLIMIT
	extrn	BITBUFFER
	extrn	BITSLEFT
	public	RLEPREV
	public	RLECOUNT
	public	RLEACTIVE
	extrn	HUFFTREEPTR
	extrn	HUFFNODES
	extrn	INPUTLIMIT
	extrn	LZWPREFIXPTR
	extrn	LZWSUFFIXPTR
	extrn	LZWNEXTCODE
	extrn	LZWCODESIZE
	extrn	LZWMAXBITS
	extrn	WORKPTR
	extrn	WORKLEN
	extrn	INPUTLIMIT
	extrn	INBUFPTR
	extrn	INBUFPOS
	extrn	INBUFEND
	extrn	OUTBUFPTR
	extrn	OUTBUFPOS
	extrn	OFCBPTR
	extrn	OUTBUFPOS
	extrn	INPUTLIMIT
	extrn	FILECOUNT
	extrn	HUFFTREEPTR
	extrn	HUFFNODES
	extrn	LZWPREFIXPTR
	extrn	LZWSUFFIXPTR
	extrn	LZWNEXTCODE
	extrn	LZWCODESIZE
	extrn	LZWMAXBITS
	extrn	FCBPTR
	extrn	IFCBPTR
	extrn	OFCBPTR
	extrn	DMAPTR
	extrn	INBUFPTR
	extrn	INBUFPOS
	extrn	INBUFEND
	extrn	OUTBUFPOS
	extrn	INPUTLIMIT
	extrn	FILECOUNT
	extrn	INBUFPTR
	extrn	INBUFEND
	extrn	OUTBUFPTR
	extrn	OUTBUFPOS
	extrn	FCBPTR
	extrn	IFCBPTR
	extrn	OFCBPTR
	extrn	DMAPTR
	extrn	INBUFPTR
	extrn	INBUFSIZE
	extrn	INBUFPOS
	extrn	INBUFEND
	extrn	OUTBUFPTR
	extrn	OUTBUFSIZE
	extrn	OUTBUFPOS
	extrn	HUFFTREEPTR
	extrn	LZWPREFIXPTR
	extrn	LZWSUFFIXPTR
	extrn	RINGPTR
	extrn	WORKPTR
	extrn	FILECOUNT
	extrn	INPUTLIMIT
	extrn	HEAPBASE

; Module initialization
	ld	hl,(6)
	ld	sp,hl
	call	MAIN
	jp	0

; Module: MON1

	public	PRINTCHAR
; Procedure PRINTCHAR
PRINTCHAR:
	ld	(??AUTO+143),a
	ld	c,2
	ld	a,(??AUTO+143)
	ld	e,a
	call	5
	ret

; Module: MON1

	public	CRLF
; Procedure CRLF
CRLF:
	ld	a,0DH
	call	PRINTCHAR
	ld	a,0AH
	call	PRINTCHAR
	ret

; Module: MON1

	public	PRINTSTR
; Procedure PRINTSTR
PRINTSTR:
	ld	(??AUTO+140),hl
	ld	c,9
	ld	hl,(??AUTO+140)
	ex	de,hl
	call	5
	ret

; Module: MON1

	public	PRINTHEX
; Procedure PRINTHEX
PRINTHEX:
	ld	(??AUTO+140),a
	ld	hl,@PRINTHEX$HEX
	push	hl
	ld	a,(??AUTO+140)
	ld	l,a
	ld	h,0
	ld	c,4
??SHR0001:
	dec	c
	jp	m,??SHRE0002
	or	a
	ld	a,h
	rra
	ld	h,a
	ld	a,l
	rra
	ld	l,a
	JR ??SHR0001
??SHRE0002:
	pop	de
	add	hl,de
	ld	a,(hl)
	call	PRINTCHAR
	ld	a,(??AUTO+140)
	and	0FH
	ld	l,a
	ld	h,0
	ld	de,@PRINTHEX$HEX
	add	hl,de
	ld	a,(hl)
	call	PRINTCHAR
	ret

; Module: MON1

	public	PRINTNUM
; Procedure PRINTNUM
PRINTNUM:
	ld	(??AUTO+0),hl
	xor	a
	ld	(??AUTO+3),a
	xor	a
	ld	(??AUTO+2),a
??WHILE0003:
	ld	hl,(??AUTO+0)
	push	hl
	ld	hl,2710H
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??WEND0004
	ld	a,(??AUTO+2)
	add	a,1
	ld	(??AUTO+2),a
	ld	hl,(??AUTO+0)
	ld	de,2710H
	call	??subde
	ld	(??AUTO+0),hl
	JR ??WHILE0003
??WEND0004:
	ld	a,(??AUTO+2)
    OR A
	jp	c,??ENDIF0006
	jp	z,??ENDIF0006
	ld	a,30H
	ld	b,a
	ld	a,(??AUTO+2)
	add	a,b
	call	PRINTCHAR
	ld	a,1
	ld	(??AUTO+3),a
??ENDIF0006:
	xor	a
	ld	(??AUTO+2),a
??WHILE0007:
	ld	hl,(??AUTO+0)
	push	hl
	ld	hl,03E8H
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??WEND0008
	ld	a,(??AUTO+2)
	add	a,1
	ld	(??AUTO+2),a
	ld	hl,(??AUTO+0)
	ld	de,03E8H
	call	??subde
	ld	(??AUTO+0),hl
	JR ??WHILE0007
??WEND0008:
	ld	a,(??AUTO+2)
    OR A
	jp	c,??SKIP0012
	jp	z,??SKIP0012
	JR ??ORTRUE0011
??SKIP0012:
	ld	a,(??AUTO+3)
	or	a
	jp	z,??ENDIF0010
??ORTRUE0011:
	ld	a,30H
	ld	b,a
	ld	a,(??AUTO+2)
	add	a,b
	call	PRINTCHAR
	ld	a,1
	ld	(??AUTO+3),a
??ENDIF0010:
	xor	a
	ld	(??AUTO+2),a
??WHILE0013:
	ld	hl,(??AUTO+0)
	push	hl
	ld	hl,64H
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??WEND0014
	ld	a,(??AUTO+2)
	add	a,1
	ld	(??AUTO+2),a
	ld	hl,(??AUTO+0)
	ld	de,64H
	call	??subde
	ld	(??AUTO+0),hl
	JR ??WHILE0013
??WEND0014:
	ld	a,(??AUTO+2)
    OR A
	jp	c,??SKIP0018
	jp	z,??SKIP0018
	JR ??ORTRUE0017
??SKIP0018:
	ld	a,(??AUTO+3)
	or	a
	jp	z,??ENDIF0016
??ORTRUE0017:
	ld	a,30H
	ld	b,a
	ld	a,(??AUTO+2)
	add	a,b
	call	PRINTCHAR
	ld	a,1
	ld	(??AUTO+3),a
??ENDIF0016:
	xor	a
	ld	(??AUTO+2),a
??WHILE0019:
	ld	hl,(??AUTO+0)
	push	hl
	ld	hl,0AH
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??WEND0020
	ld	a,(??AUTO+2)
	add	a,1
	ld	(??AUTO+2),a
	ld	hl,(??AUTO+0)
	ld	de,0AH
	call	??subde
	ld	(??AUTO+0),hl
	JR ??WHILE0019
??WEND0020:
	ld	a,(??AUTO+2)
    OR A
	jp	c,??SKIP0024
	jp	z,??SKIP0024
	JR ??ORTRUE0023
??SKIP0024:
	ld	a,(??AUTO+3)
	or	a
	jp	z,??ENDIF0022
??ORTRUE0023:
	ld	a,30H
	ld	b,a
	ld	a,(??AUTO+2)
	add	a,b
	call	PRINTCHAR
??ENDIF0022:
	ld	a,30H
	ld	b,a
	ld	hl,(??AUTO+0)
	ld	a,l
	add	a,b
	call	PRINTCHAR
	ret

; Module: MON1

	public	SETDMAADDR
; Procedure SETDMAADDR
SETDMAADDR:
	ld	(??AUTO+151),hl
	ld	c,1AH
	ld	hl,(??AUTO+151)
	ex	de,hl
	call	5
	ret

; Module: MON1

	public	OPENFILE
; Procedure OPENFILE
OPENFILE:
	ld	(??AUTO+123),hl
	ld	c,0FH
	ld	hl,(??AUTO+123)
	ex	de,hl
	call	5
	ret

; Module: MON1

	public	CLOSEFILE
; Procedure CLOSEFILE
CLOSEFILE:
	ld	(??AUTO+123),hl
	ld	c,10H
	ld	hl,(??AUTO+123)
	ex	de,hl
	call	5
	ret

; Module: MON1

	public	DELETEFILE
; Procedure DELETEFILE
DELETEFILE:
	ld	(??AUTO+123),hl
	ld	c,13H
	ld	hl,(??AUTO+123)
	ex	de,hl
	call	5
	ld	(??AUTO+125),a
	ret

; Module: MON1

	public	MAKEFILE
; Procedure MAKEFILE
MAKEFILE:
	ld	(??AUTO+123),hl
	ld	c,16H
	ld	hl,(??AUTO+123)
	ex	de,hl
	call	5
	ret

; Module: MON1

	public	READFILE
; Procedure READFILE
READFILE:
	ld	(??AUTO+151),hl
	ld	c,14H
	ld	hl,(??AUTO+151)
	ex	de,hl
	call	5
	ret

; Module: MON1

	public	WRITEFILE
; Procedure WRITEFILE
WRITEFILE:
	ld	(??AUTO+150),hl
	ld	c,15H
	ld	hl,(??AUTO+150)
	ex	de,hl
	call	5
	ret

; Module: MON1

	public	COPYMEM
; Procedure COPYMEM
COPYMEM:
	ld	(??AUTO+127),hl
??WHILE0025:
	ld	hl,(??AUTO+127)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??WEND0026
	ld	a,l
	or	h
	jp	z,??WEND0026
	ld	hl,(??AUTO+123)
	ld	a,(hl)
	ld	b,a
	ld	hl,(??AUTO+125)
	ld	a,b
	ld	(hl),a
	ld	hl,(??AUTO+123)
	inc	hl
	ld	(??AUTO+123),hl
	ld	hl,(??AUTO+125)
	inc	hl
	ld	(??AUTO+125),hl
	ld	hl,(??AUTO+127)
	dec	hl
	ld	(??AUTO+127),hl
	JR ??WHILE0025
??WEND0026:
	ret

; Module: MON1

	public	FILLMEM
; Procedure FILLMEM
FILLMEM:
	ld	(??AUTO+154),a
??WHILE0027:
	ld	hl,(??AUTO+152)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??WEND0028
	ld	a,l
	or	h
	jp	z,??WEND0028
	ld	a,(??AUTO+154)
	ld	b,a
	ld	hl,(??AUTO+150)
	ld	a,b
	ld	(hl),a
	ld	hl,(??AUTO+150)
	inc	hl
	ld	(??AUTO+150),hl
	ld	hl,(??AUTO+152)
	dec	hl
	ld	(??AUTO+152),hl
	JR ??WHILE0027
??WEND0028:
	ret

; Module: MON1

	public	READ16
; Procedure READ16
READ16:
	ld	(??AUTO+0),hl
	ld	hl,(??AUTO+0)
	ld	a,(hl)
	ld	(??AUTO+3),a
	ld	hl,(??AUTO+0)
	inc	hl
	ld	(??AUTO+0),hl
	ld	hl,(??AUTO+0)
	ld	a,(hl)
	ld	l,a
	ld	h,0
	ld	h,l
	ld	l,0
	ld	de,0
	ex	de,hl
	ld	a,(??AUTO+3)
	ld	l,a
	ld	h,0
	add	hl,de
	ret

; Module: MON1

	public	WRITE16
; Procedure WRITE16
WRITE16:
	ld	(??AUTO+2),hl
	ld	hl,(??AUTO+2)
	ld	a,l
	ld	b,a
	ld	hl,(??AUTO+0)
	ld	a,b
	ld	(hl),a
	ld	hl,(??AUTO+0)
	inc	hl
	ld	(??AUTO+0),hl
	ld	hl,(??AUTO+2)
	ld	a,h
	ld	b,a
	ld	hl,(??AUTO+0)
	ld	a,b
	ld	(hl),a
	ret

; Module: MON1

	public	READWORD
; Procedure READWORD
READWORD:
	ld	(??AUTO+150),hl
	ld	hl,(??AUTO+150)
	ld	a,(hl)
	ld	l,a
	ld	h,0
	push	hl
	ld	hl,(??AUTO+150)
	ld	de,1
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	ld	h,l
	ld	l,0
	ld	de,0
	ex	de,hl
	pop	hl
	add	hl,de
	ret

; Module: MON1

	public	WRITEWORD
; Procedure WRITEWORD
WRITEWORD:
	ld	(??AUTO+143),hl
	ld	hl,(??AUTO+143)
	ld	a,l
	ld	b,a
	ld	hl,(??AUTO+141)
	ld	(hl),b
	ld	hl,(??AUTO+143)
	ld	a,h
	ld	b,a
	ld	hl,(??AUTO+141)
	ld	de,1
	add	hl,de
	ld	(hl),b
	ret

; Module: MODULE

	public	FILLINBUF
; Procedure FILLINBUF
FILLINBUF:
	ld	hl,0
	ld	(INBUFPOS),hl
	ld	hl,0
	ld	(INBUFEND),hl
	xor	a
	ld	(??AUTO+154),a
??WHILE0029:
	ld	a,(??AUTO+154)
	cp	20H
	jp	nc,??WEND0030
	ld	a,(??AUTO+154)
	ld	l,a
	ld	h,0
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	ld	de,0
	ex	de,hl
	ld	hl,(INBUFPTR)
	add	hl,de
	call	SETDMAADDR
	ld	hl,(IFCBPTR)
	call	READFILE
	ld	(??AUTO+153),a
	ld	a,(??AUTO+153)
    OR A
	jp	z,??ENDIF0032
	ld	a,(??AUTO+154)
    OR A
	jp	c,??CMP0034
	jp	z,??CMP0034
	JR ??TRUE0033
	xor	a
	JR ??CMP0034
??TRUE0033:
	ld	a,0ffh
??CMP0034:
	ret
??ENDIF0032:
	ld	a,(??AUTO+154)
	add	a,1
	ld	(??AUTO+154),a
	ld	hl,(INBUFEND)
	ld	de,80H
	add	hl,de
	ld	(INBUFEND),hl
	jp	??WHILE0029
??WEND0030:
	ld	a,1
	ret

; Module: MODULE

	public	GETBYTE
; Procedure GETBYTE
GETBYTE:
	ld	hl,(INPUTLIMIT)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF0036
	ld	a,1AH
	ret
??ENDIF0036:
	ld	hl,(INBUFPOS)
	push	hl
	ld	hl,(INBUFEND)
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??ENDIF0038
	call	FILLINBUF
	or	a
	jp	nz,??ENDIF0040
	ld	a,1AH
	ret
??ENDIF0040:
??ENDIF0038:
	ld	hl,(INBUFPOS)
	ex	de,hl
	ld	hl,(INBUFPTR)
	add	hl,de
	ld	(??AUTO+149),hl
	ld	hl,(INBUFPOS)
	inc	hl
	ld	(INBUFPOS),hl
	ld	hl,(INPUTLIMIT)
	push	hl
	ld	hl,0FFFFH
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??ENDIF0042
	ld	hl,(INPUTLIMIT)
	dec	hl
	ld	(INPUTLIMIT),hl
??ENDIF0042:
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(INBUFPTR)
	ex	de,hl
	ld	hl,(??AUTO+149)
	call	??subde
	pop	de
	add	hl,de
	ld	a,(hl)
	ret

; Module: MODULE

	public	PEEKBYTE
; Procedure PEEKBYTE
PEEKBYTE:
	ld	hl,(INPUTLIMIT)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF0044
	ld	a,1AH
	ret
??ENDIF0044:
	ld	hl,(INBUFPOS)
	push	hl
	ld	hl,(INBUFEND)
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??ENDIF0046
	call	FILLINBUF
	or	a
	jp	nz,??ENDIF0048
	ld	a,1AH
	ret
??ENDIF0048:
??ENDIF0046:
	ld	hl,(INBUFPOS)
	ex	de,hl
	ld	hl,(INBUFPTR)
	add	hl,de
	ld	(??AUTO+0),hl
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(INBUFPTR)
	ex	de,hl
	ld	hl,(??AUTO+0)
	call	??subde
	pop	de
	add	hl,de
	ld	a,(hl)
	ret

; Module: MODULE

	public	INPUTAVAIL
; Procedure INPUTAVAIL
INPUTAVAIL:
	ld	hl,(INPUTLIMIT)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF0050
    XOR A
	ret
??ENDIF0050:
	ld	hl,(INBUFPOS)
	push	hl
	ld	hl,(INBUFEND)
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??ENDIF0052
	ld	a,1
	ret
??ENDIF0052:
	call	FILLINBUF
	ret

; Module: MODULE

	public	FLUSHOUTBUF
; Procedure FLUSHOUTBUF
FLUSHOUTBUF:
	ld	hl,(OUTBUFPOS)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF0054
	ld	a,1
	ret
??ENDIF0054:
	ld	hl,(OUTBUFPOS)
	ld	a,l
	rlca
	ld	a,h
	rla
	ld	l,a
	ld	h,0
	ld	a,l
	ld	(??AUTO+157),a
	ld	hl,7FH
	ex	de,hl
	ld	hl,(OUTBUFPOS)
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	(??AUTO+159),hl
	xor	a
	ld	(??AUTO+156),a
??WHILE0055:
	ld	a,(??AUTO+157)
	ld	b,a
	ld	a,(??AUTO+156)
	sub	b
	jp	nc,??WEND0056
	ld	a,(??AUTO+156)
	ld	l,a
	ld	h,0
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	ld	de,0
	ex	de,hl
	ld	hl,(OUTBUFPTR)
	add	hl,de
	call	SETDMAADDR
	ld	hl,(OFCBPTR)
	call	WRITEFILE
	ld	(??AUTO+158),a
	ld	a,(??AUTO+158)
    OR A
	jp	z,??ENDIF0058
    XOR A
	ret
??ENDIF0058:
	ld	a,(??AUTO+156)
	add	a,1
	ld	(??AUTO+156),a
	JR ??WHILE0055
??WEND0056:
	ld	hl,(??AUTO+159)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??ENDIF0060
	ld	a,l
	or	h
	jp	z,??ENDIF0060
	ld	hl,(OUTBUFPOS)
	ex	de,hl
	ld	hl,(OUTBUFPTR)
	add	hl,de
	ld	(??AUTO+150),hl
	ld	hl,(??AUTO+159)
	ex	de,hl
	ld	hl,80H
	call	??subde
	ld	(??AUTO+152),hl
	ld	a,1AH
	call	FILLMEM
	ld	a,(??AUTO+157)
	ld	l,a
	ld	h,0
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	ld	de,0
	ex	de,hl
	ld	hl,(OUTBUFPTR)
	add	hl,de
	call	SETDMAADDR
	ld	hl,(OFCBPTR)
	call	WRITEFILE
	ld	(??AUTO+158),a
	ld	a,(??AUTO+158)
    OR A
	jp	z,??ENDIF0062
    XOR A
	ret
??ENDIF0062:
??ENDIF0060:
	ld	hl,0
	ld	(OUTBUFPOS),hl
	ld	a,1
	ret

; Module: MODULE

	public	PUTBYTE
; Procedure PUTBYTE
PUTBYTE:
	ld	(??AUTO+161),a
	ld	hl,(OUTBUFPOS)
	ex	de,hl
	ld	hl,(OUTBUFPTR)
	add	hl,de
	ld	(??AUTO+162),hl
	ld	a,(??AUTO+161)
	ld	b,a
	ld	hl,(OUTBUFPTR)
	push	hl
	ld	hl,(OUTBUFPTR)
	ex	de,hl
	ld	hl,(??AUTO+162)
	call	??subde
	pop	de
	add	hl,de
	ld	(hl),b
	ld	hl,(OUTBUFPOS)
	inc	hl
	ld	(OUTBUFPOS),hl
	ld	hl,(OUTBUFPOS)
	push	hl
	ld	hl,1000H
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??ENDIF0064
	call	FLUSHOUTBUF
	ret
??ENDIF0064:
	ld	a,1
	ret

; Module: MODULE

	public	INITBITSLSB
; Procedure INITBITSLSB
INITBITSLSB:
	ld	hl,0
	ld	(BITBUFFER),hl
	xor	a
	ld	(BITSLEFT),a
	ret

; Module: MODULE

	public	READBITLSB
; Procedure READBITLSB
READBITLSB:
	ld	a,(BITSLEFT)
    OR A
	jp	nz,??ENDIF0066
	call	GETBYTE
	ld	l,a
	ld	h,0
	ld	(BITBUFFER),hl
	ld	a,8
	ld	(BITSLEFT),a
??ENDIF0066:
	ld	hl,(BITBUFFER)
	ld	a,l
	and	1
	ld	(??AUTO+140),a
	ld	hl,(BITBUFFER)
	or	a
	ld	a,h
	rra
	ld	h,a
	ld	a,l
	rra
	ld	l,a
	ld	(BITBUFFER),hl
	ld	a,(BITSLEFT)
	sub	1
	ld	(BITSLEFT),a
	ld	a,(??AUTO+140)
	ret

; Module: MODULE

	public	READBITSLSB
; Procedure READBITSLSB
READBITSLSB:
	ld	(??AUTO+36),a
	ld	hl,0
	ld	(??AUTO+37),hl
	ld	hl,1
	ld	(??AUTO+39),hl
??WHILE0067:
	ld	a,(??AUTO+36)
    OR A
	jp	c,??WEND0068
	jp	z,??WEND0068
	call	READBITLSB
	or	a
	jp	z,??ENDIF0070
	ld	hl,(??AUTO+39)
	ex	de,hl
	ld	hl,(??AUTO+37)
	add	hl,de
	ld	(??AUTO+37),hl
??ENDIF0070:
	ld	hl,(??AUTO+39)
	add	hl,hl
	ld	de,0
	ld	(??AUTO+39),hl
	ld	a,(??AUTO+36)
	sub	1
	ld	(??AUTO+36),a
	JR ??WHILE0067
??WEND0068:
	ld	hl,(??AUTO+37)
	ret

; Module: MODULE

	public	INITBITSSQ
; Procedure INITBITSSQ
INITBITSSQ:
	xor	a
	ld	(SQBITBUFFER),a
	xor	a
	ld	(SQBITPOS),a
	ret

; Module: MODULE

	public	READBITSQ
; Procedure READBITSQ
READBITSQ:
	ld	a,(SQBITPOS)
    OR A
	jp	nz,??ENDIF0072
	call	GETBYTE
	ld	(SQBITBUFFER),a
	ld	a,8
	ld	(SQBITPOS),a
??ENDIF0072:
	ld	a,(SQBITPOS)
	sub	1
	ld	(SQBITPOS),a
	ld	a,(SQBITBUFFER)
	ld	l,a
	ld	h,0
	push	hl
	ld	a,(SQBITPOS)
	ld	c,a
	pop	hl
??SHR0073:
	dec	c
	jp	m,??SHRE0074
	or	a
	ld	a,h
	rra
	ld	h,a
	ld	a,l
	rra
	ld	l,a
	JR ??SHR0073
??SHRE0074:
	push	hl
	ld	hl,1
	ex	de,hl
	pop	hl
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	a,l
	ld	(??AUTO+0),a
	ld	a,(??AUTO+0)
	ret

; Module: MODULE

	public	INITBITSMSB
; Procedure INITBITSMSB
INITBITSMSB:
	ld	hl,0
	ld	(BITBUFFER),hl
	xor	a
	ld	(BITSLEFT),a
	ret

; Module: MODULE

	public	READCODEMSB
; Procedure READCODEMSB
READCODEMSB:
	ld	(??AUTO+141),a
??WHILE0075:
	ld	a,(??AUTO+141)
	ld	b,a
	ld	a,(BITSLEFT)
	sub	b
	jp	nc,??WEND0076
	call	GETBYTE
	ld	(??AUTO+144),a
	ld	hl,(BITBUFFER)
	ld	h,l
	ld	l,0
	ld	de,0
	push	hl
	ld	a,(??AUTO+144)
	ld	l,a
	ld	h,0
	ex	de,hl
	pop	hl
	add	hl,de
	ld	(BITBUFFER),hl
	ld	a,(BITSLEFT)
	add	a,8
	ld	(BITSLEFT),a
	JR ??WHILE0075
??WEND0076:
	ld	a,(??AUTO+141)
	ld	b,a
	ld	a,(BITSLEFT)
	sub	b
	ld	(??AUTO+145),a
	ld	hl,(BITBUFFER)
	push	hl
	ld	a,(??AUTO+145)
	ld	c,a
	pop	hl
??SHR0077:
	dec	c
	jp	m,??SHRE0078
	or	a
	ld	a,h
	rra
	ld	h,a
	ld	a,l
	rra
	ld	l,a
	JR ??SHR0077
??SHRE0078:
	ld	(??AUTO+142),hl
	ld	hl,1
	push	hl
	ld	a,(??AUTO+141)
	ld	c,a
	pop	hl
??SHL0079:
	dec	c
	jp	m,??SHLE0080
	add	hl,hl
	JR ??SHL0079
??SHLE0080:
	dec	hl
	ld	(??AUTO+146),hl
	ld	hl,(??AUTO+146)
	ex	de,hl
	ld	hl,(??AUTO+142)
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	(??AUTO+142),hl
	ld	a,(??AUTO+141)
	ld	b,a
	ld	a,(BITSLEFT)
	sub	b
	ld	(BITSLEFT),a
	ld	a,(BITSLEFT)
    OR A
	jp	c,??ELSE0081
	jp	z,??ELSE0081
	ld	hl,1
	push	hl
	ld	a,(BITSLEFT)
	ld	c,a
	pop	hl
??SHL0083:
	dec	c
	jp	m,??SHLE0084
	add	hl,hl
	JR ??SHL0083
??SHLE0084:
	dec	hl
	ex	de,hl
	ld	hl,(BITBUFFER)
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	(BITBUFFER),hl
	JR ??ENDIF0082
??ELSE0081:
	ld	hl,0
	ld	(BITBUFFER),hl
??ENDIF0082:
	ld	hl,(??AUTO+142)
	ret

; Module: MODULE

	public	INITRLE
; Procedure INITRLE
INITRLE:
	xor	a
	ld	(RLEPREV),a
	xor	a
	ld	(RLECOUNT),a
	xor	a
	ld	(RLEACTIVE),a
	ret

; Module: MODULE

	public	RLEDECODEBYTE
; Procedure RLEDECODEBYTE
RLEDECODEBYTE:
	ld	(??AUTO+164),a
	ld	a,(RLEACTIVE)
	or	a
	jp	z,??ENDIF0086
	ld	a,(??AUTO+164)
    OR A
	jp	nz,??ELSE0087
	xor	a
	ld	(RLEACTIVE),a
	ld	a,90H
	ld	(RLEPREV),a
	ld	a,90H
	call	PUTBYTE
	ret
	JR ??ENDIF0088
??ELSE0087:
	xor	a
	ld	(RLEACTIVE),a
	ld	a,(??AUTO+164)
	ld	(??AUTO+165),a
??WHILE0089:
	ld	a,(??AUTO+165)
    OR A
	jp	c,??WEND0090
	jp	z,??WEND0090
	ld	a,(RLEPREV)
	call	PUTBYTE
	or	a
	jp	nz,??ENDIF0092
    XOR A
	ret
??ENDIF0092:
	ld	a,(??AUTO+165)
	sub	1
	ld	(??AUTO+165),a
	JR ??WHILE0089
??WEND0090:
	ld	a,1
	ret
??ENDIF0088:
??ENDIF0086:
	ld	a,(??AUTO+164)
	cp	90H
	jp	nz,??ENDIF0094
	ld	a,1
	ld	(RLEACTIVE),a
	ld	a,1
	ret
??ENDIF0094:
	ld	a,(??AUTO+164)
	ld	(RLEPREV),a
	ld	a,(??AUTO+164)
	call	PUTBYTE
	ret

; Module: MODULE

	public	UNSQUEEZE
; Procedure UNSQUEEZE
UNSQUEEZE:
	call	GETBYTE
	ld	(??AUTO+125),a
	call	GETBYTE
	ld	(??AUTO+125),a
	call	GETBYTE
	ld	(??AUTO+138),a
	call	GETBYTE
	ld	(??AUTO+139),a
??WHILE0095:
	call	GETBYTE
	ld	b,a
	ld	(??AUTO+125),a
	ld	a,b
    OR A
	jp	z,??WEND0096
	ld	a,(??AUTO+125)
	cp	1AH
	jp	z,??WEND0096
	JR ??WHILE0095
??WEND0096:
	call	GETBYTE
	ld	(??AUTO+138),a
	call	GETBYTE
	ld	(??AUTO+139),a
	ld	a,(??AUTO+139)
	ld	l,a
	ld	h,0
	ld	h,l
	ld	l,0
	ld	de,0
	ex	de,hl
	ld	a,(??AUTO+138)
	ld	l,a
	ld	h,0
	add	hl,de
	ld	(??AUTO+127),hl
	ld	hl,(??AUTO+127)
	push	hl
	ld	hl,0100H
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??ENDIF0098
	ld	a,l
	or	h
	jp	z,??ENDIF0098
	ld	hl,@UNSQUEEZE$MSGSQTREE
	call	PRINTSTR
	ld	a,20H
	call	PRINTCHAR
	ld	hl,(??AUTO+127)
	ld	a,h
	call	PRINTHEX
	ld	hl,(??AUTO+127)
	ld	a,l
	call	PRINTHEX
    XOR A
	ret
??ENDIF0098:
	xor	a
	ld	(??AUTO+126),a
??WHILE0099:
	ld	hl,(??AUTO+127)
	ld	a,l
	ld	b,a
	ld	a,(??AUTO+126)
	sub	b
	jp	nc,??WEND0100
	ld	a,(??AUTO+126)
	ld	l,a
	ld	h,0
	add	hl,hl
	add	hl,hl
	ld	de,0
	ex	de,hl
	ld	hl,(HUFFTREEPTR)
	add	hl,de
	ld	(??AUTO+135),hl
	call	GETBYTE
	ld	b,a
	ld	hl,(HUFFTREEPTR)
	push	hl
	ld	hl,(HUFFTREEPTR)
	ex	de,hl
	ld	hl,(??AUTO+135)
	call	??subde
	pop	de
	add	hl,de
	ld	(hl),b
	call	GETBYTE
	ld	b,a
	ld	hl,(HUFFTREEPTR)
	push	hl
	ld	hl,(HUFFTREEPTR)
	ex	de,hl
	ld	hl,(??AUTO+135)
	call	??subde
	inc	hl
	pop	de
	add	hl,de
	ld	(hl),b
	call	GETBYTE
	ld	b,a
	ld	hl,(HUFFTREEPTR)
	push	hl
	ld	hl,(HUFFTREEPTR)
	ex	de,hl
	ld	hl,(??AUTO+135)
	call	??subde
	inc	hl
	inc	hl
	pop	de
	add	hl,de
	ld	(hl),b
	call	GETBYTE
	ld	b,a
	ld	hl,(HUFFTREEPTR)
	push	hl
	ld	hl,(HUFFTREEPTR)
	ex	de,hl
	ld	hl,(??AUTO+135)
	call	??subde
	inc	hl
	inc	hl
	inc	hl
	pop	de
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+126)
	add	a,1
	ld	(??AUTO+126),a
	jp	??WHILE0099
??WEND0100:
	ld	hl,(??AUTO+127)
	ld	(HUFFNODES),hl
	call	INITBITSLSB
	call	INITRLE
	xor	a
	ld	(??AUTO+137),a
??WHILE0101:
	ld	a,(??AUTO+137)
	or	a
	jp	nz,??WEND0102
	call	INPUTAVAIL
	or	a
	jp	z,??WEND0102
	ld	hl,0
	ld	(??AUTO+129),hl
??WHILE0103:
	ld	hl,(??AUTO+129)
	push	hl
	ld	hl,(HUFFNODES)
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??WEND0104
	ld	hl,(??AUTO+129)
	ld	a,l
	ld	h,0
	add	hl,hl
	add	hl,hl
	ld	de,0
	ex	de,hl
	ld	hl,(HUFFTREEPTR)
	add	hl,de
	ld	(??AUTO+135),hl
	call	READBITLSB
	or	a
	jp	z,??ELSE0105
	ld	hl,(??AUTO+135)
	inc	hl
	inc	hl
	call	READWORD
	ld	(??AUTO+131),hl
	JR ??ENDIF0106
??ELSE0105:
	ld	hl,(??AUTO+135)
	call	READWORD
	ld	(??AUTO+131),hl
??ENDIF0106:
	ld	hl,8000H
	ex	de,hl
	ld	hl,(??AUTO+131)
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??ELSE0107
	ld	hl,(??AUTO+131)
	ld	a,l
	cpl
	ld	l,a
	ld	a,h
	cpl
	ld	h,a
	ld	(??AUTO+133),hl
	ld	hl,(??AUTO+133)
	push	hl
	ld	hl,0100H
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ELSE0109
	ld	a,1
	ld	(??AUTO+137),a
	JR ??ENDIF0110
??ELSE0109:
	ld	hl,(??AUTO+133)
	ld	a,l
	call	RLEDECODEBYTE
	or	a
	jp	nz,??ENDIF0112
    XOR A
	ret
??ENDIF0112:
??ENDIF0110:
	ld	hl,(HUFFNODES)
	ld	(??AUTO+129),hl
	JP ??WHILE0103
??ELSE0107:
	ld	hl,(??AUTO+131)
	ld	(??AUTO+129),hl
??ENDIF0108:
	jp	??WHILE0103
??WEND0104:
	jp	??WHILE0101
??WEND0102:
	ld	a,1
	ret

; Module: MODULE

	public	INITLZW
; Procedure INITLZW
INITLZW:
	ld	hl,0
	ld	(??AUTO+147),hl
??WHILE0113:
	ld	hl,(??AUTO+147)
	push	hl
	ld	hl,0100H
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??WEND0114
	ld	hl,(??AUTO+147)
	add	hl,hl
	ld	de,0
	ex	de,hl
	ld	hl,(LZWPREFIXPTR)
	add	hl,de
	ld	(??AUTO+141),hl
	ld	hl,0FFFFH
	call	WRITEWORD
	ld	hl,(??AUTO+147)
	ld	a,l
	ld	b,a
	ld	hl,(LZWSUFFIXPTR)
	push	hl
	ld	hl,(??AUTO+147)
	pop	de
	add	hl,de
	ld	(hl),b
	ld	hl,(??AUTO+147)
	inc	hl
	ld	(??AUTO+147),hl
	JR ??WHILE0113
??WEND0114:
	ld	hl,0104H
	ld	(LZWNEXTCODE),hl
	ret

; Module: MODULE

	public	LZWOUTPUT
; Procedure LZWOUTPUT
LZWOUTPUT:
	ld	(??AUTO+141),hl
	ld	hl,0
	ld	(??AUTO+145),hl
??WHILE0115:
	ld	hl,(??AUTO+141)
	push	hl
	ld	hl,0FFFFH
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??WEND0116
	ld	hl,(??AUTO+145)
	push	hl
	ld	hl,1000H
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??WEND0116
	ld	hl,(LZWSUFFIXPTR)
	push	hl
	ld	hl,(??AUTO+141)
	pop	de
	add	hl,de
	ld	a,(hl)
	ld	(??AUTO+147),a
	ld	a,(??AUTO+147)
	ld	b,a
	ld	hl,(WORKPTR)
	push	hl
	ld	hl,(??AUTO+145)
	pop	de
	add	hl,de
	ld	(hl),b
	ld	hl,(??AUTO+145)
	inc	hl
	ld	(??AUTO+145),hl
	ld	hl,(??AUTO+141)
	add	hl,hl
	ld	de,0
	ex	de,hl
	ld	hl,(LZWPREFIXPTR)
	add	hl,de
	call	READWORD
	ld	(??AUTO+143),hl
	ld	hl,(??AUTO+143)
	ld	(??AUTO+141),hl
	jp	??WHILE0115
??WEND0116:
	ld	hl,(??AUTO+145)
	ld	(WORKLEN),hl
??WHILE0117:
	ld	hl,(??AUTO+145)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??WEND0118
	ld	a,l
	or	h
	jp	z,??WEND0118
	ld	hl,(??AUTO+145)
	dec	hl
	ld	(??AUTO+145),hl
	ld	hl,(WORKPTR)
	push	hl
	ld	hl,(??AUTO+145)
	pop	de
	add	hl,de
	ld	a,(hl)
	call	RLEDECODEBYTE
	or	a
	jp	nz,??ENDIF0120
	ld	hl,0
	ret
??ENDIF0120:
	JR ??WHILE0117
??WEND0118:
	ld	hl,(WORKLEN)
	ret

; Module: MODULE

	public	LZWFIRSTBYTE
; Procedure LZWFIRSTBYTE
LZWFIRSTBYTE:
	ld	(??AUTO+141),hl
??WHILE0121:
	ld	hl,(??AUTO+141)
	push	hl
	ld	hl,0100H
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??WEND0122
	ld	hl,(??AUTO+141)
	add	hl,hl
	ld	de,0
	ex	de,hl
	ld	hl,(LZWPREFIXPTR)
	add	hl,de
	call	READWORD
	ld	(??AUTO+143),hl
	ld	hl,(??AUTO+143)
	push	hl
	ld	hl,0FFFFH
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF0124
	ld	hl,(LZWSUFFIXPTR)
	push	hl
	ld	hl,(??AUTO+141)
	pop	de
	add	hl,de
	ld	a,(hl)
	ret
??ENDIF0124:
	ld	hl,(??AUTO+143)
	ld	(??AUTO+141),hl
	JR ??WHILE0121
??WEND0122:
	ld	hl,(??AUTO+141)
	ld	a,l
	ret

; Module: MODULE

	public	LZWADDENTRY
; Procedure LZWADDENTRY
LZWADDENTRY:
	ld	(??AUTO+149),a
	ld	hl,(LZWNEXTCODE)
	push	hl
	ld	hl,1000H
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??ENDIF0126
	ld	hl,(LZWNEXTCODE)
	add	hl,hl
	ld	de,0
	ex	de,hl
	ld	hl,(LZWPREFIXPTR)
	add	hl,de
	ld	(??AUTO+141),hl
	ld	hl,(??AUTO+147)
	call	WRITEWORD
	ld	a,(??AUTO+149)
	ld	b,a
	ld	hl,(LZWSUFFIXPTR)
	push	hl
	ld	hl,(LZWNEXTCODE)
	pop	de
	add	hl,de
	ld	(hl),b
	ld	hl,(LZWNEXTCODE)
	inc	hl
	ld	(LZWNEXTCODE),hl
??ENDIF0126:
	ret

; Module: MODULE

	public	UNCRUNCH
; Procedure UNCRUNCH
UNCRUNCH:
	call	GETBYTE
	ld	(??AUTO+123),a
	call	GETBYTE
	ld	(??AUTO+123),a
??WHILE0127:
	call	GETBYTE
	ld	b,a
	ld	(??AUTO+123),a
	ld	a,b
    OR A
	jp	z,??WEND0128
	ld	a,(??AUTO+123)
	cp	1AH
	jp	z,??WEND0128
	JR ??WHILE0127
??WEND0128:
	call	GETBYTE
	ld	(??AUTO+124),a
	call	GETBYTE
	ld	(??AUTO+126),a
	call	GETBYTE
	ld	(??AUTO+127),a
	call	GETBYTE
	ld	(??AUTO+125),a
	xor	a
	ld	(??AUTO+128),a
	ld	a,(??AUTO+126)
	cp	1FH
	jp	c,??ENDIF0130
	jp	z,??ENDIF0130
	ld	a,1
	ld	(??AUTO+128),a
??ENDIF0130:
	ld	a,(??AUTO+128)
    OR A
	jp	z,??ELSE0131
	ld	a,9
	ld	(??AUTO+134),a
	JR ??ENDIF0132
??ELSE0131:
	ld	a,0CH
	ld	(??AUTO+134),a
??ENDIF0132:
	ld	a,(??AUTO+127)
    OR A
	jp	c,??ENDIF0134
	jp	z,??ENDIF0134
	call	GETBYTE
	ld	l,a
	ld	h,0
	ld	(??AUTO+135),hl
	call	GETBYTE
	ld	l,a
	ld	h,0
	ld	h,l
	ld	l,0
	ld	de,0
	ex	de,hl
	ld	hl,(??AUTO+135)
	add	hl,de
	ld	(??AUTO+135),hl
??ENDIF0134:
	call	INITLZW
	call	INITBITSMSB
	call	INITRLE
	ld	a,(??AUTO+134)
	ld	(LZWCODESIZE),a
	ld	a,0CH
	ld	(LZWMAXBITS),a
	ld	hl,0FFFFH
	ld	(??AUTO+132),hl
	ld	a,1
	ld	(??AUTO+129),a
	xor	a
	ld	(??AUTO+137),a
??WHILE0135:
	ld	a,(??AUTO+137)
	or	a
	jp	nz,??WEND0136
	call	INPUTAVAIL
	or	a
	jp	z,??WEND0136
	ld	a,(??AUTO+128)
    OR A
	jp	z,??ENDIF0138
	ld	hl,1
	push	hl
	ld	a,(LZWCODESIZE)
	ld	c,a
	pop	hl
??SHL0139:
	dec	c
	jp	m,??SHLE0140
	add	hl,hl
	JR ??SHL0139
??SHLE0140:
	dec	hl
	ld	(??AUTO+139),hl
	ld	hl,(LZWNEXTCODE)
	push	hl
	ld	hl,(??AUTO+139)
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF0142
	ld	a,(LZWMAXBITS)
	ld	b,a
	ld	a,(LZWCODESIZE)
	sub	b
	jp	nc,??ENDIF0142
	ld	a,(LZWCODESIZE)
	add	a,1
	ld	(LZWCODESIZE),a
??ENDIF0142:
??ENDIF0138:
	ld	a,(LZWCODESIZE)
	call	READCODEMSB
	ld	(??AUTO+130),hl
??WHILE0143:
	ld	hl,(??AUTO+130)
	push	hl
	ld	hl,0102H
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??ORTRUE0145
	ld	hl,(??AUTO+130)
	push	hl
	ld	hl,0103H
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??WEND0144
??ORTRUE0145:
	ld	a,(LZWCODESIZE)
	call	READCODEMSB
	ld	(??AUTO+130),hl
	JR ??WHILE0143
??WEND0144:
	ld	hl,(??AUTO+130)
	push	hl
	ld	hl,0100H
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ELSE0146
	ld	a,1
	ld	(??AUTO+137),a
	JP ??WHILE0135
??ELSE0146:
	ld	hl,(??AUTO+130)
	push	hl
	ld	hl,0101H
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ELSE0148
	call	INITLZW
	ld	a,(??AUTO+134)
	ld	(LZWCODESIZE),a
	ld	hl,0FFFFH
	ld	(??AUTO+132),hl
	ld	a,1
	ld	(??AUTO+129),a
	jp	??ENDIF0149
??ELSE0148:
	ld	hl,(??AUTO+130)
	push	hl
	ld	hl,0100H
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??ELSE0150
	ld	hl,(??AUTO+130)
	ld	a,l
	call	RLEDECODEBYTE
	or	a
	jp	nz,??ENDIF0153
    XOR A
	ret
??ENDIF0153:
	ld	hl,(??AUTO+130)
	ld	a,l
	ld	(??AUTO+138),a
	jp	??ENDIF0151
??ELSE0150:
	ld	hl,(??AUTO+130)
	push	hl
	ld	hl,(LZWNEXTCODE)
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??ELSE0154
	ld	hl,(??AUTO+130)
	call	LZWFIRSTBYTE
	ld	(??AUTO+138),a
	ld	hl,(??AUTO+130)
	call	LZWOUTPUT
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF0157
    XOR A
	ret
??ENDIF0157:
	jp	??ENDIF0155
??ELSE0154:
	ld	hl,(??AUTO+130)
	push	hl
	ld	hl,(LZWNEXTCODE)
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ELSE0158
	ld	hl,(??AUTO+132)
	push	hl
	ld	hl,0FFFFH
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??ELSE0158
	ld	hl,(??AUTO+132)
	call	LZWFIRSTBYTE
	ld	(??AUTO+138),a
	ld	hl,(??AUTO+132)
	call	LZWOUTPUT
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF0161
    XOR A
	ret
??ENDIF0161:
	ld	a,(??AUTO+138)
	call	RLEDECODEBYTE
	or	a
	jp	nz,??ENDIF0163
    XOR A
	ret
??ENDIF0163:
	JR ??ENDIF0159
??ELSE0158:
	ld	a,1
	ld	(??AUTO+137),a
??ENDIF0159:
??ENDIF0155:
??ENDIF0151:
	ld	a,(??AUTO+129)
	or	a
	jp	nz,??ENDIF0165
	ld	hl,(??AUTO+132)
	push	hl
	ld	hl,0FFFFH
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??ENDIF0165
	ld	a,(??AUTO+137)
	or	a
	jp	nz,??ENDIF0165
	ld	hl,(??AUTO+132)
	ld	(??AUTO+147),hl
	ld	a,(??AUTO+138)
	call	LZWADDENTRY
??ENDIF0165:
	ld	hl,(??AUTO+130)
	ld	(??AUTO+132),hl
	xor	a
	ld	(??AUTO+129),a
??ENDIF0149:
??ENDIF0147:
	jp	??WHILE0135
??WEND0136:
	ld	a,1
	ret

; Module: MODULE

; Procedure INITLZHTABLES
INITLZHTABLES:
	ld	hl,0
	ld	(??AUTO+135),hl
	JR ??TEST0167
??FOR0166:
	xor	a
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0168:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0167:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,1FH
	call	??subde
	jp	nc,??FOR0166
??NEXT0169:
	ld	hl,20H
	ld	(??AUTO+135),hl
	JR ??TEST0171
??FOR0170:
	ld	a,1
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0172:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0171:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,2FH
	call	??subde
	jp	nc,??FOR0170
??NEXT0173:
	ld	hl,30H
	ld	(??AUTO+135),hl
	JR ??TEST0175
??FOR0174:
	ld	a,2
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0176:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0175:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,3FH
	call	??subde
	jp	nc,??FOR0174
??NEXT0177:
	ld	hl,40H
	ld	(??AUTO+135),hl
	JR ??TEST0179
??FOR0178:
	ld	a,3
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0180:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0179:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,4FH
	call	??subde
	jp	nc,??FOR0178
??NEXT0181:
	ld	hl,50H
	ld	(??AUTO+135),hl
	JR ??TEST0183
??FOR0182:
	ld	a,4
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0184:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0183:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,57H
	call	??subde
	jp	nc,??FOR0182
??NEXT0185:
	ld	hl,58H
	ld	(??AUTO+135),hl
	JR ??TEST0187
??FOR0186:
	ld	a,5
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0188:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0187:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,5FH
	call	??subde
	jp	nc,??FOR0186
??NEXT0189:
	ld	hl,60H
	ld	(??AUTO+135),hl
	JR ??TEST0191
??FOR0190:
	ld	a,6
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0192:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0191:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,67H
	call	??subde
	jp	nc,??FOR0190
??NEXT0193:
	ld	hl,68H
	ld	(??AUTO+135),hl
	JR ??TEST0195
??FOR0194:
	ld	a,7
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0196:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0195:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,6FH
	call	??subde
	jp	nc,??FOR0194
??NEXT0197:
	ld	hl,70H
	ld	(??AUTO+135),hl
	JR ??TEST0199
??FOR0198:
	ld	a,8
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0200:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0199:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,77H
	call	??subde
	jp	nc,??FOR0198
??NEXT0201:
	ld	hl,78H
	ld	(??AUTO+135),hl
	JR ??TEST0203
??FOR0202:
	ld	a,9
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0204:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0203:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,7FH
	call	??subde
	jp	nc,??FOR0202
??NEXT0205:
	ld	hl,80H
	ld	(??AUTO+135),hl
	JR ??TEST0207
??FOR0206:
	ld	a,0AH
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0208:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0207:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,87H
	call	??subde
	jp	nc,??FOR0206
??NEXT0209:
	ld	hl,88H
	ld	(??AUTO+135),hl
	JR ??TEST0211
??FOR0210:
	ld	a,0BH
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0212:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0211:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,8FH
	call	??subde
	jp	nc,??FOR0210
??NEXT0213:
	ld	hl,90H
	ld	(??AUTO+135),hl
	JR ??TEST0215
??FOR0214:
	ld	a,0CH
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0216:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0215:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,93H
	call	??subde
	jp	nc,??FOR0214
??NEXT0217:
	ld	hl,94H
	ld	(??AUTO+135),hl
	JR ??TEST0219
??FOR0218:
	ld	a,0DH
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0220:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0219:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,97H
	call	??subde
	jp	nc,??FOR0218
??NEXT0221:
	ld	hl,98H
	ld	(??AUTO+135),hl
	JR ??TEST0223
??FOR0222:
	ld	a,0EH
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0224:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0223:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,9BH
	call	??subde
	jp	nc,??FOR0222
??NEXT0225:
	ld	hl,9CH
	ld	(??AUTO+135),hl
	JR ??TEST0227
??FOR0226:
	ld	a,0FH
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0228:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0227:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,9FH
	call	??subde
	jp	nc,??FOR0226
??NEXT0229:
	ld	hl,0A0H
	ld	(??AUTO+135),hl
	JR ??TEST0231
??FOR0230:
	ld	a,10H
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0232:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0231:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,0A3H
	call	??subde
	jp	nc,??FOR0230
??NEXT0233:
	ld	hl,0A4H
	ld	(??AUTO+135),hl
	JR ??TEST0235
??FOR0234:
	ld	a,11H
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0236:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0235:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,0A7H
	call	??subde
	jp	nc,??FOR0234
??NEXT0237:
	ld	hl,0A8H
	ld	(??AUTO+135),hl
	JR ??TEST0239
??FOR0238:
	ld	a,12H
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0240:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0239:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,0ABH
	call	??subde
	jp	nc,??FOR0238
??NEXT0241:
	ld	hl,0ACH
	ld	(??AUTO+135),hl
	JR ??TEST0243
??FOR0242:
	ld	a,13H
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0244:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0243:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,0AFH
	call	??subde
	jp	nc,??FOR0242
??NEXT0245:
	ld	hl,0B0H
	ld	(??AUTO+135),hl
	JR ??TEST0247
??FOR0246:
	ld	a,14H
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0248:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0247:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,0B3H
	call	??subde
	jp	nc,??FOR0246
??NEXT0249:
	ld	hl,0B4H
	ld	(??AUTO+135),hl
	JR ??TEST0251
??FOR0250:
	ld	a,15H
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0252:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0251:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,0B7H
	call	??subde
	jp	nc,??FOR0250
??NEXT0253:
	ld	hl,0B8H
	ld	(??AUTO+135),hl
	JR ??TEST0255
??FOR0254:
	ld	a,16H
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0256:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0255:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,0BBH
	call	??subde
	jp	nc,??FOR0254
??NEXT0257:
	ld	hl,0BCH
	ld	(??AUTO+135),hl
	JR ??TEST0259
??FOR0258:
	ld	a,17H
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0260:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0259:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,0BFH
	call	??subde
	jp	nc,??FOR0258
??NEXT0261:
	ld	a,18H
	ld	(DCODE+192),a
	ld	a,18H
	ld	(DCODE+193),a
	ld	a,19H
	ld	(DCODE+194),a
	ld	a,19H
	ld	(DCODE+195),a
	ld	a,1AH
	ld	(DCODE+196),a
	ld	a,1AH
	ld	(DCODE+197),a
	ld	a,1BH
	ld	(DCODE+198),a
	ld	a,1BH
	ld	(DCODE+199),a
	ld	a,1CH
	ld	(DCODE+200),a
	ld	a,1CH
	ld	(DCODE+201),a
	ld	a,1DH
	ld	(DCODE+202),a
	ld	a,1DH
	ld	(DCODE+203),a
	ld	a,1EH
	ld	(DCODE+204),a
	ld	a,1EH
	ld	(DCODE+205),a
	ld	a,1FH
	ld	(DCODE+206),a
	ld	a,1FH
	ld	(DCODE+207),a
	ld	a,20H
	ld	(DCODE+208),a
	ld	a,20H
	ld	(DCODE+209),a
	ld	a,21H
	ld	(DCODE+210),a
	ld	a,21H
	ld	(DCODE+211),a
	ld	a,22H
	ld	(DCODE+212),a
	ld	a,22H
	ld	(DCODE+213),a
	ld	a,23H
	ld	(DCODE+214),a
	ld	a,23H
	ld	(DCODE+215),a
	ld	a,24H
	ld	(DCODE+216),a
	ld	a,24H
	ld	(DCODE+217),a
	ld	a,25H
	ld	(DCODE+218),a
	ld	a,25H
	ld	(DCODE+219),a
	ld	a,26H
	ld	(DCODE+220),a
	ld	a,26H
	ld	(DCODE+221),a
	ld	a,27H
	ld	(DCODE+222),a
	ld	a,27H
	ld	(DCODE+223),a
	ld	a,28H
	ld	(DCODE+224),a
	ld	a,28H
	ld	(DCODE+225),a
	ld	a,29H
	ld	(DCODE+226),a
	ld	a,29H
	ld	(DCODE+227),a
	ld	a,2AH
	ld	(DCODE+228),a
	ld	a,2AH
	ld	(DCODE+229),a
	ld	a,2BH
	ld	(DCODE+230),a
	ld	a,2BH
	ld	(DCODE+231),a
	ld	a,2CH
	ld	(DCODE+232),a
	ld	a,2CH
	ld	(DCODE+233),a
	ld	a,2DH
	ld	(DCODE+234),a
	ld	a,2DH
	ld	(DCODE+235),a
	ld	a,2EH
	ld	(DCODE+236),a
	ld	a,2EH
	ld	(DCODE+237),a
	ld	a,2FH
	ld	(DCODE+238),a
	ld	a,2FH
	ld	(DCODE+239),a
	ld	hl,0F0H
	ld	(??AUTO+135),hl
	JR ??TEST0263
??FOR0262:
	ld	hl,(??AUTO+135)
	ld	de,0F0H
	call	??subde
	ex	de,hl
	ld	hl,30H
	add	hl,de
	ld	a,l
	ld	b,a
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0264:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0263:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,0FFH
	call	??subde
	jp	nc,??FOR0262
??NEXT0265:
	ld	hl,0
	ld	(??AUTO+135),hl
	JR ??TEST0267
??FOR0266:
	ld	a,3
	ld	b,a
	ld	hl,DLEN
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0268:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0267:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,1FH
	call	??subde
	jp	nc,??FOR0266
??NEXT0269:
	ld	hl,20H
	ld	(??AUTO+135),hl
	JR ??TEST0271
??FOR0270:
	ld	a,4
	ld	b,a
	ld	hl,DLEN
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0272:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0271:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,4FH
	call	??subde
	jp	nc,??FOR0270
??NEXT0273:
	ld	hl,50H
	ld	(??AUTO+135),hl
	JR ??TEST0275
??FOR0274:
	ld	a,5
	ld	b,a
	ld	hl,DLEN
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0276:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0275:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,8FH
	call	??subde
	jp	nc,??FOR0274
??NEXT0277:
	ld	hl,90H
	ld	(??AUTO+135),hl
	JR ??TEST0279
??FOR0278:
	ld	a,6
	ld	b,a
	ld	hl,DLEN
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0280:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0279:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,0BFH
	call	??subde
	jp	nc,??FOR0278
??NEXT0281:
	ld	hl,0C0H
	ld	(??AUTO+135),hl
	JR ??TEST0283
??FOR0282:
	ld	a,7
	ld	b,a
	ld	hl,DLEN
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0284:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0283:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,0EFH
	call	??subde
	jp	nc,??FOR0282
??NEXT0285:
	ld	hl,0F0H
	ld	(??AUTO+135),hl
	JR ??TEST0287
??FOR0286:
	ld	a,8
	ld	b,a
	ld	hl,DLEN
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	(hl),b
??INCR0288:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0287:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,0FFH
	call	??subde
	jp	nc,??FOR0286
??NEXT0289:
	ret

; Module: MODULE

; Procedure INITTREE
INITTREE:
	ld	hl,0
	ld	(??AUTO+135),hl
	jp	??TEST0291
??FOR0290:
	ld	hl,1
	push	hl
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+135)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,(??AUTO+135)
	ld	de,0275H
	add	hl,de
	push	hl
	ld	hl,SON
	push	hl
	ld	hl,(??AUTO+135)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,(??AUTO+135)
	push	hl
	ld	hl,PRNT
	push	hl
	ld	hl,(??AUTO+135)
	ld	de,0275H
	add	hl,de
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
??INCR0292:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0291:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,013AH
	call	??subde
	jp	nc,??FOR0290
??NEXT0293:
	ld	hl,0
	ld	(??AUTO+135),hl
	ld	hl,013BH
	ld	(??AUTO+137),hl
??WHILE0294:
	ld	hl,(??AUTO+137)
	push	hl
	ld	hl,0274H
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??SKIP0296
	ld	a,l
	or	h
	jp	z,??SKIP0296
	jp	??WEND0295
??SKIP0296:
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+135)
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	push	hl
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+135)
	inc	hl
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	pop	hl
	add	hl,de
	push	hl
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+137)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,(??AUTO+135)
	push	hl
	ld	hl,SON
	push	hl
	ld	hl,(??AUTO+137)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,(??AUTO+137)
	push	hl
	ld	hl,PRNT
	push	hl
	ld	hl,(??AUTO+135)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,(??AUTO+137)
	push	hl
	ld	hl,PRNT
	push	hl
	ld	hl,(??AUTO+135)
	inc	hl
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,(??AUTO+135)
	inc	hl
	inc	hl
	ld	(??AUTO+135),hl
	ld	hl,(??AUTO+137)
	inc	hl
	ld	(??AUTO+137),hl
	jp	??WHILE0294
??WEND0295:
	ld	hl,0FFFFH
	ld	de,FREQ+1258
	ex	de,hl
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,0
	ld	de,PRNT+1256
	ex	de,hl
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ret

; Module: MODULE

; Procedure LZHGETBIT
LZHGETBIT:
??WHILE0297:
	ld	a,(LZHBUFLEN)
	cp	8
	jp	c,??SKIP0299
	jp	z,??SKIP0299
	JR ??WEND0298
??SKIP0299:
	call	GETBYTE
	ld	(??AUTO+145),a
	ld	a,(??AUTO+145)
	ld	l,a
	ld	h,0
	push	hl
	ld	a,(LZHBUFLEN)
	cpl
	inc	a
	add	a,8
	ld	c,a
	pop	hl
??SHL0300:
	dec	c
	jp	m,??SHLE0301
	add	hl,hl
	JR ??SHL0300
??SHLE0301:
	ex	de,hl
	ld	hl,(LZHBUF)
	ld	a,l
	or	e
	ld	l,a
	ld	a,h
	or	d
	ld	h,a
	ld	(LZHBUF),hl
	ld	a,(LZHBUFLEN)
	add	a,8
	ld	(LZHBUFLEN),a
	JR ??WHILE0297
??WEND0298:
	xor	a
	ld	(??AUTO+144),a
	ld	hl,8000H
	ex	de,hl
	ld	hl,(LZHBUF)
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??ENDIF0303
	ld	a,1
	ld	(??AUTO+144),a
??ENDIF0303:
	ld	hl,(LZHBUF)
	add	hl,hl
	ld	de,0
	ld	(LZHBUF),hl
	ld	a,(LZHBUFLEN)
	sub	1
	ld	(LZHBUFLEN),a
	ld	a,(??AUTO+144)
	ret

; Module: MODULE

; Procedure LZHGETBYTE
LZHGETBYTE:
	xor	a
	ld	(??AUTO+146),a
	ld	b,8
??FOR0304:
	push	bc
	ld	a,(??AUTO+146)
	ld	l,a
	ld	h,0
	add	hl,hl
	ld	de,0
	push	hl
	call	LZHGETBIT
	ld	l,a
	ld	h,0
	ex	de,hl
	pop	hl
	ld	a,l
	or	e
	ld	l,a
	ld	a,h
	or	d
	ld	h,a
	ld	a,l
	ld	(??AUTO+146),a
	pop	bc
??INCR0306:
	dec	b
	jp	nz,??FOR0304
??NEXT0307:
	ld	a,(??AUTO+146)
	ret

; Module: MODULE

; Procedure RECONST
RECONST:
	ld	hl,0
	ld	(??AUTO+137),hl
	ld	hl,0
	ld	(??AUTO+135),hl
	jp	??TEST0309
??FOR0308:
	ld	hl,SON
	push	hl
	ld	hl,(??AUTO+135)
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	push	hl
	ld	hl,0275H
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??ENDIF0313
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+135)
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	inc	hl
	or	a
	ld	a,h
	rra
	ld	h,a
	ld	a,l
	rra
	ld	l,a
	push	hl
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+137)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,SON
	push	hl
	ld	hl,(??AUTO+135)
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	push	hl
	ld	hl,SON
	push	hl
	ld	hl,(??AUTO+137)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,(??AUTO+137)
	inc	hl
	ld	(??AUTO+137),hl
??ENDIF0313:
??INCR0310:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0309:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,0274H
	call	??subde
	jp	nc,??FOR0308
??NEXT0311:
	ld	hl,0
	ld	(??AUTO+135),hl
	ld	hl,013BH
	ld	(??AUTO+137),hl
??WHILE0314:
	ld	hl,(??AUTO+137)
	push	hl
	ld	hl,0275H
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??WEND0315
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+135)
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	push	hl
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+135)
	inc	hl
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	pop	hl
	add	hl,de
	ld	(??AUTO+143),hl
	ld	hl,(??AUTO+143)
	push	hl
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+137)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,(??AUTO+137)
	dec	hl
	ld	(??AUTO+139),hl
??WHILE0316:
	ld	hl,(??AUTO+139)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??WEND0317
	ld	a,l
	or	h
	jp	z,??WEND0317
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+139)
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ld	hl,(??AUTO+143)
	call	??subde
	jp	nc,??WEND0317
	ld	hl,(??AUTO+139)
	dec	hl
	ld	(??AUTO+139),hl
	JR ??WHILE0316
??WEND0317:
	ld	hl,(??AUTO+139)
	inc	hl
	ld	(??AUTO+139),hl
	ld	hl,(??AUTO+137)
	ld	(??AUTO+141),hl
??WHILE0318:
	ld	hl,(??AUTO+141)
	push	hl
	ld	hl,(??AUTO+139)
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??WEND0319
	ld	a,l
	or	h
	jp	z,??WEND0319
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+141)
	dec	hl
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	push	hl
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+141)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,SON
	push	hl
	ld	hl,(??AUTO+141)
	dec	hl
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	push	hl
	ld	hl,SON
	push	hl
	ld	hl,(??AUTO+141)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,(??AUTO+141)
	dec	hl
	ld	(??AUTO+141),hl
	jp	??WHILE0318
??WEND0319:
	ld	hl,(??AUTO+143)
	push	hl
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+139)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,(??AUTO+135)
	push	hl
	ld	hl,SON
	push	hl
	ld	hl,(??AUTO+139)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,(??AUTO+135)
	inc	hl
	inc	hl
	ld	(??AUTO+135),hl
	ld	hl,(??AUTO+137)
	inc	hl
	ld	(??AUTO+137),hl
	jp	??WHILE0314
??WEND0315:
	ld	hl,0
	ld	(??AUTO+135),hl
	jp	??TEST0321
??FOR0320:
	ld	hl,SON
	push	hl
	ld	hl,(??AUTO+135)
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	ld	(??AUTO+139),hl
	ld	hl,(??AUTO+139)
	push	hl
	ld	hl,0275H
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??ELSE0324
	ld	hl,(??AUTO+135)
	push	hl
	ld	hl,PRNT
	push	hl
	ld	hl,(??AUTO+139)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	JR ??ENDIF0325
??ELSE0324:
	ld	hl,(??AUTO+135)
	push	hl
	ld	hl,PRNT
	push	hl
	ld	hl,(??AUTO+139)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,(??AUTO+135)
	push	hl
	ld	hl,PRNT
	push	hl
	ld	hl,(??AUTO+139)
	inc	hl
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
??ENDIF0325:
??INCR0322:
	ld	hl,(??AUTO+135)
	inc	hl
	ld	(??AUTO+135),hl
??TEST0321:
	ld	hl,(??AUTO+135)
	ex	de,hl
	ld	hl,0274H
	call	??subde
	jp	nc,??FOR0320
??NEXT0323:
	ret

; Module: MODULE

; Procedure UPDATETREE
UPDATETREE:
	ld	(??AUTO+145),hl
	ld	hl,FREQ+1256
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	push	hl
	ld	hl,8000H
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF0327
	call	RECONST
??ENDIF0327:
	ld	hl,PRNT
	push	hl
	ld	hl,(??AUTO+145)
	ld	de,0275H
	add	hl,de
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	ld	(??AUTO+145),hl
??WHILE0328:
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+145)
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	inc	hl
	push	hl
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+145)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+145)
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	ld	(??AUTO+147),hl
	ld	hl,(??AUTO+145)
	inc	hl
	ld	(??AUTO+149),hl
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+149)
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ld	hl,(??AUTO+147)
	call	??subde
	jp	c,??ENDIF0331
	ld	a,l
	or	h
	jp	z,??ENDIF0331
??WHILE0332:
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+149)
	inc	hl
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ld	hl,(??AUTO+147)
	call	??subde
	jp	c,??WEND0333
	ld	a,l
	or	h
	jp	z,??WEND0333
	ld	hl,(??AUTO+149)
	inc	hl
	ld	(??AUTO+149),hl
	JR ??WHILE0332
??WEND0333:
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+149)
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	push	hl
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+145)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,(??AUTO+147)
	push	hl
	ld	hl,FREQ
	push	hl
	ld	hl,(??AUTO+149)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,SON
	push	hl
	ld	hl,(??AUTO+145)
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	ld	(??AUTO+151),hl
	ld	hl,(??AUTO+149)
	push	hl
	ld	hl,PRNT
	push	hl
	ld	hl,(??AUTO+151)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,(??AUTO+151)
	push	hl
	ld	hl,0275H
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??ENDIF0335
	ld	hl,(??AUTO+149)
	push	hl
	ld	hl,PRNT
	push	hl
	ld	hl,(??AUTO+151)
	inc	hl
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
??ENDIF0335:
	ld	hl,SON
	push	hl
	ld	hl,(??AUTO+149)
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	ld	(??AUTO+153),hl
	ld	hl,(??AUTO+151)
	push	hl
	ld	hl,SON
	push	hl
	ld	hl,(??AUTO+149)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,(??AUTO+145)
	push	hl
	ld	hl,PRNT
	push	hl
	ld	hl,(??AUTO+153)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,(??AUTO+153)
	push	hl
	ld	hl,0275H
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??ENDIF0337
	ld	hl,(??AUTO+145)
	push	hl
	ld	hl,PRNT
	push	hl
	ld	hl,(??AUTO+153)
	inc	hl
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
??ENDIF0337:
	ld	hl,(??AUTO+153)
	push	hl
	ld	hl,SON
	push	hl
	ld	hl,(??AUTO+145)
	add	hl,hl
	pop	de
	add	hl,de
	pop	de
	ld	(hl),e
	inc	hl
	ld	(hl),d
	ld	hl,(??AUTO+149)
	ld	(??AUTO+145),hl
??ENDIF0331:
	ld	hl,PRNT
	push	hl
	ld	hl,(??AUTO+145)
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	ld	(??AUTO+145),hl
	ld	hl,(??AUTO+145)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF0339
	ret
??ENDIF0339:
	jp	??WHILE0328
??WEND0329:
	ret

; Module: MODULE

; Procedure DECODECHAR
DECODECHAR:
	ld	hl,SON+1256
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	ld	(??AUTO+155),hl
??WHILE0340:
	ld	hl,(??AUTO+155)
	push	hl
	ld	hl,0275H
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??WEND0341
	call	LZHGETBIT
	ld	e,a
	ld	d,0
	ld	hl,(??AUTO+155)
	add	hl,de
	ld	(??AUTO+155),hl
	ld	hl,SON
	push	hl
	ld	hl,(??AUTO+155)
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ex	de,hl
	ld	(??AUTO+155),hl
	JR ??WHILE0340
??WEND0341:
	ld	hl,(??AUTO+155)
	ld	de,0275H
	call	??subde
	ld	(??AUTO+155),hl
	ld	hl,(??AUTO+155)
	call	UPDATETREE
	ld	hl,(??AUTO+155)
	ret

; Module: MODULE

; Procedure DECODEPOSV1
DECODEPOSV1:
	call	LZHGETBYTE
	ld	l,a
	ld	h,0
	ld	(??AUTO+135),hl
	ld	hl,DCODE
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	ld	de,0
	ld	(??AUTO+137),hl
	ld	hl,DLEN
	push	hl
	ld	hl,(??AUTO+135)
	pop	de
	add	hl,de
	ld	a,(hl)
	sub	2
	ld	l,a
	ld	h,0
	ld	(??AUTO+139),hl
??WHILE0342:
	ld	hl,(??AUTO+139)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??WEND0343
	ld	a,l
	or	h
	jp	z,??WEND0343
	ld	hl,(??AUTO+139)
	dec	hl
	ld	(??AUTO+139),hl
	ld	hl,(??AUTO+135)
	add	hl,hl
	ld	de,0
	push	hl
	call	LZHGETBIT
	ld	l,a
	ld	h,0
	ex	de,hl
	pop	hl
	ld	a,l
	or	e
	ld	l,a
	ld	a,h
	or	d
	ld	h,a
	ld	(??AUTO+135),hl
	JR ??WHILE0342
??WEND0343:
	ld	hl,3FH
	ex	de,hl
	ld	hl,(??AUTO+135)
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ex	de,hl
	ld	hl,(??AUTO+137)
	ld	a,l
	or	e
	ld	l,a
	ld	a,h
	or	d
	ld	h,a
	ret

; Module: MODULE

; Procedure DECODEPOSV2
DECODEPOSV2:
	call	LZHGETBYTE
	ld	(??AUTO+135),a
	ld	a,(??AUTO+135)
	ld	l,a
	ld	h,0
	ld	de,DCODE
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	ld	(??AUTO+136),hl
	ld	a,(??AUTO+135)
	ld	l,a
	ld	h,0
	ld	de,DLEN
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	ld	(??AUTO+138),hl
	ld	hl,(??AUTO+138)
	push	hl
	ld	hl,3
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??ELSE0344
	ld	a,l
	or	h
	jp	z,??ELSE0344
	ld	hl,(??AUTO+138)
	dec	hl
	dec	hl
	dec	hl
	ld	(??AUTO+140),hl
	JR ??ENDIF0345
??ELSE0344:
	ld	hl,0
	ld	(??AUTO+140),hl
??ENDIF0345:
	ld	a,(??AUTO+135)
	ld	l,a
	ld	h,0
	ld	(??AUTO+142),hl
??WHILE0346:
	ld	hl,(??AUTO+140)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??WEND0347
	ld	a,l
	or	h
	jp	z,??WEND0347
	ld	hl,(??AUTO+142)
	add	hl,hl
	ld	de,0
	push	hl
	call	LZHGETBIT
	ld	l,a
	ld	h,0
	ex	de,hl
	pop	hl
	ld	a,l
	or	e
	ld	l,a
	ld	a,h
	or	d
	ld	h,a
	ld	(??AUTO+142),hl
	ld	hl,(??AUTO+140)
	dec	hl
	ld	(??AUTO+140),hl
	JR ??WHILE0346
??WEND0347:
	ld	hl,(??AUTO+136)
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	ld	de,0
	push	hl
	ld	hl,1FH
	ex	de,hl
	ld	hl,(??AUTO+142)
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ex	de,hl
	pop	hl
	ld	a,l
	or	e
	ld	l,a
	ld	a,h
	or	d
	ld	h,a
	ret

; Module: MODULE

	public	UNCRLZH
; Procedure UNCRLZH
UNCRLZH:
	call	INITLZHTABLES
	ld	hl,2
	ld	(LZHPOS),hl
??WHILE0348:
	ld	hl,(LZHPOS)
	push	hl
	ld	hl,(INBUFEND)
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??WEND0349
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(LZHPOS)
	pop	de
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??WEND0349
	ld	hl,(LZHPOS)
	inc	hl
	ld	(LZHPOS),hl
	JR ??WHILE0348
??WEND0349:
	ld	hl,(LZHPOS)
	inc	hl
	ld	(LZHPOS),hl
	ld	hl,(LZHPOS)
	ld	(INBUFPOS),hl
	ld	hl,0
	ld	(LZHBUF),hl
	xor	a
	ld	(LZHBUFLEN),a
	call	LZHGETBYTE
	ld	(??AUTO+132),a
	call	LZHGETBYTE
	ld	(??AUTO+133),a
	ld	a,(??AUTO+132)
	cp	21H
	jp	c,??ENDIF0351
    XOR A
	ret
??ENDIF0351:
	xor	a
	ld	(USEV2),a
	ld	a,(??AUTO+132)
	cp	20H
	jp	c,??ENDIF0353
	ld	a,1
	ld	(USEV2),a
??ENDIF0353:
	call	LZHGETBYTE
	ld	(??AUTO+134),a
	call	LZHGETBYTE
	ld	(??AUTO+134),a
	call	INITTREE
	ld	hl,LZHRING
	ld	(??AUTO+150),hl
	ld	hl,0800H
	ld	(??AUTO+152),hl
	ld	a,20H
	call	FILLMEM
	ld	hl,07C4H
	ld	(LZHRINGPOS),hl
	ld	hl,0
	ld	(OUTBUFPOS),hl
??WHILE0354:
	call	DECODECHAR
	ld	(??AUTO+123),hl
	ld	hl,(??AUTO+123)
	push	hl
	ld	hl,0100H
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??ELSE0356
	ld	hl,(??AUTO+123)
	ld	a,l
	call	PUTBYTE
	or	a
	jp	nz,??ENDIF0359
    XOR A
	ret
??ENDIF0359:
	ld	hl,(??AUTO+123)
	ld	a,l
	ld	b,a
	ld	hl,LZHRING
	push	hl
	ld	hl,(LZHRINGPOS)
	pop	de
	add	hl,de
	ld	(hl),b
	ld	hl,(LZHRINGPOS)
	inc	hl
	push	hl
	ld	hl,07FFH
	ex	de,hl
	pop	hl
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	(LZHRINGPOS),hl
	JP ??WHILE0354
??ELSE0356:
	ld	hl,(??AUTO+123)
	push	hl
	ld	hl,0100H
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ELSE0360
	ld	a,1
	ret
	jp	??ENDIF0361
??ELSE0360:
	ld	hl,(??AUTO+123)
	ld	de,0FEH
	call	??subde
	ld	(??AUTO+127),hl
	ld	a,(USEV2)
	or	a
	jp	z,??ELSE0362
	call	DECODEPOSV2
	ld	(??AUTO+125),hl
	JR ??ENDIF0363
??ELSE0362:
	call	DECODEPOSV1
	ld	(??AUTO+125),hl
??ENDIF0363:
	ld	hl,(??AUTO+125)
	ex	de,hl
	ld	hl,(LZHRINGPOS)
	call	??subde
	dec	hl
	push	hl
	ld	hl,07FFH
	ex	de,hl
	pop	hl
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	(??AUTO+129),hl
	ld	hl,(??AUTO+127)
	ld	a,l
	sub	1
	inc	a
	ld	b,a
	ld	a,b
	or	a
	jp	z,??NEXT0367
??FOR0364:
	push	bc
	ld	hl,LZHRING
	push	hl
	ld	hl,(??AUTO+129)
	pop	de
	add	hl,de
	ld	a,(hl)
	ld	(??AUTO+134),a
	ld	a,(??AUTO+134)
	call	PUTBYTE
	or	a
	jp	nz,??ENDIF0369
    XOR A
	ret
??ENDIF0369:
	ld	a,(??AUTO+134)
	ld	b,a
	ld	hl,LZHRING
	push	hl
	ld	hl,(LZHRINGPOS)
	pop	de
	add	hl,de
	ld	(hl),b
	ld	hl,(LZHRINGPOS)
	inc	hl
	push	hl
	ld	hl,07FFH
	ex	de,hl
	pop	hl
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	(LZHRINGPOS),hl
	ld	hl,(??AUTO+129)
	inc	hl
	push	hl
	ld	hl,07FFH
	ex	de,hl
	pop	hl
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	(??AUTO+129),hl
	pop	bc
??INCR0366:
	dec	b
	jp	nz,??FOR0364
??NEXT0367:
??ENDIF0361:
??ENDIF0357:
	jp	??WHILE0354
??WEND0355:
	ld	a,1
	ret

; Module: MODULE

; Procedure ARCDECOMPSTORED
ARCDECOMPSTORED:
	ld	(??AUTO+23),hl
??WHILE0370:
	ld	hl,(??AUTO+23)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??WEND0371
	ld	a,l
	or	h
	jp	z,??WEND0371
	call	GETBYTE
	ld	(??AUTO+25),a
	ld	a,(??AUTO+25)
	call	PUTBYTE
	or	a
	jp	nz,??ENDIF0373
    XOR A
	ret
??ENDIF0373:
	ld	hl,(??AUTO+23)
	dec	hl
	ld	(??AUTO+23),hl
	JR ??WHILE0370
??WEND0371:
	ld	a,1
	ret

; Module: MODULE

; Procedure ARCDECOMPRLE
ARCDECOMPRLE:
	ld	(??AUTO+23),hl
	xor	a
	ld	(??AUTO+27),a
??WHILE0374:
	ld	hl,(??AUTO+23)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??WEND0375
	ld	a,l
	or	h
	jp	z,??WEND0375
	call	GETBYTE
	ld	(??AUTO+25),a
	ld	hl,(??AUTO+23)
	dec	hl
	ld	(??AUTO+23),hl
	ld	a,(??AUTO+25)
	cp	90H
	jp	nz,??ELSE0376
	ld	hl,(??AUTO+23)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ELSE0378
	ld	a,90H
	call	PUTBYTE
	or	a
	jp	nz,??ENDIF0381
    XOR A
	ret
??ENDIF0381:
	JR ??WHILE0374
??ELSE0378:
	call	GETBYTE
	ld	(??AUTO+26),a
	ld	hl,(??AUTO+23)
	dec	hl
	ld	(??AUTO+23),hl
	ld	a,(??AUTO+26)
    OR A
	jp	nz,??ELSE0382
	ld	a,90H
	call	PUTBYTE
	or	a
	jp	nz,??ENDIF0385
    XOR A
	ret
??ENDIF0385:
	ld	a,90H
	ld	(??AUTO+27),a
	JR ??ENDIF0383
??ELSE0382:
??WHILE0386:
	ld	a,(??AUTO+26)
    OR A
	jp	c,??WEND0387
	jp	z,??WEND0387
	ld	a,(??AUTO+27)
	call	PUTBYTE
	or	a
	jp	nz,??ENDIF0389
    XOR A
	ret
??ENDIF0389:
	ld	a,(??AUTO+26)
	sub	1
	ld	(??AUTO+26),a
	JR ??WHILE0386
??WEND0387:
??ENDIF0383:
??ENDIF0379:
	JP ??WHILE0374
??ELSE0376:
	ld	a,(??AUTO+25)
	call	PUTBYTE
	or	a
	jp	nz,??ENDIF0391
    XOR A
	ret
??ENDIF0391:
	ld	a,(??AUTO+25)
	ld	(??AUTO+27),a
??ENDIF0377:
	jp	??WHILE0374
??WEND0375:
	ld	a,1
	ret

; Module: MODULE

; Procedure ARCDECOMPSQUEEZED
ARCDECOMPSQUEEZED:
	ld	a,10H
	call	READBITSLSB
	ld	(??AUTO+25),hl
	ld	hl,(??AUTO+25)
	push	hl
	ld	hl,0100H
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??ENDIF0393
	ld	a,l
	or	h
	jp	z,??ENDIF0393
    XOR A
	ret
??ENDIF0393:
	xor	a
	ld	(??AUTO+23),a
??WHILE0394:
	ld	hl,(??AUTO+25)
	ld	a,l
	ld	b,a
	ld	a,(??AUTO+23)
	sub	b
	jp	nc,??WEND0395
	ld	a,(??AUTO+23)
	ld	l,a
	ld	h,0
	add	hl,hl
	add	hl,hl
	ld	de,0
	ex	de,hl
	ld	hl,(HUFFTREEPTR)
	add	hl,de
	ld	(??AUTO+33),hl
	ld	hl,(??AUTO+33)
	ld	(??AUTO+141),hl
	ld	a,10H
	call	READBITSLSB
	call	WRITEWORD
	ld	hl,(??AUTO+33)
	inc	hl
	inc	hl
	ld	(??AUTO+141),hl
	ld	a,10H
	call	READBITSLSB
	call	WRITEWORD
	ld	a,(??AUTO+23)
	add	a,1
	ld	(??AUTO+23),a
	JR ??WHILE0394
??WEND0395:
	ld	hl,(??AUTO+25)
	ld	(HUFFNODES),hl
	call	INITRLE
	xor	a
	ld	(??AUTO+35),a
??WHILE0396:
	ld	a,(??AUTO+35)
	or	a
	jp	nz,??WEND0397
	call	INPUTAVAIL
	or	a
	jp	z,??WEND0397
	ld	hl,0
	ld	(??AUTO+27),hl
??WHILE0398:
	ld	hl,(??AUTO+27)
	push	hl
	ld	hl,(HUFFNODES)
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??WEND0399
	ld	hl,(??AUTO+27)
	ld	a,l
	ld	h,0
	add	hl,hl
	add	hl,hl
	ld	de,0
	ex	de,hl
	ld	hl,(HUFFTREEPTR)
	add	hl,de
	ld	(??AUTO+33),hl
	call	READBITLSB
	or	a
	jp	z,??ELSE0400
	ld	hl,(??AUTO+33)
	inc	hl
	inc	hl
	call	READWORD
	ld	(??AUTO+29),hl
	JR ??ENDIF0401
??ELSE0400:
	ld	hl,(??AUTO+33)
	call	READWORD
	ld	(??AUTO+29),hl
??ENDIF0401:
	ld	hl,8000H
	ex	de,hl
	ld	hl,(??AUTO+29)
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??ELSE0402
	ld	hl,(??AUTO+29)
	ld	a,l
	cpl
	ld	l,a
	ld	a,h
	cpl
	ld	h,a
	ld	(??AUTO+31),hl
	ld	hl,(??AUTO+31)
	push	hl
	ld	hl,0100H
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ELSE0404
	ld	a,1
	ld	(??AUTO+35),a
	JR ??ENDIF0405
??ELSE0404:
	ld	hl,(??AUTO+31)
	ld	a,l
	call	RLEDECODEBYTE
	or	a
	jp	nz,??ENDIF0407
    XOR A
	ret
??ENDIF0407:
??ENDIF0405:
	ld	hl,(HUFFNODES)
	ld	(??AUTO+27),hl
	JP ??WHILE0398
??ELSE0402:
	ld	hl,(??AUTO+29)
	ld	(??AUTO+27),hl
??ENDIF0403:
	jp	??WHILE0398
??WEND0399:
	jp	??WHILE0396
??WEND0397:
	ld	a,1
	ret

; Module: MODULE

; Procedure ARCDECOMPLZW56
ARCDECOMPLZW56:
	ld	(??AUTO+23),a
	call	INITLZW
	ld	hl,0100H
	ld	(LZWNEXTCODE),hl
	call	INITBITSMSB
	ld	a,(??AUTO+23)
	or	a
	jp	z,??ENDIF0409
	call	INITRLE
??ENDIF0409:
	ld	hl,0FFFFH
	ld	(??AUTO+26),hl
	ld	a,1
	ld	(??AUTO+28),a
	xor	a
	ld	(??AUTO+29),a
??WHILE0410:
	ld	a,(??AUTO+29)
	or	a
	jp	nz,??WEND0411
	call	INPUTAVAIL
	or	a
	jp	z,??WEND0411
	ld	a,0CH
	call	READCODEMSB
	ld	(??AUTO+24),hl
	ld	hl,(??AUTO+24)
	push	hl
	ld	hl,0100H
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??ELSE0412
	ld	a,(??AUTO+23)
	or	a
	jp	z,??ELSE0414
	ld	hl,(??AUTO+24)
	ld	a,l
	call	RLEDECODEBYTE
	or	a
	jp	nz,??ENDIF0417
    XOR A
	ret
??ENDIF0417:
	JR ??ENDIF0415
??ELSE0414:
	ld	hl,(??AUTO+24)
	ld	a,l
	call	PUTBYTE
	or	a
	jp	nz,??ENDIF0419
    XOR A
	ret
??ENDIF0419:
??ENDIF0415:
	ld	hl,(??AUTO+24)
	ld	a,l
	ld	(??AUTO+30),a
	jp	??ENDIF0413
??ELSE0412:
	ld	hl,(??AUTO+24)
	push	hl
	ld	hl,(LZWNEXTCODE)
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??ELSE0420
	ld	hl,(??AUTO+24)
	call	LZWFIRSTBYTE
	ld	(??AUTO+30),a
	ld	hl,(??AUTO+24)
	call	LZWOUTPUT
	jp	??ENDIF0421
??ELSE0420:
	ld	hl,(??AUTO+24)
	push	hl
	ld	hl,(LZWNEXTCODE)
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ELSE0422
	ld	hl,(??AUTO+26)
	push	hl
	ld	hl,0FFFFH
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??ELSE0422
	ld	hl,(??AUTO+26)
	call	LZWFIRSTBYTE
	ld	(??AUTO+30),a
	ld	hl,(??AUTO+26)
	call	LZWOUTPUT
	ld	a,(??AUTO+23)
	or	a
	jp	z,??ELSE0424
	ld	a,(??AUTO+30)
	call	RLEDECODEBYTE
	or	a
	jp	nz,??ENDIF0427
    XOR A
	ret
??ENDIF0427:
	JR ??ENDIF0423
??ELSE0424:
	ld	a,(??AUTO+30)
	call	PUTBYTE
	or	a
	jp	nz,??ENDIF0429
    XOR A
	ret
??ENDIF0429:
??ENDIF0425:
	JR ??ENDIF0423
??ELSE0422:
	ld	a,1
	ld	(??AUTO+29),a
??ENDIF0423:
??ENDIF0421:
??ENDIF0413:
	ld	a,(??AUTO+28)
	or	a
	jp	nz,??ENDIF0431
	ld	hl,(??AUTO+26)
	push	hl
	ld	hl,0FFFFH
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??ENDIF0431
	ld	a,(??AUTO+29)
	or	a
	jp	nz,??ENDIF0431
	ld	hl,(LZWNEXTCODE)
	push	hl
	ld	hl,1000H
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??ENDIF0433
	ld	hl,(??AUTO+26)
	ld	(??AUTO+147),hl
	ld	a,(??AUTO+30)
	call	LZWADDENTRY
??ENDIF0433:
??ENDIF0431:
	ld	hl,(??AUTO+24)
	ld	(??AUTO+26),hl
	xor	a
	ld	(??AUTO+28),a
	jp	??WHILE0410
??WEND0411:
	ld	a,1
	ret

; Module: MODULE

; Procedure ARCDECOMPLZW8
ARCDECOMPLZW8:
	call	GETBYTE
	ld	(LZWMAXBITS),a
	ld	a,(LZWMAXBITS)
	cp	9
	jp	c,??ORTRUE0436
	ld	a,(LZWMAXBITS)
	cp	10H
	jp	c,??ENDIF0435
	jp	z,??ENDIF0435
??ORTRUE0436:
	ld	a,0CH
	ld	(LZWMAXBITS),a
??ENDIF0435:
	call	INITLZW
	ld	hl,0101H
	ld	(LZWNEXTCODE),hl
	ld	a,9
	ld	(LZWCODESIZE),a
	call	INITBITSLSB
	call	INITRLE
	ld	hl,0FFFFH
	ld	(??AUTO+25),hl
	ld	a,1
	ld	(??AUTO+27),a
	xor	a
	ld	(??AUTO+28),a
??WHILE0437:
	ld	a,(??AUTO+28)
	or	a
	jp	nz,??WEND0438
	call	INPUTAVAIL
	or	a
	jp	z,??WEND0438
	ld	a,(LZWCODESIZE)
	call	READBITSLSB
	ld	(??AUTO+23),hl
	ld	hl,(??AUTO+23)
	push	hl
	ld	hl,0100H
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ELSE0439
	call	INITLZW
	ld	hl,0101H
	ld	(LZWNEXTCODE),hl
	ld	a,9
	ld	(LZWCODESIZE),a
	ld	hl,0FFFFH
	ld	(??AUTO+25),hl
	ld	a,1
	ld	(??AUTO+27),a
	JR ??WHILE0437
??ELSE0439:
	ld	hl,(??AUTO+23)
	push	hl
	ld	hl,0100H
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??ELSE0441
	ld	hl,(??AUTO+23)
	ld	a,l
	call	RLEDECODEBYTE
	or	a
	jp	nz,??ENDIF0444
    XOR A
	ret
??ENDIF0444:
	ld	hl,(??AUTO+23)
	ld	a,l
	ld	(??AUTO+29),a
	jp	??ENDIF0442
??ELSE0441:
	ld	hl,(??AUTO+23)
	push	hl
	ld	hl,(LZWNEXTCODE)
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??ELSE0445
	ld	hl,(??AUTO+23)
	call	LZWFIRSTBYTE
	ld	(??AUTO+29),a
	ld	hl,(??AUTO+23)
	call	LZWOUTPUT
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF0448
    XOR A
	ret
??ENDIF0448:
	jp	??ENDIF0446
??ELSE0445:
	ld	hl,(??AUTO+23)
	push	hl
	ld	hl,(LZWNEXTCODE)
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ELSE0449
	ld	hl,(??AUTO+25)
	push	hl
	ld	hl,0FFFFH
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??ELSE0449
	ld	hl,(??AUTO+25)
	call	LZWFIRSTBYTE
	ld	(??AUTO+29),a
	ld	hl,(??AUTO+25)
	call	LZWOUTPUT
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF0452
    XOR A
	ret
??ENDIF0452:
	ld	a,(??AUTO+29)
	call	RLEDECODEBYTE
	or	a
	jp	nz,??ENDIF0454
    XOR A
	ret
??ENDIF0454:
	JR ??ENDIF0450
??ELSE0449:
	ld	a,1
	ld	(??AUTO+28),a
??ENDIF0450:
??ENDIF0446:
??ENDIF0442:
	ld	a,(??AUTO+27)
	or	a
	jp	nz,??ENDIF0456
	ld	hl,(??AUTO+25)
	push	hl
	ld	hl,0FFFFH
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??ENDIF0456
	ld	a,(??AUTO+28)
	or	a
	jp	nz,??ENDIF0456
	ld	hl,1
	push	hl
	ld	a,(LZWMAXBITS)
	ld	c,a
	pop	hl
??SHL0459:
	dec	c
	jp	m,??SHLE0460
	add	hl,hl
	JR ??SHL0459
??SHLE0460:
	ex	de,hl
	ld	hl,(LZWNEXTCODE)
	call	??subde
	jp	nc,??ENDIF0458
	ld	hl,(??AUTO+25)
	ld	(??AUTO+147),hl
	ld	a,(??AUTO+29)
	call	LZWADDENTRY
	ld	hl,1
	push	hl
	ld	a,(LZWCODESIZE)
	ld	c,a
	pop	hl
??SHL0461:
	dec	c
	jp	m,??SHLE0462
	add	hl,hl
	JR ??SHL0461
??SHLE0462:
	dec	hl
	ld	(??AUTO+30),hl
	ld	hl,(LZWNEXTCODE)
	push	hl
	ld	hl,(??AUTO+30)
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??ENDIF0464
	ld	a,l
	or	h
	jp	z,??ENDIF0464
	ld	a,(LZWMAXBITS)
	ld	b,a
	ld	a,(LZWCODESIZE)
	sub	b
	jp	nc,??ENDIF0464
	ld	a,(LZWCODESIZE)
	add	a,1
	ld	(LZWCODESIZE),a
??ENDIF0464:
??ENDIF0458:
??ENDIF0456:
	ld	hl,(??AUTO+23)
	ld	(??AUTO+25),hl
	xor	a
	ld	(??AUTO+27),a
??ENDIF0440:
	jp	??WHILE0437
??WEND0438:
	ld	a,1
	ret

; Module: MODULE

; Procedure ARCDECOMPSQUASHED
ARCDECOMPSQUASHED:
	call	INITLZW
	ld	hl,0101H
	ld	(LZWNEXTCODE),hl
	ld	a,9
	ld	(LZWCODESIZE),a
	ld	a,0DH
	ld	(LZWMAXBITS),a
	call	INITBITSLSB
	ld	hl,0FFFFH
	ld	(??AUTO+25),hl
	ld	a,1
	ld	(??AUTO+27),a
	xor	a
	ld	(??AUTO+28),a
??WHILE0465:
	ld	a,(??AUTO+28)
	or	a
	jp	nz,??WEND0466
	call	INPUTAVAIL
	or	a
	jp	z,??WEND0466
	ld	a,(LZWCODESIZE)
	call	READBITSLSB
	ld	(??AUTO+23),hl
	ld	hl,(??AUTO+23)
	push	hl
	ld	hl,0100H
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ELSE0467
	call	INITLZW
	ld	hl,0101H
	ld	(LZWNEXTCODE),hl
	ld	a,9
	ld	(LZWCODESIZE),a
	ld	hl,0FFFFH
	ld	(??AUTO+25),hl
	ld	a,1
	ld	(??AUTO+27),a
	JR ??WHILE0465
??ELSE0467:
	ld	hl,(??AUTO+23)
	push	hl
	ld	hl,0100H
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??ELSE0469
	ld	hl,(??AUTO+23)
	ld	a,l
	call	PUTBYTE
	or	a
	jp	nz,??ENDIF0472
    XOR A
	ret
??ENDIF0472:
	ld	hl,(??AUTO+23)
	ld	a,l
	ld	(??AUTO+29),a
	jp	??ENDIF0470
??ELSE0469:
	ld	hl,(??AUTO+23)
	push	hl
	ld	hl,(LZWNEXTCODE)
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??ELSE0473
	ld	hl,(??AUTO+23)
	call	LZWFIRSTBYTE
	ld	(??AUTO+29),a
	ld	hl,(??AUTO+23)
	call	LZWOUTPUT
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF0476
    XOR A
	ret
??ENDIF0476:
	jp	??ENDIF0474
??ELSE0473:
	ld	hl,(??AUTO+23)
	push	hl
	ld	hl,(LZWNEXTCODE)
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ELSE0477
	ld	hl,(??AUTO+25)
	push	hl
	ld	hl,0FFFFH
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??ELSE0477
	ld	hl,(??AUTO+25)
	call	LZWFIRSTBYTE
	ld	(??AUTO+29),a
	ld	hl,(??AUTO+25)
	call	LZWOUTPUT
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF0480
    XOR A
	ret
??ENDIF0480:
	ld	a,(??AUTO+29)
	call	PUTBYTE
	or	a
	jp	nz,??ENDIF0482
    XOR A
	ret
??ENDIF0482:
	JR ??ENDIF0478
??ELSE0477:
	ld	a,1
	ld	(??AUTO+28),a
??ENDIF0478:
??ENDIF0474:
??ENDIF0470:
	ld	a,(??AUTO+27)
	or	a
	jp	nz,??ENDIF0484
	ld	hl,(??AUTO+25)
	push	hl
	ld	hl,0FFFFH
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??ENDIF0484
	ld	a,(??AUTO+28)
	or	a
	jp	nz,??ENDIF0484
	ld	hl,(LZWNEXTCODE)
	push	hl
	ld	hl,2000H
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??ENDIF0486
	ld	hl,(??AUTO+25)
	ld	(??AUTO+147),hl
	ld	a,(??AUTO+29)
	call	LZWADDENTRY
	ld	hl,1
	push	hl
	ld	a,(LZWCODESIZE)
	ld	c,a
	pop	hl
??SHL0487:
	dec	c
	jp	m,??SHLE0488
	add	hl,hl
	JR ??SHL0487
??SHLE0488:
	dec	hl
	ld	(??AUTO+30),hl
	ld	hl,(LZWNEXTCODE)
	push	hl
	ld	hl,(??AUTO+30)
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??ENDIF0490
	ld	a,l
	or	h
	jp	z,??ENDIF0490
	ld	a,(LZWCODESIZE)
	cp	0DH
	jp	nc,??ENDIF0490
	ld	a,(LZWCODESIZE)
	add	a,1
	ld	(LZWCODESIZE),a
??ENDIF0490:
??ENDIF0486:
??ENDIF0484:
	ld	hl,(??AUTO+23)
	ld	(??AUTO+25),hl
	xor	a
	ld	(??AUTO+27),a
??ENDIF0468:
	jp	??WHILE0465
??WEND0466:
	ld	a,1
	ret

; Module: MODULE

	public	EXTRACTARCMEMBER
; Procedure EXTRACTARCMEMBER
EXTRACTARCMEMBER:
	call	GETBYTE
	ld	(??AUTO+3),a
	ld	a,(??AUTO+3)
    OR A
	jp	nz,??ENDIF0492
    XOR A
	ret
??ENDIF0492:
	xor	a
	ld	(??AUTO+2),a
??WHILE0493:
	ld	a,(??AUTO+2)
	cp	0DH
	jp	nc,??WEND0494
	call	GETBYTE
	ld	b,a
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+8
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+2)
	add	a,1
	ld	(??AUTO+2),a
	JR ??WHILE0493
??WEND0494:
	xor	a
	ld	(??AUTO+8+13),a
	call	GETBYTE
	ld	l,a
	ld	h,0
	ld	(??AUTO+4),hl
	call	GETBYTE
	ld	l,a
	ld	h,0
	ld	h,l
	ld	l,0
	ld	de,0
	ex	de,hl
	ld	hl,(??AUTO+4)
	add	hl,de
	ld	(??AUTO+4),hl
	call	GETBYTE
	ld	(??AUTO+2),a
	call	GETBYTE
	ld	(??AUTO+2),a
	call	GETBYTE
	ld	(??AUTO+2),a
	call	GETBYTE
	ld	(??AUTO+2),a
	call	GETBYTE
	ld	(??AUTO+2),a
	call	GETBYTE
	ld	(??AUTO+2),a
	call	GETBYTE
	ld	(??AUTO+2),a
	call	GETBYTE
	ld	(??AUTO+2),a
	ld	a,(??AUTO+3)
	cp	2
	jp	c,??ELSE0495
	call	GETBYTE
	ld	l,a
	ld	h,0
	ld	(??AUTO+6),hl
	call	GETBYTE
	ld	l,a
	ld	h,0
	ld	h,l
	ld	l,0
	ld	de,0
	ex	de,hl
	ld	hl,(??AUTO+6)
	add	hl,de
	ld	(??AUTO+6),hl
	call	GETBYTE
	ld	(??AUTO+2),a
	call	GETBYTE
	ld	(??AUTO+2),a
	JR ??ENDIF0496
??ELSE0495:
	ld	hl,(??AUTO+4)
	ld	(??AUTO+6),hl
??ENDIF0496:
	ld	a,20H
	call	PRINTCHAR
	ld	a,20H
	call	PRINTCHAR
	xor	a
	ld	(??AUTO+2),a
??WHILE0497:
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+8
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??WEND0498
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+8
	add	hl,de
	ld	a,(hl)
	call	PRINTCHAR
	ld	a,(??AUTO+2)
	add	a,1
	ld	(??AUTO+2),a
	JR ??WHILE0497
??WEND0498:
	ld	hl,(OFCBPTR)
	ld	(??AUTO+150),hl
	ld	hl,24H
	ld	(??AUTO+152),hl
    XOR A
	call	FILLMEM
	xor	a
	ld	(??AUTO+2),a
??WHILE0499:
	ld	a,(??AUTO+2)
	cp	8
	jp	nc,??WEND0500
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+8
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??WEND0500
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+8
	add	hl,de
	ld	a,(hl)
	cp	2EH
	jp	z,??WEND0500
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+8
	add	hl,de
	ld	a,(hl)
	ld	b,a
	ld	a,(??AUTO+2)
	add	a,1
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+2)
	add	a,1
	ld	(??AUTO+2),a
	JR ??WHILE0499
??WEND0500:
??WHILE0501:
	ld	a,(??AUTO+2)
	cp	8
	jp	nc,??WEND0502
	ld	a,20H
	ld	b,a
	ld	a,(??AUTO+2)
	add	a,1
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+2)
	add	a,1
	ld	(??AUTO+2),a
	JR ??WHILE0501
??WEND0502:
	xor	a
	ld	(??AUTO+2),a
??WHILE0503:
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+8
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??WEND0504
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+8
	add	hl,de
	ld	a,(hl)
	cp	2EH
	jp	z,??WEND0504
	ld	a,(??AUTO+2)
	add	a,1
	ld	(??AUTO+2),a
	JR ??WHILE0503
??WEND0504:
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+8
	add	hl,de
	ld	a,(hl)
	cp	2EH
	jp	nz,??ELSE0505
	ld	a,(??AUTO+2)
	add	a,1
	ld	(??AUTO+2),a
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+8
	add	hl,de
	ld	a,(hl)
	ld	b,a
	ld	hl,(OFCBPTR)
	ld	de,9
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+8
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??ENDIF0508
	ld	a,(??AUTO+2)
	add	a,1
	ld	(??AUTO+2),a
??ENDIF0508:
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+8
	add	hl,de
	ld	a,(hl)
	ld	b,a
	ld	hl,(OFCBPTR)
	ld	de,10
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+8
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??ENDIF0510
	ld	a,(??AUTO+2)
	add	a,1
	ld	(??AUTO+2),a
??ENDIF0510:
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+8
	add	hl,de
	ld	a,(hl)
	ld	b,a
	ld	hl,(OFCBPTR)
	ld	de,11
	add	hl,de
	ld	(hl),b
	JR ??ENDIF0506
??ELSE0505:
	ld	a,20H
	ld	b,a
	ld	hl,(OFCBPTR)
	ld	de,9
	add	hl,de
	ld	(hl),b
	ld	a,20H
	ld	b,a
	ld	hl,(OFCBPTR)
	ld	de,10
	add	hl,de
	ld	(hl),b
	ld	a,20H
	ld	b,a
	ld	hl,(OFCBPTR)
	ld	de,11
	add	hl,de
	ld	(hl),b
??ENDIF0506:
	ld	hl,(OFCBPTR)
	call	DELETEFILE
	ld	hl,(OFCBPTR)
	call	MAKEFILE
	cp	0FFH
	jp	nz,??ENDIF0512
	ld	hl,??DATA0513
	call	PRINTSTR
	ld	a,2
	ret
??ENDIF0512:
	ld	hl,0
	ld	(OUTBUFPOS),hl
	ld	a,1
	ld	(??AUTO+22),a
	ld	hl,(??AUTO+4)
	ld	(INPUTLIMIT),hl
	ld	a,(??AUTO+3)
	cp	1
	jp	z,??ORTRUE0516
	ld	a,(??AUTO+3)
	cp	2
	jp	nz,??ELSE0514
??ORTRUE0516:
	ld	hl,(??AUTO+4)
	call	ARCDECOMPSTORED
	ld	(??AUTO+22),a
	jp	??ENDIF0515
??ELSE0514:
	ld	a,(??AUTO+3)
	cp	3
	jp	nz,??ELSE0517
	ld	hl,(??AUTO+4)
	call	ARCDECOMPRLE
	ld	(??AUTO+22),a
	jp	??ENDIF0518
??ELSE0517:
	ld	a,(??AUTO+3)
	cp	4
	jp	nz,??ELSE0519
	call	INITBITSLSB
	call	ARCDECOMPSQUEEZED
	ld	(??AUTO+22),a
	jp	??ENDIF0520
??ELSE0519:
	ld	a,(??AUTO+3)
	cp	5
	jp	nz,??ELSE0521
    XOR A
	call	ARCDECOMPLZW56
	ld	(??AUTO+22),a
	jp	??ENDIF0522
??ELSE0521:
	ld	a,(??AUTO+3)
	cp	6
	jp	nz,??ELSE0523
	ld	a,1
	call	ARCDECOMPLZW56
	ld	(??AUTO+22),a
	jp	??ENDIF0524
??ELSE0523:
	ld	a,(??AUTO+3)
	cp	7
	jp	z,??ORTRUE0527
	ld	a,(??AUTO+3)
	cp	8
	jp	nz,??ELSE0525
??ORTRUE0527:
	call	ARCDECOMPLZW8
	ld	(??AUTO+22),a
	JR ??ENDIF0526
??ELSE0525:
	ld	a,(??AUTO+3)
	cp	9
	jp	nz,??ELSE0528
	call	ARCDECOMPSQUASHED
	ld	(??AUTO+22),a
	JR ??ENDIF0529
??ELSE0528:
	ld	hl,??DATA0530
	call	PRINTSTR
	ld	hl,@EXTRACTARCMEMBER$MSGMETHOD
	call	PRINTSTR
	ld	a,20H
	call	PRINTCHAR
	ld	a,(??AUTO+3)
	call	PRINTHEX
??WHILE0531:
	ld	hl,(INPUTLIMIT)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??WEND0532
	ld	a,l
	or	h
	jp	z,??WEND0532
	call	GETBYTE
	ld	(??AUTO+2),a
	JR ??WHILE0531
??WEND0532:
	ld	hl,(OFCBPTR)
	call	CLOSEFILE
	ld	hl,0FFFFH
	ld	(INPUTLIMIT),hl
	ld	a,2
	ret
??ENDIF0529:
??ENDIF0526:
??ENDIF0524:
??ENDIF0522:
??ENDIF0520:
??ENDIF0518:
??ENDIF0515:
??WHILE0533:
	ld	hl,(INPUTLIMIT)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??WEND0534
	ld	a,l
	or	h
	jp	z,??WEND0534
	ld	hl,(INPUTLIMIT)
	push	hl
	ld	hl,0FFFFH
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??WEND0534
	call	GETBYTE
	ld	(??AUTO+2),a
	JR ??WHILE0533
??WEND0534:
	ld	hl,0FFFFH
	ld	(INPUTLIMIT),hl
	ld	a,(??AUTO+22)
	or	a
	jp	z,??ENDIF0536
	call	FLUSHOUTBUF
	ld	(??AUTO+22),a
??ENDIF0536:
	ld	hl,(OFCBPTR)
	call	CLOSEFILE
	ld	a,(??AUTO+22)
	or	a
	jp	z,??ELSE0537
	ld	hl,??DATA0539
	call	PRINTSTR
	ld	a,(FILECOUNT)
	add	a,1
	ld	(FILECOUNT),a
	JR ??ENDIF0538
??ELSE0537:
	ld	hl,??DATA0540
	call	PRINTSTR
??ENDIF0538:
	call	CRLF
	ld	a,(??AUTO+22)
	ret

; Module: MODULE

	public	EXTRACTARC
; Procedure EXTRACTARC
EXTRACTARC:
	xor	a
	ld	(FILECOUNT),a
	ld	hl,0FFFFH
	ld	(INPUTLIMIT),hl
??WHILE0541:
	call	INPUTAVAIL
	or	a
	jp	z,??WEND0542
	call	PEEKBYTE
	ld	(??AUTO+42),a
	ld	a,(??AUTO+42)
	cp	1AH
	jp	z,??ENDIF0544
	ld	a,1
	ret
??ENDIF0544:
	call	GETBYTE
	ld	(??AUTO+42),a
	call	PEEKBYTE
	ld	(??AUTO+42),a
	ld	a,(??AUTO+42)
    OR A
	jp	nz,??ENDIF0546
	ld	a,1
	ret
??ENDIF0546:
	call	EXTRACTARCMEMBER
	ld	(??AUTO+41),a
	ld	a,(??AUTO+41)
    OR A
	jp	nz,??ENDIF0548
    XOR A
	ret
??ENDIF0548:
	JR ??WHILE0541
??WEND0542:
	ld	a,1
	ret

; Module: MODULE

	public	EXTRACTLBR
; Procedure EXTRACTLBR
EXTRACTLBR:
	ld	hl,0
	ld	(INBUFPOS),hl
	ld	hl,0
	ld	(INBUFEND),hl
	ld	hl,0FFFFH
	ld	(INPUTLIMIT),hl
	call	FILLINBUF
	or	a
	jp	nz,??ENDIF0550
	ld	hl,@EXTRACTLBR$MSGBADLBR
	call	PRINTSTR
    XOR A
	ret
??ENDIF0550:
	ld	hl,(INBUFPTR)
	ld	(??AUTO+55),hl
	ld	hl,(??AUTO+55)
	ld	a,(hl)
    OR A
	jp	z,??ENDIF0552
	ld	hl,@EXTRACTLBR$MSGBADLBR
	call	PRINTSTR
    XOR A
	ret
??ENDIF0552:
	ld	hl,(??AUTO+55)
	ld	de,14
	add	hl,de
	ld	a,(hl)
	ld	(??AUTO+43),a
	ld	a,(??AUTO+43)
    OR A
	jp	z,??ORTRUE0555
	ld	a,(??AUTO+43)
	cp	20H
	jp	c,??ENDIF0554
	jp	z,??ENDIF0554
??ORTRUE0555:
	ld	hl,@EXTRACTLBR$MSGBADLBR
	call	PRINTSTR
    XOR A
	ret
??ENDIF0554:
	ld	a,(??AUTO+43)
	ld	l,a
	ld	h,0
	add	hl,hl
	add	hl,hl
	ld	de,0
	ld	(??AUTO+47),hl
	ld	hl,(FCBPTR)
	ld	(??AUTO+123),hl
	ld	hl,??AUTO+6
	ld	(??AUTO+125),hl
	ld	hl,0CH
	call	COPYMEM
	ld	hl,??AUTO+6+12
	ld	(??AUTO+150),hl
	ld	hl,18H
	ld	(??AUTO+152),hl
    XOR A
	call	FILLMEM
	xor	a
	ld	(FILECOUNT),a
	ld	hl,1
	ld	(??AUTO+45),hl
??WHILE0556:
	ld	hl,(??AUTO+45)
	push	hl
	ld	hl,(??AUTO+47)
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??WEND0557
	ld	hl,(??AUTO+45)
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	ld	de,0
	ex	de,hl
	ld	hl,(INBUFPTR)
	add	hl,de
	ld	(??AUTO+55),hl
	ld	hl,(INBUFEND)
	ex	de,hl
	ld	hl,(INBUFPTR)
	add	hl,de
	ex	de,hl
	ld	hl,(??AUTO+55)
	call	??subde
	jp	c,??ELSE0558
	ld	hl,(??AUTO+47)
	ld	(??AUTO+45),hl
	JR ??WHILE0556
??ELSE0558:
	ld	hl,(??AUTO+55)
	ld	a,(hl)
	cp	0FFH
	jp	nz,??ELSE0560
	ld	hl,(??AUTO+47)
	ld	(??AUTO+45),hl
	jp	??ENDIF0561
??ELSE0560:
	ld	hl,(??AUTO+55)
	ld	a,(hl)
    OR A
	jp	nz,??ELSE0562
	ld	a,20H
	call	PRINTCHAR
	ld	a,20H
	call	PRINTCHAR
	ld	a,1
	ld	(??AUTO+44),a
??WHILE0564:
	ld	a,(??AUTO+44)
	cp	8
	jp	c,??SKIP0566
	jp	z,??SKIP0566
	JR ??WEND0565
??SKIP0566:
	ld	a,(??AUTO+44)
	ld	l,a
	ld	h,0
	ld	de,(??AUTO+55)
	add	hl,de
	ld	a,(hl)
	and	7FH
	cp	20H
	jp	z,??ENDIF0568
	ld	a,(??AUTO+44)
	ld	l,a
	ld	h,0
	ld	de,(??AUTO+55)
	add	hl,de
	ld	a,(hl)
	and	7FH
	call	PRINTCHAR
??ENDIF0568:
	ld	a,(??AUTO+44)
	add	a,1
	ld	(??AUTO+44),a
	JR ??WHILE0564
??WEND0565:
	ld	hl,(??AUTO+55)
	ld	de,9
	add	hl,de
	ld	a,(hl)
	and	7FH
	cp	20H
	jp	z,??ENDIF0570
	ld	a,2EH
	call	PRINTCHAR
	ld	a,9
	ld	(??AUTO+44),a
??WHILE0571:
	ld	a,(??AUTO+44)
	cp	0BH
	jp	c,??SKIP0573
	jp	z,??SKIP0573
	JR ??WEND0572
??SKIP0573:
	ld	a,(??AUTO+44)
	ld	l,a
	ld	h,0
	ld	de,(??AUTO+55)
	add	hl,de
	ld	a,(hl)
	and	7FH
	cp	20H
	jp	z,??ENDIF0575
	ld	a,(??AUTO+44)
	ld	l,a
	ld	h,0
	ld	de,(??AUTO+55)
	add	hl,de
	ld	a,(hl)
	and	7FH
	call	PRINTCHAR
??ENDIF0575:
	ld	a,(??AUTO+44)
	add	a,1
	ld	(??AUTO+44),a
	JR ??WHILE0571
??WEND0572:
??ENDIF0570:
	ld	hl,(??AUTO+55)
	ld	de,12
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	push	hl
	ld	hl,(??AUTO+55)
	ld	de,13
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	ld	h,l
	ld	l,0
	ld	de,0
	ex	de,hl
	pop	hl
	add	hl,de
	ld	(??AUTO+51),hl
	ld	hl,(??AUTO+55)
	ld	de,14
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	push	hl
	ld	hl,(??AUTO+55)
	ld	de,15
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	ld	h,l
	ld	l,0
	ld	de,0
	ex	de,hl
	pop	hl
	add	hl,de
	ld	(??AUTO+53),hl
	ld	hl,(OFCBPTR)
	ld	(??AUTO+150),hl
	ld	hl,24H
	ld	(??AUTO+152),hl
    XOR A
	call	FILLMEM
	ld	a,1
	ld	(??AUTO+44),a
??WHILE0576:
	ld	a,(??AUTO+44)
	cp	0BH
	jp	c,??SKIP0578
	jp	z,??SKIP0578
	JR ??WEND0577
??SKIP0578:
	ld	a,(??AUTO+44)
	ld	l,a
	ld	h,0
	ld	de,(??AUTO+55)
	add	hl,de
	ld	a,(hl)
	and	7FH
	ld	b,a
	ld	a,(??AUTO+44)
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+44)
	add	a,1
	ld	(??AUTO+44),a
	JR ??WHILE0576
??WEND0577:
	ld	hl,(??AUTO+53)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??ELSE0579
	ld	hl,(OFCBPTR)
	call	DELETEFILE
	ld	hl,(OFCBPTR)
	call	MAKEFILE
	ld	(??AUTO+42),a
	ld	a,(??AUTO+42)
	cp	0FFH
	jp	nz,??ELSE0581
	ld	hl,@EXTRACTLBR$MSGNOCREAT
	call	PRINTSTR
	call	CRLF
	JP ??ENDIF0580
??ELSE0581:
	ld	hl,(IFCBPTR)
	call	CLOSEFILE
	ld	hl,??AUTO+6
	ld	(??AUTO+123),hl
	ld	hl,(IFCBPTR)
	ld	(??AUTO+125),hl
	ld	hl,0CH
	call	COPYMEM
	ld	hl,(IFCBPTR)
	ld	de,0CH
	add	hl,de
	ld	(??AUTO+150),hl
	ld	hl,18H
	ld	(??AUTO+152),hl
    XOR A
	call	FILLMEM
	ld	hl,(IFCBPTR)
	call	OPENFILE
	ld	(??AUTO+42),a
	ld	a,(??AUTO+42)
	cp	0FFH
	jp	nz,??ELSE0583
	ld	hl,(OFCBPTR)
	call	CLOSEFILE
	call	CRLF
	jp	??ENDIF0584
??ELSE0583:
	ld	hl,(DMAPTR)
	call	SETDMAADDR
	ld	hl,(??AUTO+51)
	ld	(??AUTO+49),hl
??WHILE0585:
	ld	hl,(??AUTO+49)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??WEND0586
	ld	hl,(IFCBPTR)
	call	READFILE
	ld	(??AUTO+42),a
	ld	hl,(??AUTO+49)
	dec	hl
	ld	(??AUTO+49),hl
	JR ??WHILE0585
??WEND0586:
	ld	hl,0
	ld	(INBUFPOS),hl
	ld	hl,0
	ld	(INBUFEND),hl
	ld	hl,0FFFFH
	ld	(INPUTLIMIT),hl
	call	FILLINBUF
	or	a
	jp	nz,??ELSE0587
	ld	hl,(OFCBPTR)
	call	CLOSEFILE
	call	CRLF
	jp	??ENDIF0588
??ELSE0587:
	ld	hl,(INBUFPTR)
	ld	a,(hl)
	cp	76H
	jp	nz,??ELSE0589
	ld	hl,(INBUFPTR)
	ld	de,1
	add	hl,de
	ld	a,(hl)
	cp	0FFH
	jp	nz,??ELSE0589
	ld	hl,0
	ld	(OUTBUFPOS),hl
	call	UNSQUEEZE
	ld	(??AUTO+42),a
	ld	a,(??AUTO+42)
	or	a
	jp	z,??ENDIF0592
	call	FLUSHOUTBUF
	ld	(??AUTO+42),a
??ENDIF0592:
	jp	??ENDIF0590
??ELSE0589:
	ld	hl,(INBUFPTR)
	ld	a,(hl)
	cp	76H
	jp	nz,??ELSE0593
	ld	hl,(INBUFPTR)
	ld	de,1
	add	hl,de
	ld	a,(hl)
	cp	0FEH
	jp	nz,??ELSE0593
	ld	hl,0
	ld	(OUTBUFPOS),hl
	call	UNCRUNCH
	or	a
	jp	z,??ENDIF0596
	call	FLUSHOUTBUF
	ld	(??AUTO+42),a
??ENDIF0596:
	jp	??ENDIF0594
??ELSE0593:
	ld	hl,(INBUFPTR)
	ld	a,(hl)
	cp	76H
	jp	nz,??ELSE0597
	ld	hl,(INBUFPTR)
	ld	de,1
	add	hl,de
	ld	a,(hl)
	cp	0FDH
	jp	nz,??ELSE0597
	ld	hl,0
	ld	(OUTBUFPOS),hl
	call	UNCRLZH
	or	a
	jp	z,??ENDIF0600
	call	FLUSHOUTBUF
	ld	(??AUTO+42),a
??ENDIF0600:
	jp	??ENDIF0598
??ELSE0597:
	ld	hl,(??AUTO+53)
	ld	(??AUTO+49),hl
??WHILE0601:
	ld	hl,(??AUTO+49)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	z,??WEND0602
	ld	hl,(DMAPTR)
	call	SETDMAADDR
	ld	hl,(INBUFPOS)
	push	hl
	ld	hl,(INBUFEND)
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??ELSE0603
	ld	hl,(INBUFPOS)
	ex	de,hl
	ld	hl,(INBUFPTR)
	add	hl,de
	ld	(??AUTO+123),hl
	ld	hl,(DMAPTR)
	ld	(??AUTO+125),hl
	ld	hl,80H
	call	COPYMEM
	ld	hl,(INBUFPOS)
	ld	de,80H
	add	hl,de
	ld	(INBUFPOS),hl
	JR ??ENDIF0604
??ELSE0603:
	ld	hl,(IFCBPTR)
	call	READFILE
	ld	(??AUTO+42),a
??ENDIF0604:
	ld	hl,(OFCBPTR)
	call	WRITEFILE
    OR A
	jp	z,??ENDIF0606
	ld	hl,1
	ld	(??AUTO+49),hl
??ENDIF0606:
	ld	hl,(??AUTO+49)
	dec	hl
	ld	(??AUTO+49),hl
	jp	??WHILE0601
??WEND0602:
??ENDIF0598:
??ENDIF0594:
??ENDIF0590:
	ld	hl,(OFCBPTR)
	call	CLOSEFILE
	ld	a,(FILECOUNT)
	add	a,1
	ld	(FILECOUNT),a
	ld	hl,@EXTRACTLBR$MSGOK
	call	PRINTSTR
	call	CRLF
	ld	hl,(IFCBPTR)
	call	CLOSEFILE
	ld	hl,??AUTO+6
	ld	(??AUTO+123),hl
	ld	hl,(IFCBPTR)
	ld	(??AUTO+125),hl
	ld	hl,0CH
	call	COPYMEM
	ld	hl,(IFCBPTR)
	ld	de,0CH
	add	hl,de
	ld	(??AUTO+150),hl
	ld	hl,18H
	ld	(??AUTO+152),hl
    XOR A
	call	FILLMEM
	ld	hl,(IFCBPTR)
	call	OPENFILE
	ld	(??AUTO+42),a
	ld	a,(??AUTO+42)
	cp	0FFH
	jp	z,??ELSE0607
	ld	hl,0
	ld	(INBUFPOS),hl
	ld	hl,0
	ld	(INBUFEND),hl
	ld	hl,0FFFFH
	ld	(INPUTLIMIT),hl
	call	FILLINBUF
	ld	(??AUTO+42),a
	JR ??ENDIF0608
??ELSE0607:
	ld	hl,(??AUTO+47)
	ld	(??AUTO+45),hl
??ENDIF0608:
??ENDIF0588:
??ENDIF0584:
??ENDIF0582:
	JR ??ENDIF0580
??ELSE0579:
	call	CRLF
??ENDIF0580:
	ld	hl,(??AUTO+45)
	inc	hl
	ld	(??AUTO+45),hl
	JR ??ENDIF0563
??ELSE0562:
	ld	hl,(??AUTO+45)
	inc	hl
	ld	(??AUTO+45),hl
??ENDIF0563:
??ENDIF0561:
??ENDIF0559:
	jp	??WHILE0556
??WEND0557:
	ld	a,1
	ret

; Module: MODULE

	public	INITBAS
; Procedure INITBAS
INITBAS:
	xor	a
	ld	(SINCON),a
	ld	a,0FBH
	ld	(SINCON+1),a
	ld	a,0D7H
	ld	(SINCON+2),a
	ld	a,1EH
	ld	(SINCON+3),a
	ld	a,86H
	ld	(SINCON+4),a
	ld	a,65H
	ld	(SINCON+5),a
	ld	a,26H
	ld	(SINCON+6),a
	ld	a,99H
	ld	(SINCON+7),a
	ld	a,87H
	ld	(SINCON+8),a
	ld	a,58H
	ld	(SINCON+9),a
	ld	a,34H
	ld	(SINCON+10),a
	ld	a,23H
	ld	(SINCON+11),a
	ld	a,87H
	ld	(SINCON+12),a
	ld	a,0E1H
	ld	(SINCON+13),a
	xor	a
	ld	(ATNCON),a
	ld	a,4AH
	ld	(ATNCON+1),a
	ld	a,0D7H
	ld	(ATNCON+2),a
	ld	a,3BH
	ld	(ATNCON+3),a
	ld	a,78H
	ld	(ATNCON+4),a
	ld	a,2
	ld	(ATNCON+5),a
	ld	a,6EH
	ld	(ATNCON+6),a
	ld	a,84H
	ld	(ATNCON+7),a
	ld	a,7BH
	ld	(ATNCON+8),a
	ld	a,0FEH
	ld	(ATNCON+9),a
	ld	a,0C1H
	ld	(ATNCON+10),a
	ld	a,2FH
	ld	(ATNCON+11),a
	ret

; Module: MODULE

	public	ISTOKENIZEDBASIC
; Procedure ISTOKENIZEDBASIC
ISTOKENIZEDBASIC:
	ld	hl,(INBUFEND)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF0610
    XOR A
	ret
??ENDIF0610:
	ld	hl,(INBUFPTR)
	ld	a,(hl)
	cp	0FFH
	jp	z,??ORTRUE0613
	ld	hl,(INBUFPTR)
	ld	a,(hl)
	cp	0FEH
	jp	nz,??ENDIF0612
??ORTRUE0613:
	ld	a,1
	ret
??ENDIF0612:
    XOR A
	ret

; Module: MODULE

; Procedure EMIT
EMIT:
	ld	(??AUTO+16),a
	ld	a,(??AUTO+16)
	ld	b,a
	ld	hl,(OUTBUFPTR)
	push	hl
	ld	hl,(OUTBUFPOS)
	pop	de
	add	hl,de
	ld	(hl),b
	ld	hl,(OUTBUFPOS)
	inc	hl
	ld	(OUTBUFPOS),hl
	ret

; Module: MODULE

; Procedure EMITCRLF
EMITCRLF:
	ld	a,0DH
	call	EMIT
	ld	a,0AH
	call	EMIT
	ret

; Module: MODULE

; Procedure EMITHEXBYTE
EMITHEXBYTE:
	ld	(??AUTO+0),a
	ld	hl,@EMITHEXBYTE$HEX
	push	hl
	ld	a,(??AUTO+0)
	ld	l,a
	ld	h,0
	ld	c,4
??SHR0614:
	dec	c
	jp	m,??SHRE0615
	or	a
	ld	a,h
	rra
	ld	h,a
	ld	a,l
	rra
	ld	l,a
	JR ??SHR0614
??SHRE0615:
	pop	de
	add	hl,de
	ld	a,(hl)
	call	EMIT
	ld	a,(??AUTO+0)
	and	0FH
	ld	l,a
	ld	h,0
	ld	de,@EMITHEXBYTE$HEX
	add	hl,de
	ld	a,(hl)
	call	EMIT
	ret

; Module: MODULE

; Procedure EMITNUM
EMITNUM:
	ld	(??AUTO+0),hl
	ld	hl,(??AUTO+0)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF0617
	ld	a,30H
	call	EMIT
	ret
??ENDIF0617:
	xor	a
	ld	(??AUTO+3),a
	ld	hl,2710H
	ld	(??AUTO+4),hl
??WHILE0618:
	ld	hl,(??AUTO+4)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??WEND0619
	ld	a,l
	or	h
	jp	z,??WEND0619
	ld	hl,(??AUTO+4)
	ex	de,hl
	ld	hl,(??AUTO+0)
	call	??div16
	ld	a,l
	ld	(??AUTO+2),a
	ld	a,(??AUTO+2)
    OR A
	jp	c,??SKIP0623
	jp	z,??SKIP0623
	JR ??ORTRUE0622
??SKIP0623:
	ld	a,(??AUTO+3)
	or	a
	jp	z,??ENDIF0621
??ORTRUE0622:
	ld	a,30H
	ld	b,a
	ld	a,(??AUTO+2)
	add	a,b
	call	EMIT
	ld	a,1
	ld	(??AUTO+3),a
??ENDIF0621:
	ld	hl,(??AUTO+4)
	ex	de,hl
	ld	hl,(??AUTO+0)
	call	??mod16
	ld	(??AUTO+0),hl
	ld	hl,0AH
	ex	de,hl
	ld	hl,(??AUTO+4)
	call	??div16
	ld	(??AUTO+4),hl
	jp	??WHILE0618
??WEND0619:
	ret

; Module: MODULE

; Procedure EMITHEX
EMITHEX:
	ld	(??AUTO+0),hl
	ld	a,26H
	call	EMIT
	ld	a,48H
	call	EMIT
	ld	hl,(??AUTO+0)
	ld	a,h
	srl	a
	srl	a
	srl	a
	srl	a
	ld	l,a
	ld	h,0
	push	hl
	ld	hl,0FH
	ex	de,hl
	pop	hl
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	a,l
	ld	(??AUTO+2),a
	ld	a,(??AUTO+2)
    OR A
	jp	c,??ENDIF0625
	jp	z,??ENDIF0625
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,@EMITHEX$HEX
	add	hl,de
	ld	a,(hl)
	call	EMIT
??ENDIF0625:
	ld	hl,(??AUTO+0)
	ld	l,h
	ld	h,0
	push	hl
	ld	hl,0FH
	ex	de,hl
	pop	hl
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	a,l
	ld	(??AUTO+2),a
	ld	a,(??AUTO+2)
    OR A
	jp	c,??SKIP0629
	jp	z,??SKIP0629
	JR ??ORTRUE0628
??SKIP0629:
	ld	hl,(??AUTO+0)
	ld	a,h
	srl	a
	srl	a
	srl	a
	srl	a
	ld	l,a
	ld	h,0
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??ENDIF0627
	ld	a,l
	or	h
	jp	z,??ENDIF0627
??ORTRUE0628:
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,@EMITHEX$HEX
	add	hl,de
	ld	a,(hl)
	call	EMIT
??ENDIF0627:
	ld	hl,(??AUTO+0)
	ld	c,4
??SHR0630:
	dec	c
	jp	m,??SHRE0631
	or	a
	ld	a,h
	rra
	ld	h,a
	ld	a,l
	rra
	ld	l,a
	JR ??SHR0630
??SHRE0631:
	push	hl
	ld	hl,0FH
	ex	de,hl
	pop	hl
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	a,l
	ld	(??AUTO+2),a
	ld	a,(??AUTO+2)
    OR A
	jp	c,??SKIP0635
	jp	z,??SKIP0635
	JR ??ORTRUE0634
??SKIP0635:
	ld	hl,(??AUTO+0)
	ld	l,h
	ld	h,0
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	jp	c,??ENDIF0633
	ld	a,l
	or	h
	jp	z,??ENDIF0633
??ORTRUE0634:
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,@EMITHEX$HEX
	add	hl,de
	ld	a,(hl)
	call	EMIT
??ENDIF0633:
	ld	hl,0FH
	ex	de,hl
	ld	hl,(??AUTO+0)
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	a,l
	ld	(??AUTO+2),a
	ld	a,(??AUTO+2)
	ld	l,a
	ld	h,0
	ld	de,@EMITHEX$HEX
	add	hl,de
	ld	a,(hl)
	call	EMIT
	ret

; Module: MODULE

; Procedure EMITOCT
EMITOCT:
	ld	(??AUTO+0),hl
	ld	a,26H
	call	EMIT
	ld	a,4FH
	call	EMIT
	xor	a
	ld	(??AUTO+3),a
	ld	hl,(??AUTO+0)
	ld	a,h
	or	a
	rra
	or	a
	rra
	or	a
	rra
	or	a
	rra
	or	a
	rra
	or	a
	rra
	or	a
	rra
	ld	l,a
	ld	h,0
	push	hl
	ld	hl,1
	ex	de,hl
	pop	hl
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	a,l
	ld	(??AUTO+2),a
	ld	a,(??AUTO+2)
    OR A
	jp	c,??ENDIF0637
	jp	z,??ENDIF0637
	ld	a,30H
	ld	b,a
	ld	a,(??AUTO+2)
	add	a,b
	call	EMIT
	ld	a,1
	ld	(??AUTO+3),a
??ENDIF0637:
	ld	hl,(??AUTO+0)
	ld	a,h
	srl	a
	srl	a
	srl	a
	srl	a
	ld	l,a
	ld	h,0
	push	hl
	ld	hl,7
	ex	de,hl
	pop	hl
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	a,l
	ld	(??AUTO+2),a
	ld	a,(??AUTO+2)
    OR A
	jp	c,??SKIP0641
	jp	z,??SKIP0641
	JR ??ORTRUE0640
??SKIP0641:
	ld	a,(??AUTO+3)
	or	a
	jp	z,??ENDIF0639
??ORTRUE0640:
	ld	a,30H
	ld	b,a
	ld	a,(??AUTO+2)
	add	a,b
	call	EMIT
	ld	a,1
	ld	(??AUTO+3),a
??ENDIF0639:
	ld	hl,(??AUTO+0)
	ld	a,h
	srl	a
	ld	l,a
	ld	h,0
	push	hl
	ld	hl,7
	ex	de,hl
	pop	hl
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	a,l
	ld	(??AUTO+2),a
	ld	a,(??AUTO+2)
    OR A
	jp	c,??SKIP0645
	jp	z,??SKIP0645
	JR ??ORTRUE0644
??SKIP0645:
	ld	a,(??AUTO+3)
	or	a
	jp	z,??ENDIF0643
??ORTRUE0644:
	ld	a,30H
	ld	b,a
	ld	a,(??AUTO+2)
	add	a,b
	call	EMIT
	ld	a,1
	ld	(??AUTO+3),a
??ENDIF0643:
	ld	hl,(??AUTO+0)
	ld	c,6
??SHR0646:
	dec	c
	jp	m,??SHRE0647
	or	a
	ld	a,h
	rra
	ld	h,a
	ld	a,l
	rra
	ld	l,a
	JR ??SHR0646
??SHRE0647:
	push	hl
	ld	hl,7
	ex	de,hl
	pop	hl
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	a,l
	ld	(??AUTO+2),a
	ld	a,(??AUTO+2)
    OR A
	jp	c,??SKIP0651
	jp	z,??SKIP0651
	JR ??ORTRUE0650
??SKIP0651:
	ld	a,(??AUTO+3)
	or	a
	jp	z,??ENDIF0649
??ORTRUE0650:
	ld	a,30H
	ld	b,a
	ld	a,(??AUTO+2)
	add	a,b
	call	EMIT
	ld	a,1
	ld	(??AUTO+3),a
??ENDIF0649:
	ld	hl,(??AUTO+0)
	or	a
	ld	a,h
	rra
	ld	h,a
	ld	a,l
	rra
	ld	l,a
	or	a
	ld	a,h
	rra
	ld	h,a
	ld	a,l
	rra
	ld	l,a
	or	a
	ld	a,h
	rra
	ld	h,a
	ld	a,l
	rra
	ld	l,a
	push	hl
	ld	hl,7
	ex	de,hl
	pop	hl
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	a,l
	ld	(??AUTO+2),a
	ld	a,(??AUTO+2)
    OR A
	jp	c,??SKIP0655
	jp	z,??SKIP0655
	JR ??ORTRUE0654
??SKIP0655:
	ld	a,(??AUTO+3)
	or	a
	jp	z,??ENDIF0653
??ORTRUE0654:
	ld	a,30H
	ld	b,a
	ld	a,(??AUTO+2)
	add	a,b
	call	EMIT
	ld	a,1
	ld	(??AUTO+3),a
??ENDIF0653:
	ld	hl,7
	ex	de,hl
	ld	hl,(??AUTO+0)
	ld	a,l
	and	e
	ld	l,a
	ld	a,h
	and	d
	ld	h,a
	ld	a,l
	ld	(??AUTO+2),a
	ld	a,30H
	ld	b,a
	ld	a,(??AUTO+2)
	add	a,b
	call	EMIT
	ret

; Module: MODULE

; Procedure NEEDSPACEBEFOREKW
NEEDSPACEBEFOREKW:
	ld	a,(PREVTOK)
	cp	41H
	jp	c,??ENDIF0657
	ld	a,(PREVTOK)
	cp	5AH
	jp	c,??SKIP0658
	jp	z,??SKIP0658
	JR ??ENDIF0657
??SKIP0658:
	ld	a,1
	ret
??ENDIF0657:
	ld	a,(PREVTOK)
	cp	61H
	jp	c,??ENDIF0660
	ld	a,(PREVTOK)
	cp	7AH
	jp	c,??SKIP0661
	jp	z,??SKIP0661
	JR ??ENDIF0660
??SKIP0661:
	ld	a,1
	ret
??ENDIF0660:
	ld	a,(PREVTOK)
	cp	30H
	jp	c,??ENDIF0663
	ld	a,(PREVTOK)
	cp	39H
	jp	c,??SKIP0664
	jp	z,??SKIP0664
	JR ??ENDIF0663
??SKIP0664:
	ld	a,1
	ret
??ENDIF0663:
	ld	a,(PREVTOK)
	cp	29H
	jp	nz,??ENDIF0666
	ld	a,1
	ret
??ENDIF0666:
	ld	a,(PREVTOK)
	cp	24H
	jp	nz,??ENDIF0668
	ld	a,1
	ret
??ENDIF0668:
	ld	a,(PREVTOK)
	cp	25H
	jp	nz,??ENDIF0670
	ld	a,1
	ret
??ENDIF0670:
	ld	a,(PREVTOK)
	cp	21H
	jp	nz,??ENDIF0672
	ld	a,1
	ret
??ENDIF0672:
	ld	a,(PREVTOK)
	cp	23H
	jp	nz,??ENDIF0674
	ld	a,1
	ret
??ENDIF0674:
    XOR A
	ret

; Module: MODULE

; Procedure EMITTOKEN
EMITTOKEN:
	ld	(??AUTO+14),a
	call	NEEDSPACEBEFOREKW
	ld	(??AUTO+15),a
	ld	a,(??AUTO+14)
	cp	0EFH
	jp	nz,??ENDIF0676
	ld	a,3EH
	call	EMIT
	ld	a,3EH
	ld	(PREVTOK),a
	ret
??ENDIF0676:
	ld	a,(??AUTO+14)
	cp	0F0H
	jp	nz,??ENDIF0678
	ld	a,3DH
	call	EMIT
	ld	a,3DH
	ld	(PREVTOK),a
	ret
??ENDIF0678:
	ld	a,(??AUTO+14)
	cp	0F1H
	jp	nz,??ENDIF0680
	ld	a,3CH
	call	EMIT
	ld	a,3CH
	ld	(PREVTOK),a
	ret
??ENDIF0680:
	ld	a,(??AUTO+14)
	cp	0F2H
	jp	nz,??ENDIF0682
	ld	a,2BH
	call	EMIT
	ld	a,2BH
	ld	(PREVTOK),a
	ret
??ENDIF0682:
	ld	a,(??AUTO+14)
	cp	0F3H
	jp	nz,??ENDIF0684
	ld	a,2DH
	call	EMIT
	ld	a,2DH
	ld	(PREVTOK),a
	ret
??ENDIF0684:
	ld	a,(??AUTO+14)
	cp	0F4H
	jp	nz,??ENDIF0686
	ld	a,2AH
	call	EMIT
	ld	a,2AH
	ld	(PREVTOK),a
	ret
??ENDIF0686:
	ld	a,(??AUTO+14)
	cp	0F5H
	jp	nz,??ENDIF0688
	ld	a,2FH
	call	EMIT
	ld	a,2FH
	ld	(PREVTOK),a
	ret
??ENDIF0688:
	ld	a,(??AUTO+14)
	cp	0F6H
	jp	nz,??ENDIF0690
	ld	a,5EH
	call	EMIT
	ld	a,5EH
	ld	(PREVTOK),a
	ret
??ENDIF0690:
	ld	a,(??AUTO+14)
	cp	0FCH
	jp	nz,??ENDIF0692
	ld	a,5CH
	call	EMIT
	ld	a,5CH
	ld	(PREVTOK),a
	ret
??ENDIF0692:
	ld	a,(??AUTO+14)
	cp	0F7H
	jp	nz,??ENDIF0694
	ld	a,(??AUTO+15)
	or	a
	jp	z,??ENDIF0696
	ld	a,20H
	call	EMIT
??ENDIF0696:
	ld	a,41H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,44H
	call	EMIT
	ld	a,20H
	call	EMIT
	ld	a,20H
	ld	(PREVTOK),a
	ret
??ENDIF0694:
	ld	a,(??AUTO+14)
	cp	0F8H
	jp	nz,??ENDIF0698
	ld	a,(??AUTO+15)
	or	a
	jp	z,??ENDIF0700
	ld	a,20H
	call	EMIT
??ENDIF0700:
	ld	a,4FH
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,20H
	call	EMIT
	ld	a,20H
	ld	(PREVTOK),a
	ret
??ENDIF0698:
	ld	a,(??AUTO+14)
	cp	0F9H
	jp	nz,??ENDIF0702
	ld	a,(??AUTO+15)
	or	a
	jp	z,??ENDIF0704
	ld	a,20H
	call	EMIT
??ENDIF0704:
	ld	a,58H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,20H
	call	EMIT
	ld	a,20H
	ld	(PREVTOK),a
	ret
??ENDIF0702:
	ld	a,(??AUTO+14)
	cp	0FAH
	jp	nz,??ENDIF0706
	ld	a,(??AUTO+15)
	or	a
	jp	z,??ENDIF0708
	ld	a,20H
	call	EMIT
??ENDIF0708:
	ld	a,45H
	call	EMIT
	ld	a,51H
	call	EMIT
	ld	a,56H
	call	EMIT
	ld	a,20H
	call	EMIT
	ld	a,20H
	ld	(PREVTOK),a
	ret
??ENDIF0706:
	ld	a,(??AUTO+14)
	cp	0FBH
	jp	nz,??ENDIF0710
	ld	a,(??AUTO+15)
	or	a
	jp	z,??ENDIF0712
	ld	a,20H
	call	EMIT
??ENDIF0712:
	ld	a,49H
	call	EMIT
	ld	a,4DH
	call	EMIT
	ld	a,50H
	call	EMIT
	ld	a,20H
	call	EMIT
	ld	a,20H
	ld	(PREVTOK),a
	ret
??ENDIF0710:
	ld	a,(??AUTO+14)
	cp	0FDH
	jp	nz,??ENDIF0714
	ld	a,(??AUTO+15)
	or	a
	jp	z,??ENDIF0716
	ld	a,20H
	call	EMIT
??ENDIF0716:
	ld	a,4DH
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,44H
	call	EMIT
	ld	a,20H
	call	EMIT
	ld	a,20H
	ld	(PREVTOK),a
	ret
??ENDIF0714:
	ld	a,(??AUTO+14)
	cp	0CEH
	jp	nz,??ENDIF0718
	ld	a,(PREVTOK)
	cp	20H
	jp	z,??ENDIF0720
	ld	a,20H
	call	EMIT
??ENDIF0720:
	ld	a,54H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,4FH
	ld	(PREVTOK),a
	ret
??ENDIF0718:
	ld	a,(??AUTO+14)
	cp	0CFH
	jp	nz,??ENDIF0722
	ld	a,(PREVTOK)
	cp	20H
	jp	z,??ENDIF0724
	ld	a,20H
	call	EMIT
??ENDIF0724:
	ld	a,54H
	call	EMIT
	ld	a,48H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,4EH
	ld	(PREVTOK),a
	ret
??ENDIF0722:
	ld	a,(??AUTO+14)
	cp	0D1H
	jp	nz,??ENDIF0726
	ld	a,(PREVTOK)
	cp	20H
	jp	z,??ENDIF0728
	ld	a,20H
	call	EMIT
??ENDIF0728:
	ld	a,53H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,50H
	call	EMIT
	ld	a,50H
	ld	(PREVTOK),a
	ret
??ENDIF0726:
	ld	a,(??AUTO+14)
	cp	0A2H
	jp	nz,??ENDIF0730
	ld	a,(PREVTOK)
	cp	20H
	jp	z,??ENDIF0732
	ld	a,20H
	call	EMIT
??ENDIF0732:
	ld	a,45H
	call	EMIT
	ld	a,4CH
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,45H
	ld	(PREVTOK),a
	ret
??ENDIF0730:
	ld	a,(??AUTO+14)
	cp	0D9H
	jp	nz,??ENDIF0734
	ld	a,(PREVTOK)
	cp	20H
	jp	z,??ENDIF0736
	ld	a,20H
	call	EMIT
??ENDIF0736:
	ld	a,55H
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,47H
	call	EMIT
	ld	a,47H
	ld	(PREVTOK),a
	ret
??ENDIF0734:
	ld	a,(??AUTO+15)
	or	a
	jp	z,??ENDIF0738
	ld	a,20H
	call	EMIT
??ENDIF0738:
	ld	a,(??AUTO+14)
	cp	82H
	jp	nz,??ENDIF0740
	ld	a,46H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,52H
	ld	(PREVTOK),a
	ret
??ENDIF0740:
	ld	a,(??AUTO+14)
	cp	8BH
	jp	nz,??ENDIF0742
	ld	a,49H
	call	EMIT
	ld	a,46H
	call	EMIT
	ld	a,46H
	ld	(PREVTOK),a
	ret
??ENDIF0742:
	ld	a,(??AUTO+14)
	cp	8DH
	jp	nz,??ENDIF0744
	ld	a,47H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,55H
	call	EMIT
	ld	a,42H
	call	EMIT
	ld	a,42H
	ld	(PREVTOK),a
	ret
??ENDIF0744:
	ld	a,(??AUTO+14)
	cp	89H
	jp	nz,??ENDIF0746
	ld	a,47H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,4FH
	ld	(PREVTOK),a
	ret
??ENDIF0746:
	ld	a,(??AUTO+14)
	cp	88H
	jp	nz,??ENDIF0748
	ld	a,4CH
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,54H
	ld	(PREVTOK),a
	ret
??ENDIF0748:
	ld	a,(??AUTO+14)
	cp	91H
	jp	nz,??ENDIF0750
	ld	a,50H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,54H
	ld	(PREVTOK),a
	ret
??ENDIF0750:
	ld	a,(??AUTO+14)
	cp	85H
	jp	nz,??ENDIF0752
	ld	a,49H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,50H
	call	EMIT
	ld	a,55H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,54H
	ld	(PREVTOK),a
	ret
??ENDIF0752:
	ld	a,(??AUTO+14)
	cp	86H
	jp	nz,??ENDIF0754
	ld	a,44H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,4DH
	call	EMIT
	ld	a,4DH
	ld	(PREVTOK),a
	ret
??ENDIF0754:
	ld	a,(??AUTO+14)
	cp	87H
	jp	nz,??ENDIF0756
	ld	a,52H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,44H
	call	EMIT
	ld	a,44H
	ld	(PREVTOK),a
	ret
??ENDIF0756:
	ld	a,(??AUTO+14)
	cp	84H
	jp	nz,??ENDIF0758
	ld	a,44H
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,41H
	ld	(PREVTOK),a
	ret
??ENDIF0758:
	ld	a,(??AUTO+14)
	cp	0D5H
	jp	nz,??ENDIF0760
	ld	a,4EH
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,54H
	ld	(PREVTOK),a
	ret
??ENDIF0760:
	ld	a,(??AUTO+14)
	cp	95H
	jp	nz,??ENDIF0762
	ld	a,4FH
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,4EH
	ld	(PREVTOK),a
	ret
??ENDIF0762:
	ld	a,(??AUTO+14)
	cp	0B4H
	jp	nz,??ENDIF0764
	ld	a,57H
	call	EMIT
	ld	a,48H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,4CH
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,45H
	ld	(PREVTOK),a
	ret
??ENDIF0764:
	ld	a,(??AUTO+14)
	cp	98H
	jp	nz,??ENDIF0766
	ld	a,44H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,46H
	call	EMIT
	ld	a,46H
	ld	(PREVTOK),a
	ret
??ENDIF0766:
	ld	a,(??AUTO+14)
	cp	99H
	jp	nz,??ENDIF0768
	ld	a,50H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,4BH
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,45H
	ld	(PREVTOK),a
	ret
??ENDIF0768:
	ld	a,(??AUTO+14)
	cp	97H
	jp	nz,??ENDIF0770
	ld	a,57H
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,54H
	ld	(PREVTOK),a
	ret
??ENDIF0770:
	ld	a,(??AUTO+14)
	cp	9DH
	jp	nz,??ENDIF0772
	ld	a,4FH
	call	EMIT
	ld	a,55H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,54H
	ld	(PREVTOK),a
	ret
??ENDIF0772:
	ld	a,(??AUTO+14)
	cp	0B6H
	jp	nz,??ENDIF0774
	ld	a,43H
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,4CH
	call	EMIT
	ld	a,4CH
	call	EMIT
	ld	a,4CH
	ld	(PREVTOK),a
	ret
??ENDIF0774:
	ld	a,(??AUTO+14)
	cp	0A8H
	jp	nz,??ENDIF0776
	ld	a,45H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,52H
	ld	(PREVTOK),a
	ret
??ENDIF0776:
	ld	a,(??AUTO+14)
	cp	0A9H
	jp	nz,??ENDIF0778
	ld	a,52H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,55H
	call	EMIT
	ld	a,4DH
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,45H
	ld	(PREVTOK),a
	ret
??ENDIF0778:
	ld	a,(??AUTO+14)
	cp	81H
	jp	nz,??ELSE0779
	ld	a,45H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,44H
	call	EMIT
	jp	??ENDIF0780
??ELSE0779:
	ld	a,(??AUTO+14)
	cp	83H
	jp	nz,??ELSE0781
	ld	a,4EH
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,58H
	call	EMIT
	ld	a,54H
	call	EMIT
	jp	??ENDIF0782
??ELSE0781:
	ld	a,(??AUTO+14)
	cp	8AH
	jp	nz,??ELSE0783
	ld	a,52H
	call	EMIT
	ld	a,55H
	call	EMIT
	ld	a,4EH
	call	EMIT
	jp	??ENDIF0784
??ELSE0783:
	ld	a,(??AUTO+14)
	cp	8CH
	jp	nz,??ELSE0785
	ld	a,52H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,45H
	call	EMIT
	jp	??ENDIF0786
??ELSE0785:
	ld	a,(??AUTO+14)
	cp	8EH
	jp	nz,??ELSE0787
	ld	a,52H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,55H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,4EH
	call	EMIT
	jp	??ENDIF0788
??ELSE0787:
	ld	a,(??AUTO+14)
	cp	8FH
	jp	nz,??ELSE0789
	ld	a,52H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,4DH
	call	EMIT
	jp	??ENDIF0790
??ELSE0789:
	ld	a,(??AUTO+14)
	cp	90H
	jp	nz,??ELSE0791
	ld	a,53H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,50H
	call	EMIT
	jp	??ENDIF0792
??ELSE0791:
	ld	a,(??AUTO+14)
	cp	92H
	jp	nz,??ELSE0793
	ld	a,43H
	call	EMIT
	ld	a,4CH
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,52H
	call	EMIT
	jp	??ENDIF0794
??ELSE0793:
	ld	a,(??AUTO+14)
	cp	93H
	jp	nz,??ELSE0795
	ld	a,4CH
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,54H
	call	EMIT
	jp	??ENDIF0796
??ELSE0795:
	ld	a,(??AUTO+14)
	cp	94H
	jp	nz,??ELSE0797
	ld	a,4EH
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,57H
	call	EMIT
	jp	??ENDIF0798
??ELSE0797:
	ld	a,(??AUTO+14)
	cp	96H
	jp	nz,??ELSE0799
	ld	a,4EH
	call	EMIT
	ld	a,55H
	call	EMIT
	ld	a,4CH
	call	EMIT
	ld	a,4CH
	call	EMIT
	jp	??ENDIF0800
??ELSE0799:
	ld	a,(??AUTO+14)
	cp	9AH
	jp	nz,??ELSE0801
	ld	a,43H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,54H
	call	EMIT
	jp	??ENDIF0802
??ELSE0801:
	ld	a,(??AUTO+14)
	cp	9BH
	jp	nz,??ELSE0803
	ld	a,4CH
	call	EMIT
	ld	a,50H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,54H
	call	EMIT
	jp	??ENDIF0804
??ELSE0803:
	ld	a,(??AUTO+14)
	cp	9FH
	jp	nz,??ELSE0805
	ld	a,4CH
	call	EMIT
	ld	a,4CH
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,54H
	call	EMIT
	jp	??ENDIF0806
??ELSE0805:
	ld	a,(??AUTO+14)
	cp	0A0H
	jp	nz,??ELSE0807
	ld	a,4EH
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,43H
	call	EMIT
	ld	a,45H
	call	EMIT
	jp	??ENDIF0808
??ELSE0807:
	ld	a,(??AUTO+14)
	cp	0A1H
	jp	nz,??ELSE0809
	ld	a,57H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,44H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,48H
	call	EMIT
	jp	??ENDIF0810
??ELSE0809:
	ld	a,(??AUTO+14)
	cp	0A3H
	jp	nz,??ELSE0811
	ld	a,54H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,4EH
	call	EMIT
	jp	??ENDIF0812
??ELSE0811:
	ld	a,(??AUTO+14)
	cp	0A4H
	jp	nz,??ELSE0813
	ld	a,54H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,46H
	call	EMIT
	ld	a,46H
	call	EMIT
	jp	??ENDIF0814
??ELSE0813:
	ld	a,(??AUTO+14)
	cp	0A5H
	jp	nz,??ELSE0815
	ld	a,53H
	call	EMIT
	ld	a,57H
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,50H
	call	EMIT
	jp	??ENDIF0816
??ELSE0815:
	ld	a,(??AUTO+14)
	cp	0A6H
	jp	nz,??ELSE0817
	ld	a,45H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,45H
	call	EMIT
	jp	??ENDIF0818
??ELSE0817:
	ld	a,(??AUTO+14)
	cp	0A7H
	jp	nz,??ELSE0819
	ld	a,45H
	call	EMIT
	ld	a,44H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,54H
	call	EMIT
	jp	??ENDIF0820
??ELSE0819:
	ld	a,(??AUTO+14)
	cp	0AAH
	jp	nz,??ELSE0821
	ld	a,44H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,4CH
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,45H
	call	EMIT
	jp	??ENDIF0822
??ELSE0821:
	ld	a,(??AUTO+14)
	cp	0ABH
	jp	nz,??ELSE0823
	ld	a,41H
	call	EMIT
	ld	a,55H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,4FH
	call	EMIT
	jp	??ENDIF0824
??ELSE0823:
	ld	a,(??AUTO+14)
	cp	0ACH
	jp	nz,??ELSE0825
	ld	a,52H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,55H
	call	EMIT
	ld	a,4DH
	call	EMIT
	jp	??ENDIF0826
??ELSE0825:
	ld	a,(??AUTO+14)
	cp	0ADH
	jp	nz,??ELSE0827
	ld	a,44H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,46H
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,52H
	call	EMIT
	jp	??ENDIF0828
??ELSE0827:
	ld	a,(??AUTO+14)
	cp	0AEH
	jp	nz,??ELSE0829
	ld	a,44H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,46H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,54H
	call	EMIT
	jp	??ENDIF0830
??ELSE0829:
	ld	a,(??AUTO+14)
	cp	0AFH
	jp	nz,??ELSE0831
	ld	a,44H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,46H
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,47H
	call	EMIT
	jp	??ENDIF0832
??ELSE0831:
	ld	a,(??AUTO+14)
	cp	0B0H
	jp	nz,??ELSE0833
	ld	a,44H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,46H
	call	EMIT
	ld	a,44H
	call	EMIT
	ld	a,42H
	call	EMIT
	ld	a,4CH
	call	EMIT
	jp	??ENDIF0834
??ELSE0833:
	ld	a,(??AUTO+14)
	cp	0B1H
	jp	nz,??ELSE0835
	ld	a,4CH
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,45H
	call	EMIT
	jp	??ENDIF0836
??ELSE0835:
	ld	a,(??AUTO+14)
	cp	0B2H
	jp	nz,??ELSE0837
	ld	a,57H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,45H
	call	EMIT
	jp	??ENDIF0838
??ELSE0837:
	ld	a,(??AUTO+14)
	cp	0B3H
	jp	nz,??ELSE0839
	ld	a,43H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,4DH
	call	EMIT
	ld	a,4DH
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,4EH
	call	EMIT
	jp	??ENDIF0840
??ELSE0839:
	ld	a,(??AUTO+14)
	cp	0B5H
	jp	nz,??ELSE0841
	ld	a,57H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,44H
	call	EMIT
	jp	??ENDIF0842
??ELSE0841:
	ld	a,(??AUTO+14)
	cp	0B7H
	jp	nz,??ELSE0843
	ld	a,57H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,45H
	call	EMIT
	jp	??ENDIF0844
??ELSE0843:
	ld	a,(??AUTO+14)
	cp	0B8H
	jp	nz,??ELSE0845
	ld	a,43H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,4DH
	call	EMIT
	ld	a,4DH
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,4EH
	call	EMIT
	jp	??ENDIF0846
??ELSE0845:
	ld	a,(??AUTO+14)
	cp	0B9H
	jp	nz,??ELSE0847
	ld	a,43H
	call	EMIT
	ld	a,48H
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,4EH
	call	EMIT
	jp	??ENDIF0848
??ELSE0847:
	ld	a,(??AUTO+14)
	cp	0BAH
	jp	nz,??ELSE0849
	ld	a,4FH
	call	EMIT
	ld	a,50H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,4EH
	call	EMIT
	jp	??ENDIF0850
??ELSE0849:
	ld	a,(??AUTO+14)
	cp	0BBH
	jp	nz,??ELSE0851
	ld	a,52H
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,44H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,4DH
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,5AH
	call	EMIT
	ld	a,45H
	call	EMIT
	jp	??ENDIF0852
??ELSE0851:
	ld	a,(??AUTO+14)
	cp	0BDH
	jp	nz,??ELSE0853
	ld	a,53H
	call	EMIT
	ld	a,59H
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,4DH
	call	EMIT
	jp	??ENDIF0854
??ELSE0853:
	ld	a,(??AUTO+14)
	cp	0BEH
	jp	nz,??ELSE0855
	ld	a,4DH
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,47H
	call	EMIT
	ld	a,45H
	call	EMIT
	jp	??ENDIF0856
??ELSE0855:
	ld	a,(??AUTO+14)
	cp	0BFH
	jp	nz,??ELSE0857
	ld	a,4FH
	call	EMIT
	ld	a,50H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,4EH
	call	EMIT
	jp	??ENDIF0858
??ELSE0857:
	ld	a,(??AUTO+14)
	cp	0C0H
	jp	nz,??ELSE0859
	ld	a,46H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,4CH
	call	EMIT
	ld	a,44H
	call	EMIT
	jp	??ENDIF0860
??ELSE0859:
	ld	a,(??AUTO+14)
	cp	0C1H
	jp	nz,??ELSE0861
	ld	a,47H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,54H
	call	EMIT
	jp	??ENDIF0862
??ELSE0861:
	ld	a,(??AUTO+14)
	cp	0C2H
	jp	nz,??ELSE0863
	ld	a,50H
	call	EMIT
	ld	a,55H
	call	EMIT
	ld	a,54H
	call	EMIT
	jp	??ENDIF0864
??ELSE0863:
	ld	a,(??AUTO+14)
	cp	0C3H
	jp	nz,??ELSE0865
	ld	a,43H
	call	EMIT
	ld	a,4CH
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,45H
	call	EMIT
	jp	??ENDIF0866
??ELSE0865:
	ld	a,(??AUTO+14)
	cp	0C4H
	jp	nz,??ELSE0867
	ld	a,4CH
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,44H
	call	EMIT
	jp	??ENDIF0868
??ELSE0867:
	ld	a,(??AUTO+14)
	cp	0C5H
	jp	nz,??ELSE0869
	ld	a,4DH
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,47H
	call	EMIT
	ld	a,45H
	call	EMIT
	jp	??ENDIF0870
??ELSE0869:
	ld	a,(??AUTO+14)
	cp	0C6H
	jp	nz,??ELSE0871
	ld	a,46H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,4CH
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,53H
	call	EMIT
	jp	??ENDIF0872
??ELSE0871:
	ld	a,(??AUTO+14)
	cp	0C7H
	jp	nz,??ELSE0873
	ld	a,4EH
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,4DH
	call	EMIT
	ld	a,45H
	call	EMIT
	jp	??ENDIF0874
??ELSE0873:
	ld	a,(??AUTO+14)
	cp	0C8H
	jp	nz,??ELSE0875
	ld	a,4BH
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,4CH
	call	EMIT
	ld	a,4CH
	call	EMIT
	jp	??ENDIF0876
??ELSE0875:
	ld	a,(??AUTO+14)
	cp	0C9H
	jp	nz,??ELSE0877
	ld	a,4CH
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,54H
	call	EMIT
	jp	??ENDIF0878
??ELSE0877:
	ld	a,(??AUTO+14)
	cp	0CAH
	jp	nz,??ELSE0879
	ld	a,52H
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,54H
	call	EMIT
	jp	??ENDIF0880
??ELSE0879:
	ld	a,(??AUTO+14)
	cp	0CBH
	jp	nz,??ELSE0881
	ld	a,53H
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,56H
	call	EMIT
	ld	a,45H
	call	EMIT
	jp	??ENDIF0882
??ELSE0881:
	ld	a,(??AUTO+14)
	cp	0CCH
	jp	nz,??ELSE0883
	ld	a,52H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,54H
	call	EMIT
	jp	??ENDIF0884
??ELSE0883:
	ld	a,(??AUTO+14)
	cp	0D0H
	jp	nz,??ELSE0885
	ld	a,54H
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,42H
	call	EMIT
	ld	a,28H
	call	EMIT
	jp	??ENDIF0886
??ELSE0885:
	ld	a,(??AUTO+14)
	cp	0D2H
	jp	nz,??ELSE0887
	ld	a,55H
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,52H
	call	EMIT
	jp	??ENDIF0888
??ELSE0887:
	ld	a,(??AUTO+14)
	cp	0D3H
	jp	nz,??ELSE0889
	ld	a,46H
	call	EMIT
	ld	a,4EH
	call	EMIT
	jp	??ENDIF0890
??ELSE0889:
	ld	a,(??AUTO+14)
	cp	0D4H
	jp	nz,??ELSE0891
	ld	a,53H
	call	EMIT
	ld	a,50H
	call	EMIT
	ld	a,43H
	call	EMIT
	ld	a,28H
	call	EMIT
	jp	??ENDIF0892
??ELSE0891:
	ld	a,(??AUTO+14)
	cp	0D6H
	jp	nz,??ELSE0893
	ld	a,45H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,4CH
	call	EMIT
	jp	??ENDIF0894
??ELSE0893:
	ld	a,(??AUTO+14)
	cp	0D7H
	jp	nz,??ELSE0895
	ld	a,45H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,52H
	call	EMIT
	jp	??ENDIF0896
??ELSE0895:
	ld	a,(??AUTO+14)
	cp	0D8H
	jp	nz,??ELSE0897
	ld	a,53H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,47H
	call	EMIT
	ld	a,24H
	call	EMIT
	jp	??ENDIF0898
??ELSE0897:
	ld	a,(??AUTO+14)
	cp	0DAH
	jp	nz,??ELSE0899
	ld	a,49H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,52H
	call	EMIT
	jp	??ENDIF0900
??ELSE0899:
	ld	a,(??AUTO+14)
	cp	0DBH
	jp	nz,??ELSE0901
	ld	a,41H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,4BH
	call	EMIT
	jp	??ENDIF0902
??ELSE0901:
	ld	a,(??AUTO+14)
	cp	0DCH
	jp	nz,??ELSE0903
	ld	a,56H
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,50H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,52H
	call	EMIT
	JR ??ENDIF0904
??ELSE0903:
	ld	a,(??AUTO+14)
	cp	0DDH
	jp	nz,??ELSE0905
	ld	a,49H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,4BH
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,59H
	call	EMIT
	ld	a,24H
	call	EMIT
	JR ??ENDIF0906
??ELSE0905:
	ld	a,5BH
	call	EMIT
	ld	a,(??AUTO+14)
	ld	l,a
	ld	h,0
	call	EMITHEX
	ld	a,5DH
	call	EMIT
??ENDIF0906:
??ENDIF0904:
??ENDIF0902:
??ENDIF0900:
??ENDIF0898:
??ENDIF0896:
??ENDIF0894:
??ENDIF0892:
??ENDIF0890:
??ENDIF0888:
??ENDIF0886:
??ENDIF0884:
??ENDIF0882:
??ENDIF0880:
??ENDIF0878:
??ENDIF0876:
??ENDIF0874:
??ENDIF0872:
??ENDIF0870:
??ENDIF0868:
??ENDIF0866:
??ENDIF0864:
??ENDIF0862:
??ENDIF0860:
??ENDIF0858:
??ENDIF0856:
??ENDIF0854:
??ENDIF0852:
??ENDIF0850:
??ENDIF0848:
??ENDIF0846:
??ENDIF0844:
??ENDIF0842:
??ENDIF0840:
??ENDIF0838:
??ENDIF0836:
??ENDIF0834:
??ENDIF0832:
??ENDIF0830:
??ENDIF0828:
??ENDIF0826:
??ENDIF0824:
??ENDIF0822:
??ENDIF0820:
??ENDIF0818:
??ENDIF0816:
??ENDIF0814:
??ENDIF0812:
??ENDIF0810:
??ENDIF0808:
??ENDIF0806:
??ENDIF0804:
??ENDIF0802:
??ENDIF0800:
??ENDIF0798:
??ENDIF0796:
??ENDIF0794:
??ENDIF0792:
??ENDIF0790:
??ENDIF0788:
??ENDIF0786:
??ENDIF0784:
??ENDIF0782:
??ENDIF0780:
	ld	a,41H
	ld	(PREVTOK),a
	ret

; Module: MODULE

; Procedure EMITTOKEN2
EMITTOKEN2:
	ld	(??AUTO+14),a
	call	NEEDSPACEBEFOREKW
	or	a
	jp	z,??ENDIF0908
	ld	a,20H
	call	EMIT
??ENDIF0908:
	ld	a,(??AUTO+14)
	cp	81H
	jp	nz,??ELSE0909
	ld	a,4CH
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,46H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,24H
	call	EMIT
	jp	??ENDIF0910
??ELSE0909:
	ld	a,(??AUTO+14)
	cp	82H
	jp	nz,??ELSE0911
	ld	a,52H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,47H
	call	EMIT
	ld	a,48H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,24H
	call	EMIT
	jp	??ENDIF0912
??ELSE0911:
	ld	a,(??AUTO+14)
	cp	83H
	jp	nz,??ELSE0913
	ld	a,4DH
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,44H
	call	EMIT
	ld	a,24H
	call	EMIT
	jp	??ENDIF0914
??ELSE0913:
	ld	a,(??AUTO+14)
	cp	84H
	jp	nz,??ELSE0915
	ld	a,53H
	call	EMIT
	ld	a,47H
	call	EMIT
	ld	a,4EH
	call	EMIT
	jp	??ENDIF0916
??ELSE0915:
	ld	a,(??AUTO+14)
	cp	85H
	jp	nz,??ELSE0917
	ld	a,49H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,54H
	call	EMIT
	jp	??ENDIF0918
??ELSE0917:
	ld	a,(??AUTO+14)
	cp	86H
	jp	nz,??ELSE0919
	ld	a,41H
	call	EMIT
	ld	a,42H
	call	EMIT
	ld	a,53H
	call	EMIT
	jp	??ENDIF0920
??ELSE0919:
	ld	a,(??AUTO+14)
	cp	87H
	jp	nz,??ELSE0921
	ld	a,53H
	call	EMIT
	ld	a,51H
	call	EMIT
	ld	a,52H
	call	EMIT
	jp	??ENDIF0922
??ELSE0921:
	ld	a,(??AUTO+14)
	cp	88H
	jp	nz,??ELSE0923
	ld	a,52H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,44H
	call	EMIT
	jp	??ENDIF0924
??ELSE0923:
	ld	a,(??AUTO+14)
	cp	89H
	jp	nz,??ELSE0925
	ld	a,53H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,4EH
	call	EMIT
	jp	??ENDIF0926
??ELSE0925:
	ld	a,(??AUTO+14)
	cp	8AH
	jp	nz,??ELSE0927
	ld	a,4CH
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,47H
	call	EMIT
	jp	??ENDIF0928
??ELSE0927:
	ld	a,(??AUTO+14)
	cp	8BH
	jp	nz,??ELSE0929
	ld	a,45H
	call	EMIT
	ld	a,58H
	call	EMIT
	ld	a,50H
	call	EMIT
	jp	??ENDIF0930
??ELSE0929:
	ld	a,(??AUTO+14)
	cp	8CH
	jp	nz,??ELSE0931
	ld	a,43H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,53H
	call	EMIT
	jp	??ENDIF0932
??ELSE0931:
	ld	a,(??AUTO+14)
	cp	8DH
	jp	nz,??ELSE0933
	ld	a,54H
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,4EH
	call	EMIT
	jp	??ENDIF0934
??ELSE0933:
	ld	a,(??AUTO+14)
	cp	8EH
	jp	nz,??ELSE0935
	ld	a,41H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,4EH
	call	EMIT
	jp	??ENDIF0936
??ELSE0935:
	ld	a,(??AUTO+14)
	cp	8FH
	jp	nz,??ELSE0937
	ld	a,46H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,45H
	call	EMIT
	jp	??ENDIF0938
??ELSE0937:
	ld	a,(??AUTO+14)
	cp	90H
	jp	nz,??ELSE0939
	ld	a,49H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,50H
	call	EMIT
	jp	??ENDIF0940
??ELSE0939:
	ld	a,(??AUTO+14)
	cp	91H
	jp	nz,??ELSE0941
	ld	a,50H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,53H
	call	EMIT
	jp	??ENDIF0942
??ELSE0941:
	ld	a,(??AUTO+14)
	cp	92H
	jp	nz,??ELSE0943
	ld	a,4CH
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,4EH
	call	EMIT
	jp	??ENDIF0944
??ELSE0943:
	ld	a,(??AUTO+14)
	cp	93H
	jp	nz,??ELSE0945
	ld	a,53H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,24H
	call	EMIT
	jp	??ENDIF0946
??ELSE0945:
	ld	a,(??AUTO+14)
	cp	94H
	jp	nz,??ELSE0947
	ld	a,56H
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,4CH
	call	EMIT
	jp	??ENDIF0948
??ELSE0947:
	ld	a,(??AUTO+14)
	cp	95H
	jp	nz,??ELSE0949
	ld	a,41H
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,43H
	call	EMIT
	jp	??ENDIF0950
??ELSE0949:
	ld	a,(??AUTO+14)
	cp	96H
	jp	nz,??ELSE0951
	ld	a,43H
	call	EMIT
	ld	a,48H
	call	EMIT
	ld	a,52H
	call	EMIT
	ld	a,24H
	call	EMIT
	jp	??ENDIF0952
??ELSE0951:
	ld	a,(??AUTO+14)
	cp	97H
	jp	nz,??ELSE0953
	ld	a,50H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,4BH
	call	EMIT
	jp	??ENDIF0954
??ELSE0953:
	ld	a,(??AUTO+14)
	cp	98H
	jp	nz,??ELSE0955
	ld	a,53H
	call	EMIT
	ld	a,50H
	call	EMIT
	ld	a,41H
	call	EMIT
	ld	a,43H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,24H
	call	EMIT
	jp	??ENDIF0956
??ELSE0955:
	ld	a,(??AUTO+14)
	cp	99H
	jp	nz,??ELSE0957
	ld	a,4FH
	call	EMIT
	ld	a,43H
	call	EMIT
	ld	a,54H
	call	EMIT
	ld	a,24H
	call	EMIT
	jp	??ENDIF0958
??ELSE0957:
	ld	a,(??AUTO+14)
	cp	9AH
	jp	nz,??ELSE0959
	ld	a,48H
	call	EMIT
	ld	a,45H
	call	EMIT
	ld	a,58H
	call	EMIT
	ld	a,24H
	call	EMIT
	jp	??ENDIF0960
??ELSE0959:
	ld	a,(??AUTO+14)
	cp	9BH
	jp	nz,??ELSE0961
	ld	a,4CH
	call	EMIT
	ld	a,50H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,53H
	call	EMIT
	jp	??ENDIF0962
??ELSE0961:
	ld	a,(??AUTO+14)
	cp	9CH
	jp	nz,??ELSE0963
	ld	a,43H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,54H
	call	EMIT
	jp	??ENDIF0964
??ELSE0963:
	ld	a,(??AUTO+14)
	cp	9DH
	jp	nz,??ELSE0965
	ld	a,43H
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,4EH
	call	EMIT
	ld	a,47H
	call	EMIT
	jp	??ENDIF0966
??ELSE0965:
	ld	a,(??AUTO+14)
	cp	9EH
	jp	nz,??ELSE0967
	ld	a,43H
	call	EMIT
	ld	a,44H
	call	EMIT
	ld	a,42H
	call	EMIT
	ld	a,4CH
	call	EMIT
	jp	??ENDIF0968
??ELSE0967:
	ld	a,(??AUTO+14)
	cp	9FH
	jp	nz,??ELSE0969
	ld	a,46H
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,58H
	call	EMIT
	jp	??ENDIF0970
??ELSE0969:
	ld	a,(??AUTO+14)
	cp	0ABH
	jp	nz,??ELSE0971
	ld	a,43H
	call	EMIT
	ld	a,56H
	call	EMIT
	ld	a,49H
	call	EMIT
	jp	??ENDIF0972
??ELSE0971:
	ld	a,(??AUTO+14)
	cp	0ACH
	jp	nz,??ELSE0973
	ld	a,43H
	call	EMIT
	ld	a,56H
	call	EMIT
	ld	a,53H
	call	EMIT
	jp	??ENDIF0974
??ELSE0973:
	ld	a,(??AUTO+14)
	cp	0ADH
	jp	nz,??ELSE0975
	ld	a,43H
	call	EMIT
	ld	a,56H
	call	EMIT
	ld	a,44H
	call	EMIT
	jp	??ENDIF0976
??ELSE0975:
	ld	a,(??AUTO+14)
	cp	0AEH
	jp	nz,??ELSE0977
	ld	a,45H
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,46H
	call	EMIT
	jp	??ENDIF0978
??ELSE0977:
	ld	a,(??AUTO+14)
	cp	0B0H
	jp	nz,??ELSE0979
	ld	a,4CH
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,43H
	call	EMIT
	jp	??ENDIF0980
??ELSE0979:
	ld	a,(??AUTO+14)
	cp	0B1H
	jp	nz,??ELSE0981
	ld	a,4CH
	call	EMIT
	ld	a,4FH
	call	EMIT
	ld	a,46H
	call	EMIT
	jp	??ENDIF0982
??ELSE0981:
	ld	a,(??AUTO+14)
	cp	0B2H
	jp	nz,??ELSE0983
	ld	a,4DH
	call	EMIT
	ld	a,4BH
	call	EMIT
	ld	a,49H
	call	EMIT
	ld	a,24H
	call	EMIT
	jp	??ENDIF0984
??ELSE0983:
	ld	a,(??AUTO+14)
	cp	0B3H
	jp	nz,??ELSE0985
	ld	a,4DH
	call	EMIT
	ld	a,4BH
	call	EMIT
	ld	a,53H
	call	EMIT
	ld	a,24H
	call	EMIT
	JR ??ENDIF0986
??ELSE0985:
	ld	a,(??AUTO+14)
	cp	0B4H
	jp	nz,??ELSE0987
	ld	a,4DH
	call	EMIT
	ld	a,4BH
	call	EMIT
	ld	a,44H
	call	EMIT
	ld	a,24H
	call	EMIT
	JR ??ENDIF0988
??ELSE0987:
	ld	a,5BH
	call	EMIT
	ld	a,46H
	call	EMIT
	ld	a,46H
	call	EMIT
	ld	a,5DH
	call	EMIT
	ld	a,5BH
	call	EMIT
	ld	a,(??AUTO+14)
	ld	l,a
	ld	h,0
	call	EMITHEX
	ld	a,5DH
	call	EMIT
??ENDIF0988:
??ENDIF0986:
??ENDIF0984:
??ENDIF0982:
??ENDIF0980:
??ENDIF0978:
??ENDIF0976:
??ENDIF0974:
??ENDIF0972:
??ENDIF0970:
??ENDIF0968:
??ENDIF0966:
??ENDIF0964:
??ENDIF0962:
??ENDIF0960:
??ENDIF0958:
??ENDIF0956:
??ENDIF0954:
??ENDIF0952:
??ENDIF0950:
??ENDIF0948:
??ENDIF0946:
??ENDIF0944:
??ENDIF0942:
??ENDIF0940:
??ENDIF0938:
??ENDIF0936:
??ENDIF0934:
??ENDIF0932:
??ENDIF0930:
??ENDIF0928:
??ENDIF0926:
??ENDIF0924:
??ENDIF0922:
??ENDIF0920:
??ENDIF0918:
??ENDIF0916:
??ENDIF0914:
??ENDIF0912:
??ENDIF0910:
	ld	a,41H
	ld	(PREVTOK),a
	ret

; Module: MODULE

; Procedure UNPROTECT
UNPROTECT:
	ld	a,0FFH
	ld	b,a
	ld	hl,(INBUFPTR)
	ld	(hl),b
	ld	a,0DH
	ld	(??AUTO+4),a
	ld	a,0BH
	ld	(??AUTO+5),a
	ld	hl,1
	ld	(??AUTO+0),hl
??WHILE0989:
	ld	hl,(??AUTO+0)
	push	hl
	ld	hl,(INBUFEND)
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??WEND0990
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(??AUTO+0)
	pop	de
	add	hl,de
	ld	a,(hl)
	ld	(??AUTO+2),a
	ld	a,(??AUTO+4)
	ld	l,a
	ld	h,0
	ld	de,SINCON
	add	hl,de
	ld	a,(hl)
	ld	(??AUTO+6),a
	ld	a,(??AUTO+5)
	ld	l,a
	ld	h,0
	ld	de,ATNCON
	add	hl,de
	ld	a,(hl)
	ld	(??AUTO+7),a
	ld	a,(??AUTO+6)
	ld	b,a
	ld	a,(??AUTO+7)
	xor	b
	ld	(??AUTO+8),a
	ld	a,(??AUTO+5)
	ld	b,a
	ld	a,(??AUTO+2)
	sub	b
	ld	(??AUTO+3),a
	ld	a,(??AUTO+3)
	ld	b,a
	ld	a,(??AUTO+8)
	xor	b
	ld	(??AUTO+3),a
	ld	a,(??AUTO+3)
	ld	b,a
	ld	a,(??AUTO+4)
	add	a,b
	ld	(??AUTO+3),a
	ld	a,(??AUTO+3)
	ld	b,a
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(??AUTO+0)
	pop	de
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+4)
	sub	1
	ld	(??AUTO+4),a
	ld	a,(??AUTO+4)
    OR A
	jp	nz,??ENDIF0992
	ld	a,0DH
	ld	(??AUTO+4),a
??ENDIF0992:
	ld	a,(??AUTO+5)
	sub	1
	ld	(??AUTO+5),a
	ld	a,(??AUTO+5)
    OR A
	jp	nz,??ENDIF0994
	ld	a,0BH
	ld	(??AUTO+5),a
??ENDIF0994:
	ld	hl,(??AUTO+0)
	inc	hl
	ld	(??AUTO+0),hl
	jp	??WHILE0989
??WEND0990:
	ret

; Module: MODULE

; Procedure DETOKLINE
DETOKLINE:
	xor	a
	ld	(??AUTO+7),a
??WHILE0995:
	ld	a,(??AUTO+7)
	or	a
	jp	nz,??WEND0996
	ld	hl,(BASPOS)
	push	hl
	ld	hl,(INBUFEND)
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??WEND0996
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(BASPOS)
	pop	de
	add	hl,de
	ld	a,(hl)
	ld	(??AUTO+6),a
	ld	a,(??AUTO+6)
    OR A
	jp	nz,??ELSE0997
	ld	a,1
	ld	(??AUTO+7),a
	jp	??ENDIF0998
??ELSE0997:
	ld	a,(??AUTO+6)
	cp	20H
	jp	c,??ELSE0999
	ld	a,(??AUTO+6)
	cp	7FH
	jp	c,??SKIP1001
	jp	z,??SKIP1001
	JR ??ELSE0999
??SKIP1001:
	ld	a,(??AUTO+6)
	cp	20H
	jp	nz,??ELSE1002
	ld	a,(PREVTOK)
	cp	20H
	jp	nz,??ELSE1002
	JP ??ENDIF1000
??ELSE1002:
	ld	a,(??AUTO+6)
	call	EMIT
	ld	a,(??AUTO+6)
	ld	(PREVTOK),a
??ENDIF1003:
	jp	??ENDIF1000
??ELSE0999:
	ld	a,(??AUTO+6)
	cp	0FFH
	jp	nz,??ELSE1004
	ld	hl,(BASPOS)
	inc	hl
	ld	(BASPOS),hl
	ld	hl,(BASPOS)
	push	hl
	ld	hl,(INBUFEND)
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??ENDIF1007
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(BASPOS)
	pop	de
	add	hl,de
	ld	a,(hl)
	call	EMITTOKEN2
??ENDIF1007:
	jp	??ENDIF1005
??ELSE1004:
	ld	a,(??AUTO+6)
	cp	80H
	jp	c,??ELSE1008
	ld	a,(??AUTO+6)
	cp	0FEH
	jp	c,??SKIP1010
	jp	z,??SKIP1010
	JR ??ELSE1008
??SKIP1010:
	ld	a,(??AUTO+6)
	call	EMITTOKEN
	jp	??ENDIF1009
??ELSE1008:
	ld	a,(??AUTO+6)
	cp	0FH
	jp	nz,??ELSE1011
	ld	hl,(BASPOS)
	inc	hl
	ld	(BASPOS),hl
	ld	hl,(BASPOS)
	push	hl
	ld	hl,(INBUFEND)
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??ENDIF1014
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(BASPOS)
	pop	de
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	call	EMITNUM
??ENDIF1014:
	ld	a,30H
	ld	(PREVTOK),a
	jp	??ENDIF1012
??ELSE1011:
	ld	a,(??AUTO+6)
	cp	0EH
	jp	z,??ORTRUE1017
	ld	a,(??AUTO+6)
	cp	1CH
	jp	nz,??ELSE1015
??ORTRUE1017:
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(BASPOS)
	inc	hl
	pop	de
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	push	hl
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(BASPOS)
	inc	hl
	inc	hl
	pop	de
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	ld	h,l
	ld	l,0
	ld	de,0
	ex	de,hl
	pop	hl
	add	hl,de
	ld	(??AUTO+8),hl
	ld	hl,(??AUTO+8)
	call	EMITNUM
	ld	hl,(BASPOS)
	inc	hl
	inc	hl
	ld	(BASPOS),hl
	ld	a,30H
	ld	(PREVTOK),a
	jp	??ENDIF1016
??ELSE1015:
	ld	a,(??AUTO+6)
	cp	0CH
	jp	nz,??ELSE1018
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(BASPOS)
	inc	hl
	pop	de
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	push	hl
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(BASPOS)
	inc	hl
	inc	hl
	pop	de
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	ld	h,l
	ld	l,0
	ld	de,0
	ex	de,hl
	pop	hl
	add	hl,de
	ld	(??AUTO+8),hl
	ld	hl,(??AUTO+8)
	call	EMITHEX
	ld	hl,(BASPOS)
	inc	hl
	inc	hl
	ld	(BASPOS),hl
	ld	a,30H
	ld	(PREVTOK),a
	jp	??ENDIF1019
??ELSE1018:
	ld	a,(??AUTO+6)
	cp	0BH
	jp	nz,??ELSE1020
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(BASPOS)
	inc	hl
	pop	de
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	push	hl
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(BASPOS)
	inc	hl
	inc	hl
	pop	de
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	ld	h,l
	ld	l,0
	ld	de,0
	ex	de,hl
	pop	hl
	add	hl,de
	ld	(??AUTO+8),hl
	ld	hl,(??AUTO+8)
	call	EMITOCT
	ld	hl,(BASPOS)
	inc	hl
	inc	hl
	ld	(BASPOS),hl
	ld	a,30H
	ld	(PREVTOK),a
	jp	??ENDIF1021
??ELSE1020:
	ld	a,(??AUTO+6)
	cp	1DH
	jp	nz,??ELSE1022
	ld	a,3FH
	call	EMIT
	ld	a,46H
	call	EMIT
	ld	a,34H
	call	EMIT
	ld	a,3FH
	call	EMIT
	ld	hl,(BASPOS)
	inc	hl
	inc	hl
	inc	hl
	inc	hl
	ld	(BASPOS),hl
	ld	a,30H
	ld	(PREVTOK),a
	jp	??ENDIF1023
??ELSE1022:
	ld	a,(??AUTO+6)
	cp	1FH
	jp	nz,??ELSE1024
	ld	a,3FH
	call	EMIT
	ld	a,46H
	call	EMIT
	ld	a,38H
	call	EMIT
	ld	a,3FH
	call	EMIT
	ld	hl,(BASPOS)
	ld	de,8
	add	hl,de
	ld	(BASPOS),hl
	ld	a,30H
	ld	(PREVTOK),a
	JR ??ENDIF1025
??ELSE1024:
	ld	a,(??AUTO+6)
	cp	11H
	jp	c,??ELSE1026
	ld	a,(??AUTO+6)
	cp	1AH
	jp	c,??SKIP1028
	jp	z,??SKIP1028
	JR ??ELSE1026
??SKIP1028:
	ld	a,(??AUTO+6)
	sub	11H
	ld	l,a
	ld	h,0
	call	EMITNUM
	ld	a,30H
	ld	(PREVTOK),a
	JR ??ENDIF1027
??ELSE1026:
??ENDIF1027:
??ENDIF1025:
??ENDIF1023:
??ENDIF1021:
??ENDIF1019:
??ENDIF1016:
??ENDIF1012:
??ENDIF1009:
??ENDIF1005:
??ENDIF1000:
??ENDIF0998:
	ld	hl,(BASPOS)
	inc	hl
	ld	(BASPOS),hl
	jp	??WHILE0995
??WEND0996:
	ret

; Module: MODULE

	public	DETOKENIZEBASIC
; Procedure DETOKENIZEBASIC
DETOKENIZEBASIC:
	call	INITBAS
	ld	hl,(INBUFPTR)
	ld	a,(hl)
	cp	0FEH
	jp	nz,??ENDIF1030
	call	UNPROTECT
??ENDIF1030:
	ld	hl,1
	ld	(BASPOS),hl
	ld	hl,0
	ld	(OUTBUFPOS),hl
??WHILE1031:
	ld	hl,(BASPOS)
	inc	hl
	inc	hl
	inc	hl
	inc	hl
	push	hl
	ld	hl,(INBUFEND)
	ex	de,hl
	pop	hl
	call	??subde
	jp	nc,??WEND1032
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(BASPOS)
	pop	de
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	push	hl
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(BASPOS)
	inc	hl
	pop	de
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	ld	h,l
	ld	l,0
	ld	de,0
	ex	de,hl
	pop	hl
	add	hl,de
	ld	(??AUTO+10),hl
	ld	hl,(??AUTO+10)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF1034
	call	EMITCRLF
	ld	a,1
	ret
??ENDIF1034:
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(BASPOS)
	inc	hl
	inc	hl
	pop	de
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	push	hl
	ld	hl,(INBUFPTR)
	push	hl
	ld	hl,(BASPOS)
	inc	hl
	inc	hl
	inc	hl
	pop	de
	add	hl,de
	ld	a,(hl)
	ld	l,a
	ld	h,0
	ld	h,l
	ld	l,0
	ld	de,0
	ex	de,hl
	pop	hl
	add	hl,de
	ld	(??AUTO+12),hl
	ld	hl,(??AUTO+12)
	push	hl
	ld	hl,0
	ex	de,hl
	pop	hl
	call	??subde
	ld	a,l
	or	h
	jp	nz,??ENDIF1036
	call	EMITCRLF
	ld	a,1
	ret
??ENDIF1036:
	ld	hl,(??AUTO+12)
	call	EMITNUM
	ld	a,20H
	call	EMIT
	ld	a,20H
	ld	(PREVTOK),a
	ld	hl,(BASPOS)
	inc	hl
	inc	hl
	inc	hl
	inc	hl
	ld	(BASPOS),hl
	call	DETOKLINE
	call	EMITCRLF
	jp	??WHILE1031
??WEND1032:
	ld	a,1
	ret

; Module: MODULE

; Procedure DECOMPRESSFILE
DECOMPRESSFILE:
	ld	hl,0
	ld	(INBUFPOS),hl
	ld	hl,0
	ld	(INBUFEND),hl
	ld	hl,0FFFFH
	ld	(INPUTLIMIT),hl
	call	FILLINBUF
	or	a
	jp	nz,??ENDIF1038
    XOR A
	ret
??ENDIF1038:
	ld	hl,(INBUFPTR)
	ld	a,(hl)
	cp	76H
	jp	nz,??ENDIF1040
	ld	hl,(INBUFPTR)
	ld	de,1
	add	hl,de
	ld	a,(hl)
	cp	0FFH
	jp	nz,??ENDIF1040
	xor	a
	ld	(??AUTO+22),a
	ld	a,4
	ld	(??AUTO+6),a
??WHILE1041:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,(INBUFPTR)
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??WEND1042
	ld	a,(??AUTO+22)
	cp	0CH
	jp	nc,??WEND1042
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,(INBUFPTR)
	add	hl,de
	ld	a,(hl)
	ld	b,a
	ld	a,(??AUTO+22)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+22)
	add	a,1
	ld	(??AUTO+22),a
	ld	a,(??AUTO+6)
	add	a,1
	ld	(??AUTO+6),a
	JR ??WHILE1041
??WEND1042:
	xor	a
	ld	b,a
	ld	a,(??AUTO+22)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	(hl),b
	ld	hl,(OFCBPTR)
	ld	(??AUTO+150),hl
	ld	hl,24H
	ld	(??AUTO+152),hl
    XOR A
	call	FILLMEM
	xor	a
	ld	(??AUTO+6),a
	ld	a,1
	ld	(??AUTO+7),a
??WHILE1043:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??WEND1044
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
	cp	2EH
	jp	z,??WEND1044
	ld	a,(??AUTO+7)
	cp	8
	jp	c,??SKIP1045
	jp	z,??SKIP1045
	JR ??WEND1044
??SKIP1045:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
	ld	b,a
	ld	a,(??AUTO+7)
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+6)
	add	a,1
	ld	(??AUTO+6),a
	ld	a,(??AUTO+7)
	add	a,1
	ld	(??AUTO+7),a
	jp	??WHILE1043
??WEND1044:
??WHILE1046:
	ld	a,(??AUTO+7)
	cp	8
	jp	c,??SKIP1048
	jp	z,??SKIP1048
	JR ??WEND1047
??SKIP1048:
	ld	a,20H
	ld	b,a
	ld	a,(??AUTO+7)
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+7)
	add	a,1
	ld	(??AUTO+7),a
	JR ??WHILE1046
??WEND1047:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
	cp	2EH
	jp	nz,??ENDIF1050
	ld	a,(??AUTO+6)
	add	a,1
	ld	(??AUTO+6),a
	ld	a,9
	ld	(??AUTO+7),a
??WHILE1051:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??WEND1052
	ld	a,(??AUTO+7)
	cp	0BH
	jp	c,??SKIP1053
	jp	z,??SKIP1053
	JR ??WEND1052
??SKIP1053:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
	ld	b,a
	ld	a,(??AUTO+7)
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+6)
	add	a,1
	ld	(??AUTO+6),a
	ld	a,(??AUTO+7)
	add	a,1
	ld	(??AUTO+7),a
	JR ??WHILE1051
??WEND1052:
??ENDIF1050:
??WHILE1054:
	ld	a,(??AUTO+7)
	cp	0BH
	jp	c,??SKIP1056
	jp	z,??SKIP1056
	JR ??WEND1055
??SKIP1056:
	ld	a,20H
	ld	b,a
	ld	a,(??AUTO+7)
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+7)
	add	a,1
	ld	(??AUTO+7),a
	JR ??WHILE1054
??WEND1055:
	ld	hl,@DECOMPRESSFILE$MSGCREATING
	call	PRINTSTR
	xor	a
	ld	(??AUTO+6),a
??WHILE1057:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??WEND1058
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
	call	PRINTCHAR
	ld	a,(??AUTO+6)
	add	a,1
	ld	(??AUTO+6),a
	JR ??WHILE1057
??WEND1058:
	ld	hl,(OFCBPTR)
	call	DELETEFILE
	ld	hl,(OFCBPTR)
	call	MAKEFILE
	cp	0FFH
	jp	nz,??ENDIF1060
	ld	hl,??DATA1061
	call	PRINTSTR
    XOR A
	ret
??ENDIF1060:
	ld	hl,0
	ld	(OUTBUFPOS),hl
	call	UNSQUEEZE
	ld	(??AUTO+8),a
	ld	a,(??AUTO+8)
	or	a
	jp	z,??ENDIF1063
	call	FLUSHOUTBUF
	ld	(??AUTO+8),a
??ENDIF1063:
	ld	hl,(OFCBPTR)
	call	CLOSEFILE
	ld	a,(??AUTO+8)
	or	a
	jp	z,??ELSE1064
	ld	hl,@DECOMPRESSFILE$MSGOK
	call	PRINTSTR
	JR ??ENDIF1065
??ELSE1064:
	ld	hl,@DECOMPRESSFILE$MSGERR
	call	PRINTSTR
??ENDIF1065:
	call	CRLF
	ld	a,(??AUTO+8)
	ret
??ENDIF1040:
	ld	hl,(INBUFPTR)
	ld	a,(hl)
	cp	76H
	jp	nz,??ENDIF1067
	ld	hl,(INBUFPTR)
	ld	de,1
	add	hl,de
	ld	a,(hl)
	cp	0FEH
	jp	nz,??ENDIF1067
	xor	a
	ld	(??AUTO+22),a
	ld	a,2
	ld	(??AUTO+6),a
??WHILE1068:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,(INBUFPTR)
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??WEND1069
	ld	a,(??AUTO+22)
	cp	0CH
	jp	nc,??WEND1069
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,(INBUFPTR)
	add	hl,de
	ld	a,(hl)
	ld	b,a
	ld	a,(??AUTO+22)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+22)
	add	a,1
	ld	(??AUTO+22),a
	ld	a,(??AUTO+6)
	add	a,1
	ld	(??AUTO+6),a
	JR ??WHILE1068
??WEND1069:
	xor	a
	ld	b,a
	ld	a,(??AUTO+22)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+6)
	add	a,2
	ld	l,a
	ld	h,0
	ld	de,(INBUFPTR)
	add	hl,de
	ld	a,(hl)
	ld	(??AUTO+23),a
	ld	hl,(OFCBPTR)
	ld	(??AUTO+150),hl
	ld	hl,24H
	ld	(??AUTO+152),hl
    XOR A
	call	FILLMEM
	xor	a
	ld	(??AUTO+6),a
	ld	a,1
	ld	(??AUTO+7),a
??WHILE1070:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??WEND1071
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
	cp	2EH
	jp	z,??WEND1071
	ld	a,(??AUTO+7)
	cp	8
	jp	c,??SKIP1072
	jp	z,??SKIP1072
	JR ??WEND1071
??SKIP1072:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
	ld	b,a
	ld	a,(??AUTO+7)
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+6)
	add	a,1
	ld	(??AUTO+6),a
	ld	a,(??AUTO+7)
	add	a,1
	ld	(??AUTO+7),a
	jp	??WHILE1070
??WEND1071:
??WHILE1073:
	ld	a,(??AUTO+7)
	cp	8
	jp	c,??SKIP1075
	jp	z,??SKIP1075
	JR ??WEND1074
??SKIP1075:
	ld	a,20H
	ld	b,a
	ld	a,(??AUTO+7)
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+7)
	add	a,1
	ld	(??AUTO+7),a
	JR ??WHILE1073
??WEND1074:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
	cp	2EH
	jp	nz,??ENDIF1077
	ld	a,(??AUTO+6)
	add	a,1
	ld	(??AUTO+6),a
	ld	a,9
	ld	(??AUTO+7),a
??WHILE1078:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??WEND1079
	ld	a,(??AUTO+7)
	cp	0BH
	jp	c,??SKIP1080
	jp	z,??SKIP1080
	JR ??WEND1079
??SKIP1080:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
	ld	b,a
	ld	a,(??AUTO+7)
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+6)
	add	a,1
	ld	(??AUTO+6),a
	ld	a,(??AUTO+7)
	add	a,1
	ld	(??AUTO+7),a
	JR ??WHILE1078
??WEND1079:
??ENDIF1077:
??WHILE1081:
	ld	a,(??AUTO+7)
	cp	0BH
	jp	c,??SKIP1083
	jp	z,??SKIP1083
	JR ??WEND1082
??SKIP1083:
	ld	a,20H
	ld	b,a
	ld	a,(??AUTO+7)
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+7)
	add	a,1
	ld	(??AUTO+7),a
	JR ??WHILE1081
??WEND1082:
	ld	hl,@DECOMPRESSFILE$MSGCREATING
	call	PRINTSTR
	xor	a
	ld	(??AUTO+6),a
??WHILE1084:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??WEND1085
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
	call	PRINTCHAR
	ld	a,(??AUTO+6)
	add	a,1
	ld	(??AUTO+6),a
	JR ??WHILE1084
??WEND1085:
	ld	a,(??AUTO+23)
	cp	20H
	jp	c,??ELSE1086
	ld	hl,??DATA1088
	call	PRINTSTR
	JR ??ENDIF1087
??ELSE1086:
	ld	hl,??DATA1089
	call	PRINTSTR
??ENDIF1087:
	ld	hl,(OFCBPTR)
	call	DELETEFILE
	ld	hl,(OFCBPTR)
	call	MAKEFILE
	cp	0FFH
	jp	nz,??ENDIF1091
	ld	hl,??DATA1092
	call	PRINTSTR
    XOR A
	ret
??ENDIF1091:
	ld	hl,0
	ld	(OUTBUFPOS),hl
	call	UNCRUNCH
	ld	(??AUTO+8),a
	ld	a,(??AUTO+8)
	or	a
	jp	z,??ENDIF1094
	call	FLUSHOUTBUF
	ld	(??AUTO+8),a
??ENDIF1094:
	ld	hl,(OFCBPTR)
	call	CLOSEFILE
	ld	a,(??AUTO+8)
	or	a
	jp	z,??ELSE1095
	ld	hl,@DECOMPRESSFILE$MSGOK
	call	PRINTSTR
	JR ??ENDIF1096
??ELSE1095:
	ld	hl,@DECOMPRESSFILE$MSGERR
	call	PRINTSTR
??ENDIF1096:
	call	CRLF
	ld	a,(??AUTO+8)
	ret
??ENDIF1067:
	ld	hl,(INBUFPTR)
	ld	a,(hl)
	cp	76H
	jp	nz,??ENDIF1098
	ld	hl,(INBUFPTR)
	ld	de,1
	add	hl,de
	ld	a,(hl)
	cp	0FDH
	jp	nz,??ENDIF1098
	xor	a
	ld	(??AUTO+22),a
	ld	a,2
	ld	(??AUTO+6),a
??WHILE1099:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,(INBUFPTR)
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??WEND1100
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,(INBUFPTR)
	add	hl,de
	ld	a,(hl)
	and	80H
    OR A
	jp	nz,??WEND1100
	ld	a,(??AUTO+22)
	cp	0CH
	jp	nc,??WEND1100
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,(INBUFPTR)
	add	hl,de
	ld	a,(hl)
	ld	b,a
	ld	a,(??AUTO+22)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+22)
	add	a,1
	ld	(??AUTO+22),a
	ld	a,(??AUTO+6)
	add	a,1
	ld	(??AUTO+6),a
	jp	??WHILE1099
??WEND1100:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,(INBUFPTR)
	add	hl,de
	ld	a,(hl)
	and	80H
    OR A
	jp	z,??ENDIF1102
	ld	a,(??AUTO+22)
	cp	0CH
	jp	nc,??ENDIF1102
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,(INBUFPTR)
	add	hl,de
	ld	a,(hl)
	and	7FH
	ld	b,a
	ld	a,(??AUTO+22)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+22)
	add	a,1
	ld	(??AUTO+22),a
	ld	a,(??AUTO+6)
	add	a,1
	ld	(??AUTO+6),a
??ENDIF1102:
	xor	a
	ld	b,a
	ld	a,(??AUTO+22)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	(hl),b
??WHILE1103:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,(INBUFPTR)
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??WEND1104
	ld	a,(??AUTO+6)
	add	a,1
	ld	(??AUTO+6),a
	JR ??WHILE1103
??WEND1104:
	ld	a,(??AUTO+6)
	add	a,1
	ld	l,a
	ld	h,0
	ld	de,(INBUFPTR)
	add	hl,de
	ld	a,(hl)
	ld	(??AUTO+24),a
	ld	hl,(OFCBPTR)
	ld	(??AUTO+150),hl
	ld	hl,24H
	ld	(??AUTO+152),hl
    XOR A
	call	FILLMEM
	xor	a
	ld	(??AUTO+6),a
	ld	a,1
	ld	(??AUTO+7),a
??WHILE1105:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??WEND1106
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
	cp	2EH
	jp	z,??WEND1106
	ld	a,(??AUTO+7)
	cp	8
	jp	c,??SKIP1107
	jp	z,??SKIP1107
	JR ??WEND1106
??SKIP1107:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
	ld	b,a
	ld	a,(??AUTO+7)
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+6)
	add	a,1
	ld	(??AUTO+6),a
	ld	a,(??AUTO+7)
	add	a,1
	ld	(??AUTO+7),a
	jp	??WHILE1105
??WEND1106:
??WHILE1108:
	ld	a,(??AUTO+7)
	cp	8
	jp	c,??SKIP1110
	jp	z,??SKIP1110
	JR ??WEND1109
??SKIP1110:
	ld	a,20H
	ld	b,a
	ld	a,(??AUTO+7)
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+7)
	add	a,1
	ld	(??AUTO+7),a
	JR ??WHILE1108
??WEND1109:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
	cp	2EH
	jp	nz,??ENDIF1112
	ld	a,(??AUTO+6)
	add	a,1
	ld	(??AUTO+6),a
	ld	a,9
	ld	(??AUTO+7),a
??WHILE1113:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??WEND1114
	ld	a,(??AUTO+7)
	cp	0BH
	jp	c,??SKIP1115
	jp	z,??SKIP1115
	JR ??WEND1114
??SKIP1115:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
	ld	b,a
	ld	a,(??AUTO+7)
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+6)
	add	a,1
	ld	(??AUTO+6),a
	ld	a,(??AUTO+7)
	add	a,1
	ld	(??AUTO+7),a
	JR ??WHILE1113
??WEND1114:
??ENDIF1112:
??WHILE1116:
	ld	a,(??AUTO+7)
	cp	0BH
	jp	c,??SKIP1118
	jp	z,??SKIP1118
	JR ??WEND1117
??SKIP1118:
	ld	a,20H
	ld	b,a
	ld	a,(??AUTO+7)
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	(hl),b
	ld	a,(??AUTO+7)
	add	a,1
	ld	(??AUTO+7),a
	JR ??WHILE1116
??WEND1117:
	ld	hl,@DECOMPRESSFILE$MSGCREATING
	call	PRINTSTR
	xor	a
	ld	(??AUTO+6),a
??WHILE1119:
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
    OR A
	jp	z,??WEND1120
	ld	a,(??AUTO+6)
	ld	l,a
	ld	h,0
	ld	de,??AUTO+9
	add	hl,de
	ld	a,(hl)
	call	PRINTCHAR
	ld	a,(??AUTO+6)
	add	a,1
	ld	(??AUTO+6),a
	JR ??WHILE1119
??WEND1120:
	ld	a,(??AUTO+24)
	cp	20H
	jp	c,??ELSE1121
	ld	hl,??DATA1123
	call	PRINTSTR
	JR ??ENDIF1122
??ELSE1121:
	ld	hl,??DATA1124
	call	PRINTSTR
??ENDIF1122:
	ld	hl,(OFCBPTR)
	call	DELETEFILE
	ld	hl,(OFCBPTR)
	call	MAKEFILE
	cp	0FFH
	jp	nz,??ENDIF1126
	ld	hl,??DATA1127
	call	PRINTSTR
    XOR A
	ret
??ENDIF1126:
	ld	hl,0
	ld	(OUTBUFPOS),hl
	call	UNCRLZH
	ld	(??AUTO+8),a
	ld	a,(??AUTO+8)
	or	a
	jp	z,??ENDIF1129
	call	FLUSHOUTBUF
	ld	(??AUTO+8),a
??ENDIF1129:
	ld	hl,(OFCBPTR)
	call	CLOSEFILE
	ld	a,(??AUTO+8)
	or	a
	jp	z,??ELSE1130
	ld	hl,@DECOMPRESSFILE$MSGOK
	call	PRINTSTR
	JR ??ENDIF1131
??ELSE1130:
	ld	hl,@DECOMPRESSFILE$MSGERR
	call	PRINTSTR
??ENDIF1131:
	call	CRLF
	ld	a,(??AUTO+8)
	ret
??ENDIF1098:
	ld	hl,??DATA1132
	call	PRINTSTR
	call	CRLF
    XOR A
	ret

; Module: MODULE

	public	MAIN
; Procedure MAIN
MAIN:
	ld	hl,5CH
	ld	(FCBPTR),hl
	ld	hl,80H
	ld	(DMAPTR),hl
	ld	hl,(HEAPBASE)
	ld	(??AUTO+121),hl
	ld	hl,(??AUTO+121)
	ld	(IFCBPTR),hl
	ld	hl,(IFCBPTR)
	ld	de,24H
	add	hl,de
	ld	(OFCBPTR),hl
	ld	hl,(OFCBPTR)
	ld	de,24H
	add	hl,de
	ld	(INBUFPTR),hl
	ld	hl,1000H
	ld	(INBUFSIZE),hl
	ld	hl,(INBUFPTR)
	ld	de,1000H
	add	hl,de
	ld	(OUTBUFPTR),hl
	ld	hl,1000H
	ld	(OUTBUFSIZE),hl
	ld	hl,(OUTBUFPTR)
	ld	de,1000H
	add	hl,de
	ld	(HUFFTREEPTR),hl
	ld	hl,(HUFFTREEPTR)
	ld	de,0400H
	add	hl,de
	ld	(LZWPREFIXPTR),hl
	ld	hl,(LZWPREFIXPTR)
	ld	de,2000H
	add	hl,de
	ld	(LZWSUFFIXPTR),hl
	ld	hl,(LZWSUFFIXPTR)
	ld	de,1000H
	add	hl,de
	ld	(RINGPTR),hl
	ld	hl,(RINGPTR)
	ld	de,1000H
	add	hl,de
	ld	(WORKPTR),hl
	call	CRLF
	ld	hl,@MAIN$MSGBANNER
	call	PRINTSTR
	call	CRLF
	ld	hl,(FCBPTR)
	ld	de,1
	add	hl,de
	ld	a,(hl)
	cp	20H
	jp	nz,??ENDIF1134
	call	CRLF
	ld	hl,@MAIN$MSGUSAGE
	call	PRINTSTR
	call	CRLF
	ld	hl,@MAIN$MSGFORMATS
	call	PRINTSTR
	call	CRLF
	ret
??ENDIF1134:
	ld	hl,(FCBPTR)
	ld	de,9
	add	hl,de
	ld	a,(hl)
	and	7FH
	ld	(??AUTO+112),a
	ld	hl,(FCBPTR)
	ld	de,10
	add	hl,de
	ld	a,(hl)
	and	7FH
	ld	(??AUTO+112+1),a
	ld	hl,(FCBPTR)
	ld	de,11
	add	hl,de
	ld	a,(hl)
	and	7FH
	ld	(??AUTO+112+2),a
	xor	a
	ld	(??AUTO+112+3),a
	ld	hl,(FCBPTR)
	ld	(??AUTO+123),hl
	ld	hl,(IFCBPTR)
	ld	(??AUTO+125),hl
	ld	hl,24H
	call	COPYMEM
	ld	hl,(OFCBPTR)
	ld	(??AUTO+150),hl
	ld	hl,24H
	ld	(??AUTO+152),hl
    XOR A
	call	FILLMEM
	ld	hl,(DMAPTR)
	call	SETDMAADDR
	ld	hl,(IFCBPTR)
	call	OPENFILE
	ld	(??AUTO+111),a
	ld	a,(??AUTO+111)
	cp	0FFH
	jp	nz,??ENDIF1136
	call	CRLF
	ld	hl,@MAIN$MSGNOOPEN
	call	PRINTSTR
	call	CRLF
	ret
??ENDIF1136:
	ld	hl,0
	ld	(INBUFPOS),hl
	ld	hl,0
	ld	(INBUFEND),hl
	call	FILLINBUF
	or	a
	jp	nz,??ENDIF1138
	ld	hl,(IFCBPTR)
	call	CLOSEFILE
	ret
??ENDIF1138:
	ld	hl,(INBUFPTR)
	ld	a,(hl)
	ld	(??AUTO+119),a
	ld	hl,(INBUFPTR)
	ld	de,1
	add	hl,de
	ld	a,(hl)
	ld	(??AUTO+119+1),a
	xor	a
	ld	(??AUTO+116),a
	xor	a
	ld	(??AUTO+117),a
	xor	a
	ld	(??AUTO+118),a
	ld	hl,??AUTO+119
	ld	a,(hl)
    OR A
	jp	nz,??ENDIF1140
	ld	hl,(INBUFPTR)
	ld	de,1
	add	hl,de
	ld	a,(hl)
	cp	20H
	jp	nz,??ENDIF1140
	ld	a,1
	ld	(??AUTO+116),a
??ENDIF1140:
	ld	hl,??AUTO+119
	ld	a,(hl)
	cp	1AH
	jp	nz,??ENDIF1142
	ld	hl,??AUTO+119+1
	ld	a,(hl)
	cp	1
	jp	c,??ENDIF1142
	ld	hl,??AUTO+119+1
	ld	a,(hl)
	cp	9
	jp	c,??SKIP1143
	jp	z,??SKIP1143
	JR ??ENDIF1142
??SKIP1143:
	ld	a,1
	ld	(??AUTO+117),a
??ENDIF1142:
	ld	hl,??AUTO+119
	ld	a,(hl)
	cp	0FFH
	jp	z,??ORTRUE1146
	ld	hl,??AUTO+119
	ld	a,(hl)
	cp	0FEH
	jp	nz,??ENDIF1145
??ORTRUE1146:
	ld	a,1
	ld	(??AUTO+118),a
??ENDIF1145:
	ld	hl,??AUTO+112
	ld	a,(hl)
	cp	4CH
	jp	nz,??ENDIF1148
	ld	hl,??AUTO+112+1
	ld	a,(hl)
	cp	42H
	jp	nz,??ENDIF1148
	ld	hl,??AUTO+112+2
	ld	a,(hl)
	cp	52H
	jp	nz,??ENDIF1148
	ld	a,1
	ld	(??AUTO+116),a
??ENDIF1148:
	ld	hl,??AUTO+112
	ld	a,(hl)
	cp	41H
	jp	nz,??ENDIF1150
	ld	hl,??AUTO+112+1
	ld	a,(hl)
	cp	52H
	jp	nz,??ENDIF1150
	ld	hl,??AUTO+112+2
	ld	a,(hl)
	cp	43H
	jp	nz,??ENDIF1150
	ld	a,1
	ld	(??AUTO+117),a
??ENDIF1150:
	ld	hl,??AUTO+112
	ld	a,(hl)
	cp	42H
	jp	nz,??ENDIF1152
	ld	hl,??AUTO+112+1
	ld	a,(hl)
	cp	41H
	jp	nz,??ENDIF1152
	ld	hl,??AUTO+112+2
	ld	a,(hl)
	cp	53H
	jp	nz,??ENDIF1152
	ld	a,1
	ld	(??AUTO+118),a
??ENDIF1152:
	call	CRLF
	ld	hl,@MAIN$MSGEXTRACT
	call	PRINTSTR
	call	CRLF
	xor	a
	ld	(FILECOUNT),a
	ld	hl,(IFCBPTR)
	call	CLOSEFILE
	ld	hl,(FCBPTR)
	ld	(??AUTO+123),hl
	ld	hl,(IFCBPTR)
	ld	(??AUTO+125),hl
	ld	hl,24H
	call	COPYMEM
	ld	hl,(IFCBPTR)
	call	OPENFILE
	ld	(??AUTO+111),a
	ld	a,(??AUTO+111)
	cp	0FFH
	jp	nz,??ENDIF1154
	ld	hl,@MAIN$MSGNOOPEN
	call	PRINTSTR
	call	CRLF
	ret
??ENDIF1154:
	ld	a,(??AUTO+118)
	or	a
	jp	z,??ELSE1155
	call	CRLF
	ld	hl,@MAIN$MSGDETOK
	call	PRINTSTR
	call	CRLF
	ld	hl,0
	ld	(INBUFPOS),hl
	ld	hl,0
	ld	(INBUFEND),hl
	ld	hl,0FFFFH
	ld	(INPUTLIMIT),hl
	call	FILLINBUF
	or	a
	jp	nz,??ENDIF1158
	ld	hl,@MAIN$MSGERR
	call	PRINTSTR
	call	CRLF
	ld	hl,(IFCBPTR)
	call	CLOSEFILE
	ret
??ENDIF1158:
	ld	hl,(OFCBPTR)
	ld	(??AUTO+150),hl
	ld	hl,24H
	ld	(??AUTO+152),hl
    XOR A
	call	FILLMEM
	ld	hl,1
	ld	a,l
	ld	(??AUTO+110),a
	JR ??TEST1160
??FOR1159:
	ld	a,(??AUTO+110)
	ld	l,a
	ld	h,0
	ld	de,(IFCBPTR)
	add	hl,de
	ld	a,(hl)
	ld	b,a
	ld	a,(??AUTO+110)
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	(hl),b
??INCR1161:
	ld	a,(??AUTO+110)
	inc	a
	ld	(??AUTO+110),a
??TEST1160:
	ld	a,(??AUTO+110)
	cp	9
	jr	C,??FOR1159
??NEXT1162:
	ld	a,54H
	ld	b,a
	ld	hl,(OFCBPTR)
	ld	de,9
	add	hl,de
	ld	(hl),b
	ld	a,58H
	ld	b,a
	ld	hl,(OFCBPTR)
	ld	de,10
	add	hl,de
	ld	(hl),b
	ld	a,54H
	ld	b,a
	ld	hl,(OFCBPTR)
	ld	de,11
	add	hl,de
	ld	(hl),b
	ld	hl,@MAIN$MSGCREATING
	call	PRINTSTR
	ld	hl,1
	ld	a,l
	ld	(??AUTO+110),a
	JR ??TEST1164
??FOR1163:
	ld	a,(??AUTO+110)
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	a,(hl)
	cp	20H
	jp	z,??ENDIF1168
	ld	a,(??AUTO+110)
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	a,(hl)
	call	PRINTCHAR
??ENDIF1168:
??INCR1165:
	ld	a,(??AUTO+110)
	inc	a
	ld	(??AUTO+110),a
??TEST1164:
	ld	a,(??AUTO+110)
	cp	9
	jr	C,??FOR1163
??NEXT1166:
	ld	a,2EH
	call	PRINTCHAR
	ld	hl,9
	ld	a,l
	ld	(??AUTO+110),a
	JR ??TEST1170
??FOR1169:
	ld	a,(??AUTO+110)
	ld	l,a
	ld	h,0
	ld	de,(OFCBPTR)
	add	hl,de
	ld	a,(hl)
	call	PRINTCHAR
??INCR1171:
	ld	a,(??AUTO+110)
	inc	a
	ld	(??AUTO+110),a
??TEST1170:
	ld	a,(??AUTO+110)
	cp	0CH
	jr	C,??FOR1169
??NEXT1172:
	ld	hl,(OFCBPTR)
	call	DELETEFILE
	ld	hl,(OFCBPTR)
	call	MAKEFILE
	cp	0FFH
	jp	nz,??ENDIF1174
	ld	hl,??DATA1175
	call	PRINTSTR
	call	CRLF
	ld	hl,(IFCBPTR)
	call	CLOSEFILE
	ret
??ENDIF1174:
	ld	hl,0
	ld	(OUTBUFPOS),hl
	call	DETOKENIZEBASIC
	ld	(??AUTO+111),a
	ld	a,(??AUTO+111)
	or	a
	jp	z,??ENDIF1177
	call	FLUSHOUTBUF
	ld	(??AUTO+111),a
??ENDIF1177:
	ld	hl,(OFCBPTR)
	call	CLOSEFILE
	ld	a,(??AUTO+111)
	or	a
	jp	z,??ELSE1178
	ld	hl,@MAIN$MSGOK
	call	PRINTSTR
	ld	a,1
	ld	(FILECOUNT),a
	JR ??ENDIF1179
??ELSE1178:
	ld	hl,@MAIN$MSGERR
	call	PRINTSTR
??ENDIF1179:
	call	CRLF
	jp	??ENDIF1156
??ELSE1155:
	ld	a,(??AUTO+116)
	or	a
	jp	z,??ELSE1180
	call	EXTRACTLBR
	ld	(??AUTO+111),a
	jp	??ENDIF1181
??ELSE1180:
	ld	a,(??AUTO+117)
	or	a
	jp	z,??ELSE1182
	ld	hl,0
	ld	(INBUFPOS),hl
	ld	hl,0
	ld	(INBUFEND),hl
	call	EXTRACTARC
	ld	(??AUTO+111),a
	JR ??ENDIF1183
??ELSE1182:
	ld	hl,??AUTO+119
	ld	a,(hl)
	cp	76H
	jp	z,??ORTRUE1186
	ld	hl,??AUTO+119
	ld	a,(hl)
	cp	76H
	jp	nz,??ELSE1184
??ORTRUE1186:
	ld	hl,0
	ld	(INBUFPOS),hl
	ld	hl,0
	ld	(INBUFEND),hl
	call	DECOMPRESSFILE
	ld	(??AUTO+111),a
	ld	a,(??AUTO+111)
	or	a
	jp	z,??ENDIF1188
	ld	a,1
	ld	(FILECOUNT),a
??ENDIF1188:
	JR ??ENDIF1185
??ELSE1184:
	call	EXTRACTLBR
	ld	(??AUTO+111),a
??ENDIF1185:
??ENDIF1183:
??ENDIF1181:
??ENDIF1156:
	ld	hl,(IFCBPTR)
	call	CLOSEFILE
	call	CRLF
	ld	a,(FILECOUNT)
	ld	l,a
	ld	h,0
	call	PRINTNUM
	ld	hl,@MAIN$MSGDONE
	call	PRINTSTR
	call	CRLF
	ret

; Runtime library
; PL/M-80 Runtime Library
??div16:
; 16-bit divide: HL = HL / DE, remainder in BC
; Input: HL = dividend, DE = divisor
; Output: HL = quotient, BC = remainder
; Destroys: A
	ld	a,d
	or	e
	jp	z,??div16z	; Divide by zero
	push	de		; Save divisor
	ld	bc,0		; BC = remainder = 0
	ld	a,16		; 16 bits to process
??div16l:
	push	af		; Save counter
; Shift HL left, MSB into remainder
	add	hl,hl		; HL = HL * 2, carry = old H bit 7
	ld	a,c
	rla
	ld	c,a		; C = C<<1 + carry (from HL)
	ld	a,b
	rla
	ld	b,a		; B = B<<1 + carry (from C), BC shifted left with HL carry in
; Shift carry into bit 0 of dividend (will be quotient)
; Actually we need to track if remainder >= divisor
; Compare BC with DE
	ld	a,c
	sub	e
	ld	a,b
	sbc	a,d
	jp	c,??div16n	; BC < DE, don't subtract
; BC >= DE, subtract and set quotient bit
	ld	a,c
	sub	e
	ld	c,a
	ld	a,b
	sbc	a,d
	ld	b,a
	inc	hl		; Set quotient bit
??div16n:
	pop	af		; Restore counter
	dec	a
	jp	nz,??div16l
	pop	de		; Restore divisor (not needed, but balance stack)
	ret
??div16z:
; Divide by zero - return FFFF
	ld	hl,0ffffh
	ld	bc,0
	ret
??mod16:
; 16-bit modulo: HL = HL MOD DE
; Input: HL = dividend, DE = divisor
; Output: HL = remainder
; Destroys: A, B, C
	call	??div16
	ld	h,b
	ld	l,c		; Move remainder to HL
	ret
??subde:
; 16-bit subtract: HL = HL - DE (Z80)
; Input: HL, DE
; Output: HL = HL - DE, flags set
	or	a		; Clear carry
	sbc	hl,de
	ret

; Data segment
CONOUT:	EQU	2
PRTSTR:	EQU	9
OPENF:	EQU	0FH
CLOSEF:	EQU	10H
DELETEF:	EQU	13H
READF:	EQU	14H
WRITEF:	EQU	15H
MAKEF:	EQU	16H
SETDMA:	EQU	1AH
MAGICSQLO:	EQU	0FFH
MAGICSQHI:	EQU	76H
MAGICCRLO:	EQU	0FEH
MAGICCRHI:	EQU	76H
MAGICLZHLO:	EQU	0FDH
MAGICLZHHI:	EQU	76H
ARCMARKER:	EQU	1AH
RLEMARKER:	EQU	90H
CPMEOF:	EQU	1AH
FCBPTR:	ds	2
IFCBPTR:	ds	2
OFCBPTR:	ds	2
DMAPTR:	ds	2
INBUFPTR:	ds	2
INBUFSIZE:	ds	2
INBUFPOS:	ds	2
INBUFEND:	ds	2
OUTBUFPTR:	ds	2
OUTBUFSIZE:	ds	2
OUTBUFPOS:	ds	2
BITBUFFER:	ds	2
BITSLEFT:	ds	1
HUFFTREEPTR:	ds	2
HUFFNODES:	ds	2
LZWPREFIXPTR:	ds	2
LZWSUFFIXPTR:	ds	2
LZWNEXTCODE:	ds	2
LZWCODESIZE:	ds	1
LZWMAXBITS:	ds	1
RINGPTR:	ds	2
RINGPOS:	ds	2
RINGSIZE:	EQU	1000H
RINGMASK:	EQU	0FFFH
WORKPTR:	ds	2
WORKLEN:	ds	2
FILECOUNT:	ds	1
ERRORFLAG:	ds	1
INPUTLIMIT:	ds	2
CPMEOF:	EQU	1AH
RLEMARKER:	EQU	90H
SQBITBUFFER:	ds	1
SQBITPOS:	ds	1
RLEPREV:	ds	1
RLECOUNT:	ds	1
RLEACTIVE:	ds	1
CPMEOF:	EQU	1AH
CPMEOF:	EQU	1AH
LZHN:	EQU	0800H
LZHNMASK:	EQU	07FFH
LZHF:	EQU	3CH
LZHTHRESHOLD:	EQU	2
NCHAR:	EQU	013BH
LZHT:	EQU	0275H
LZHR:	EQU	0274H
MAXFREQ:	EQU	8000H
LZHRING:	ds	2048
LZHRINGPOS:	ds	2
FREQ:	ds	1260
PRNT:	ds	1888
SON:	ds	1258
LZHPOS:	ds	2
LZHBUF:	ds	2
LZHBUFLEN:	ds	1
DCODE:	ds	256
DLEN:	ds	256
USEV2:	ds	1
CPMEOF:	EQU	1AH
ARCMARKER:	EQU	1AH
RLEMARKER:	EQU	90H
CPMEOF:	EQU	1AH
MAGICSQLO:	EQU	0FFH
MAGICSQHI:	EQU	76H
MAGICCRLO:	EQU	0FEH
MAGICCRHI:	EQU	76H
MAGICLZHLO:	EQU	0FDH
MAGICLZHHI:	EQU	76H
MBASICMAGIC:	EQU	0FFH
MBASICPROTECT:	EQU	0FEH
SINCON:	ds	14
ATNCON:	ds	12
BASPOS:	ds	2
PREVTOK:	ds	1
MAGICSQLO:	EQU	0FFH
MAGICSQHI:	EQU	76H
MAGICCRLO:	EQU	0FEH
MAGICCRHI:	EQU	76H
MAGICLZHLO:	EQU	0FDH
MAGICLZHHI:	EQU	76H
ARCMARKER:	EQU	1AH
MBASICMAGIC:	EQU	0FFH
MBASICPROT:	EQU	0FEH
CPMEOF:	EQU	1AH
@PRINTHEX$HEX:
	db	'0123456789ABCDEF'
@UNSQUEEZE$MSGSQTREE:
	db	'Bad Huffman tree$'
@EXTRACTARCMEMBER$MSGMETHOD:
	db	'Unsupported ARC method$'
??DATA0513:
	db	0DH
	db	0AH
	db	'Cannot create file$'
??DATA0530:
	db	0DH
	db	0AH
	db	'  $'
??DATA0539:
	db	' OK$'
??DATA0540:
	db	0DH
	db	0AH
	db	'  Error$'
@EXTRACTLBR$MSGBADLBR:
	db	'Invalid LBR file$'
@EXTRACTLBR$MSGNOCREAT:
	db	' - cannot create$'
@EXTRACTLBR$MSGOK:
	db	' OK$'
@EMITHEXBYTE$HEX:
	db	'0123456789ABCDEF'
@EMITHEX$HEX:
	db	'0123456789ABCDEF'
@DECOMPRESSFILE$MSGCREATING:
	db	'Creating: $'
@DECOMPRESSFILE$MSGOK:
	db	' OK$'
@DECOMPRESSFILE$MSGERR:
	db	' Error$'
??DATA1061:
	db	' - cannot create$'
??DATA1088:
	db	' [Crunch V2]$'
??DATA1089:
	db	' [Crunch V1]$'
??DATA1092:
	db	' - cannot create$'
??DATA1123:
	db	' [CrLZH V2.0]$'
??DATA1124:
	db	' [CrLZH V1.x]$'
??DATA1127:
	db	' - cannot create$'
??DATA1132:
	db	'Unknown compression format$'
@MAIN$MSGBANNER:
	db	'80UN - CP/M Archive Unpacker v2.2$'
@MAIN$MSGUSAGE:
	db	'Usage: 80UN filename$'
@MAIN$MSGFORMATS:
	db	'Supports: LBR, ARC, .?Q?, .?Z?, .?Y?, .BAS$'
@MAIN$MSGNOOPEN:
	db	'Cannot open input file$'
@MAIN$MSGEXTRACT:
	db	'Extracting:$'
@MAIN$MSGDONE:
	db	' file(s) extracted$'
@MAIN$MSGDETOK:
	db	'Detokenizing:$'
@MAIN$MSGCREATING:
	db	'Creating: $'
@MAIN$MSGOK:
	db	' OK$'
@MAIN$MSGERR:
	db	' Error$'
??DATA1175:
	db	' - cannot create$'

; Shared automatic storage (166 bytes)
??AUTO:
	ds	166

	end